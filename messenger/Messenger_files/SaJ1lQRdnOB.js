if (self.CavalryLogger) { CavalryLogger.start_js(["i7e+E"]); }

__d("MessengerLoginMode",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AUTO_LOGIN:"auto_login_mode"};}),null);
__d("XMessengerDotComLoginWithNonceController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/login\/nonce\/",{});}),null);
__d('MessengerLogin.react',['cx','fbt','Arbiter','Form','Link.react','MessengerLoginMode','MessengerSpinner.react','React','XMessengerDotComLoginWithNonceController','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m='fb_session_detecting',n='fb_session_prompt_one_click_login',o='fb_session_login_in_flight',p=1;j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.state={step:m,fbSessionData:null},this.attemptFBSessionLogin=function(){c('Form').post(c('XMessengerDotComLoginWithNonceController').getURIBuilder().getURI(),{userid:this.state.fbSessionData.userid,nonce:this.state.fbSessionData.secret,persistent:this.state.fbSessionData.persistent,next:this.props.next,initial_request_id:this.state.fbSessionData.initial_request_id});}.bind(this),this.$MessengerLogin4=function(){if(this.props.location!==p)return null;return (c('React').createElement('p',{className:"_59h8"},i._("Descargar la aplicaci\u00f3n en {ios}, {windows phone}, {android}",[i.param('ios',c('React').createElement(c('Link.react'),{href:this.props.links.ios},'iOS')),i.param('windows phone',c('React').createElement(c('Link.react'),{href:this.props.links.windows},'Windows Phone')),i.param('android',c('React').createElement(c('Link.react'),{href:this.props.links.android},'Android'))])));}.bind(this),this.$MessengerLogin3=function(){c('Arbiter').inform('messengerdotcom_show_email_form',{});},this.$MessengerLogin2=function(){this.setState({step:o,fbSessionData:this.fbSessionData});this.attemptFBSessionLogin();}.bind(this),this.$MessengerLogin1=function(){c('Arbiter').subscribeOnce('messengerdotcom_fb_session_info',function(w,x){if(x.userid==='0'){this.$MessengerLogin3();}else if(this.props.messengerLoginMode==c('MessengerLoginMode').AUTO_LOGIN){this.setState({step:o,fbSessionData:x});this.attemptFBSessionLogin();}else this.setState({step:n,fbSessionData:x});}.bind(this));}.bind(this),s;}q.prototype.componentWillMount=function(){this.$MessengerLogin1();};q.prototype.render=function(){switch(this.state.step){case m:return c('React').createElement(c('MessengerSpinner.react'),{className:"_5hy5"});case n:return c('React').createElement('div',{className:"_59h7"},c('React').createElement(c('XUIButton.react'),{className:"_5f0v _2m_r _5hy8",label:c('React').createElement('span',{className:"_2hyt"},i._("Continuar como {name}",[i.param('name',c('React').createElement('span',{className:"_2i-i"},this.state.fbSessionData.name))])),onClick:this.$MessengerLogin2,use:'confirm'}),c('React').createElement(c('Link.react'),{className:"_5hy9",onClick:this.$MessengerLogin3},i._("Cambiar de cuenta")),this.$MessengerLogin4());case o:return c('React').createElement(c('MessengerSpinner.react'),{className:"_5hy5"});default:return null;}};q.propTypes={location:l.number,next:l.string,links:l.shape({ios:l.string,windows:l.string,android:l.string}),messengerLoginMode:l.string};q.defaultProps={links:{ios:'#',windows:'#',android:'#'}};f.exports=q;}),null);
__d("XLoginMessengerDotComIFrameController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/login\/messenger_dot_com_iframe\/",{redirect_uri:{type:"String",required:true},identifier:{type:"String",required:true},initial_request_id:{type:"String",required:true}});}),null);
__d("XMessengerDotComLoginIFrameController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/login\/fb_iframe_target\/",{userid:{type:"String"},name:{type:"String"},image_uri:{type:"String"},secret:{type:"String"},persistent:{type:"Bool",defaultValue:false},initial_request_id:{type:"String",required:true}});}),null);
__d('MessengerLoginIFrame',['Arbiter','DOM','JSXDOM','URI','XLoginMessengerDotComIFrameController','XMessengerDotComLoginIFrameController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=6000;function i(k,l,m){c('DOM').appendContent(k,c('JSXDOM').iframe({src:j(l,m).toString(),width:"0",height:"0"}));c('Arbiter').subscribeOnce('messengerdotcom_fb_session_info',function(n,o){c('DOM').empty(k);});setTimeout(function(){c('Arbiter').inform('messengerdotcom_fb_session_info',{userid:'0',initial_request_id:m});},h);}function j(k,l){var m=new (c('URI'))(document.URL),n=c('XMessengerDotComLoginIFrameController').getURIBuilder().setString('initial_request_id',l).getURI().getQualifiedURI().toString(),o=c('XLoginMessengerDotComIFrameController').getURIBuilder().setString('redirect_uri',n).setString('identifier',k).setString('initial_request_id',l).getURI();return o.setDomain(m.getDomain().replace('messenger.com','facebook.com')).setPort(m.getPort()).setProtocol('https');}f.exports={init:i};}),null);
__d('MessengerLoginMount',['Arbiter','CSS','MessengerLogin.react','MessengerLoginIFrame','React','ReactDOM','ServiceWorkerRegistration'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l){c('ServiceWorkerRegistration').unregisterControllingWorker();c('ReactDOM').render(c('React').createElement(c('MessengerLogin.react'),{location:l.location,next:l.next,links:l.links,messengerLoginMode:l.messengerLoginMode}),i);c('MessengerLoginIFrame').init(j,l.identifier,l.initialRequestID);c('Arbiter').subscribeOnce('messengerdotcom_show_email_form',function(m,n){c('CSS').hide(i);c('ReactDOM').unmountComponentAtNode(i);c('CSS').show(k);});}f.exports={mount:h};}),null);
__d('ReactMultiChildUpdateTypes',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();}),null);