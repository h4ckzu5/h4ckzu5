if (self.CavalryLogger) { CavalryLogger.start_js(["0l5YZ"]); }

__d("AdPageMessageTypeEnum",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble",NON_AD:"non_ad"};}),null);
__d("CollectionCurationReferrerParamNames",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLICK_REF:"cref"};}),null);
__d("CollectionCurationReferrerTags",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={OG_COLLECTION_LINK:1,EGO_REPORT_LINK:2,EGO_REPORT_PLUS_BUTTON:3,EGO_REPORT_HEADER:4,NETEGO_COLLECTION_HEADER:5,NETEGO_COLLECTION_RATING_HEADER:6,SOCIAL_CONTEXT_FACEPILE:7,SOCIAL_PLUS_BUTTON:8,NEWSFEED_QUESTION_LINK:9,EGO_REPORT_NUX_LINK:12,NETEGO_TOP100_HEADER:13,NETEGO_TOP100_STATUSBOX:14,WELCOME_PAGE_LINK:15,SAVED_BOOKMARK:16,ENT_PAGE_ACTION_BAR:17,SAVED_COLLECTION_HEADER:18,COLLECTION_CURATION_FOOTER:19,STORY_ATTACHMENT_FOOTER:20,MOBILE_SAVE_BUTTON_FLYOUT:21,DESKTOP_SAVE_BUTTON_FLYOUT:22,MOBILE_STORY_SAVE_BUTTON_FLYOUT:23,MOBILE_NETEGO_SAVE_BUTTON_FLYOUT:24,MOBILE_PAGE_SAVE_BUTTON_FLYOUT:25,MOBILE_NETEGO_SEE_ALL_LINK:26,MOBILE_PAGE_TOAST_LINK:27,DESKTOP_SAVED_BOOKMARK:28,MOBILE_SAVED_BOOKMARK:29,REMINDER_BOX_TITLE:30,REMINDER_BOX_SEE_ALL_LINK:31,REMINDER_BOX_SEE_MORE_LINK:32,SEARCH_SHORTCUT:33,PAPER_SAVED_TAB:34,DESKTOP_SAVED_FOLLOWUP:35,MOBILE_DUMMY_STORY_SEE_ALL_LINK:36,SAVED_VIDEOS_DUMMY_STORY_SEE_ALL_LINK:37,SAVED_EMAIL_REMINDER:38,MBASIC_SAVED_BOOKMARK:39,MOBILE_PRODUCT_DETAILS_SAVE_BUTTON_FLYOUT:40,DESKTOP_PRODUCT_DETAILS_SAVE_BUTTON_FLYOUT:41,SAVED_NEAR_PLACE_NOTIF:42,SAVED_HEAVY_REMINDER_NOTIF:43,SAVED_COLLECTION_HEADER_DROPDOWN:44,SAVED_DASHBOARD_IN_APP_BROWSER:45,SAVED_DASHBOARD_ME_TAB_SEE_MORE:46,SAVED_ME_TAB_SECTION_HEADER:47,SAVED_PRODUCTS_NOTIF:48,SAVED_PLUGIN_OVERLAY:49,SAVED_NEWSFEED_ENTRY_POINT:50,AIRPORT_SAVED_PLACE_NOTIF:51,SAVED_OFF_FB_NOTIF:52,SAVED_TOAST_RECENT_ITEM_COUNT:53,VIDEO_DOWNLOAD_FINISHED_NOTIF:54,VIDEO_DOWNLOAD_QUOTA_EXCEEDED:55,DAILY_DIALOGUE_PINNED_UNIT:56,SAVED_LIGHT_REMINDER_NOTIF:57,DESKTOP_DUMMY_STORY_SEE_ALL_LINK:58,SAVED_DASHBOARD_IN_APP_BROWSER_MESSENGER:59,MESSENGER_DOT_COM_SAVE_CONFIRMATION:60,VIDEO_DOWNLOAD_LOCAL_PUSH_NOTIF:61,VIDEO_DOWNLOAD_FEED_ROW:62,INLINE_DOWNLOAD:63};}),null);
__d("ComposedBlockType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8,PULLQUOTE:9,HEADER_THREE:10,HEADER_FOUR:11,HEADER_FIVE:12,HEADER_SIX:13};}),null);
__d("ComposedEntityMutability",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2};}),null);
__d("ComposedEntityMutabilityToName",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={"0":"MUTABLE","1":"IMMUTABLE","2":"SEGMENTED"};}),null);
__d("ComposedEntityType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5,HASHTAG:6,IMPLICIT_LINK:7,EMBED:8,EMOJI:9};}),null);
__d("ComposedEntityTypeToName",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={"0":"MENTION","1":"LINK","2":"IMAGE","3":"VIDEO","4":"EMOTICON","5":"TOKEN","6":"HASHTAG","7":"IMPLICIT_LINK","8":"EMBED","9":"EMOJI"};}),null);
__d("ComposedInlineStyle",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64};}),null);
__d("IrisProtocolMessageLifetime",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TTL_OFF:0,TTL_ON_UNKNOWN:1,TTL_30SECONDS:30000,TTL_1MINUTE:60000,TTL_3MINUTES:180000,TTL_5MINUTES:300000,TTL_10MINUTES:600000,TTL_15MINUTES:900000,TTL_30MINUTES:1800000,TTL_1HOUR:3600000,TTL_2HOURS:7200000,TTL_4HOURS:14400000,TTL_8HOURS:28800000,TTL_12HOURS:43200000,TTL_24HOURS:86400000};}),null);
__d("MercuryGenericConstants",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MAX_THREAD_NAME_LENGTH:250};}),null);
__d("MercurySyncTopicType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DELTA:"delta",DELTAFLOW:"deltaflow"};}),null);
__d("MessagingEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DELETE:"delete",DELETE_MESSAGES:"delete_messages",DELIVER:"deliver",ERROR:"error",READ:"read",REPORT_SPAM:"report_spam",REPORT_SPAM_MESSAGES:"report_spam_messages",UNMARK_SPAM:"unmark_spam",SUBSCRIBE:"subscribe",CHANGE_MUTE_SETTINGS:"change_mute_settings",TAG:"tag",UNREAD:"unread",UNSUBSCRIBE:"unsubscribe",DELIVER_LOG:"deliver_log",MORE_THREADS:"more_threads",READ_ALL:"read_all",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",SENT_PUSH:"sent_push",DELIVER_FAST_PAST:"deliver_fast_path",MESSENGER_STATUS:"messenger_status",UPDATE_PINNED_THREADS:"update_pinned_threads",CHANGE_PAGE_THREAD_FLAG:"change_page_thread_flag",CREATE_PAGE_ADMIN_NOTE:"create_page_admin_note",NO_OP:"no_op"};}),null);
__d("MessagingThreadAction",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTION_INVALID:"ACTION_INVALID",ACTION_ARCHIVED:"ACTION_ARCHIVED",ACTION_UNARCHIVED:"ACTION_UNARCHIVED"};}),null);
__d("MessagingThreadCustomizationSource",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADMIN_MSG_CHANGE_LINK:"admin_msg",THREAD_INLINE:"thread_inline",JOURNEY_PROMPT:"journey_prompt",JOURNEY_PROMPT_WRITE_IN:"journey_prompt_write_in",PROMO_LINK:"promo_link",SETTINGS:"thread_settings",USER_INFO_ACTION_SHEET:"user_info_action_sheet",ROOM_CREATION:"room_creation"};}),null);
__d("MessengerApprovalQueueTypes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={REQUESTED:"REQUESTED",REMOVED:"REMOVED"};}),null);
__d("MessengerDotComPromotionActionURL",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={turn_on_notification:"TurnOnNotification",messengerdotcom_cell_cutover_qp:"messengerdotcomCellCutoverQp"};}),null);
__d("MessengerInbox2UnitType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTIVE_NOW:"1702060250031255",ALL_CONTACTS:"181516655603694",ALL_REMAINING_THREADS:"1553637598292592",ANNOUNCEMENT:"1554751858153522",BIRTHDAYS:"444523712420688",BMR:"236766086711892",BOTSYMM:"219309241797996",BYMM:"977757422301634",CAMERA_ROLL:"1667645653518937",CONVERSATION_REQUESTS:"849346485182969",CUSTOMIZED_GROUPS:"1777531309203296",CYMK:"1773727359523460",DIRECT_M:"1632976573662274",FEATURED_STICKER_PACKS:"112107225855321",FRIEND_STORIES:"1565724067055200",GAMES_RECOMMENDATION:"527207557478641",GET_STARTED_SUGGESTED_CONTACTS:"144141402662646",GROUPS:"268379460187635",MESSAGE_REQUEST_THREADS:"1032277756851915",MESSENGER_ADS:"1257891170941846",MONTAGE_COMPOSER:"548653741981572",MULTIACCOUNT:"140931109675274",MOST_RECENT_THREADS:"1674434246165228",PHONE_ACTIVITY_USERS:"1795567067351746",PHOTO_REMINDERS:"1161184033900246",PYMM:"947827448626337",INVITE:"113246789103775",RECENTLY_ADDED_FRIENDS:"1576460689312390",RECENTLY_CLICKED_LINKS:"1570987926559251",RECENTLY_POKED:"1052007951514421",RECENT_SMS_THREADS:"1138747646163867",RECENTLY_WATCHED_VIDEOS:"1743612819204904",ROOM_SUGGESTIONS:"178585572548976",ROOMS:"1100090256693067",RTC_RECOMMENDATION:"1077149622346030",SUBSCRIPTION_CONTENTS:"1599726440337302",SUBSCRIPTION_CONTENTS_MORE:"193497917768814",SUBSCRIPTION_NUX:"1032732696802753",STALE_MESSAGES:"512235432291290",TRENDING_GIFS:"972340172846515",UNREAD_MESSAGES:"860636320720716",VIDEOS_ABOUT:"558474001020112",REMINDERS:"1836450139923369",COMBINED_DIRECT_M:"225422574547147",BIRTHDAYS_DIRECT_M:"1606134436356580",MESSENGER_EVENTS_DIRECT_M:"978540982268714",MY_FB_EVENTS_DIRECT_M:"1832813540335901"};}),null);
__d("MessengerRedirectSource",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FB:"fb"};}),null);
__d("MNCommerceErrors",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALREADY_UNLINKED:1893001};}),null);
__d("MNCommerceReplyTypes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMERCE_LINK:2,COMMERCE_UNLINK:3};}),null);
__d("P2PPaymentLogMessageSubtype",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SENT_IN_GROUP:"sent_in_group",CANCELED_SENDER_RISK:"canceled_sender_risk",CANCELED_DECLINED:"canceled_declined",CANCELED_RECIPIENT_RISK:"canceled_recipient_risk",CANCELED_EXPIRED:"canceled_expired",CANCELED_SAME_CARD:"canceled_same_card",CANCELED_CUSTOMER_SERVICE:"canceled_customer_service",CANCELED_CHARGEBACK:"canceled_chargeback",CANCELED_SYSTEM_FAIL:"canceled_system_fail",REQUEST_CANCELED_BY_REQUESTER:"request_canceled_by_requester",REQUEST_DECLINED_BY_REQUESTEE:"request_declined_by_requestee",REQUEST_EXPIRED:"request_expired"};}),null);
__d("PagesMessagingEventType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FLAG:1,CREATE_ADMIN_NOTE:2,PRIORITY_UPDATE:3};}),null);
__d("SavedStateActions",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:"NONE",SAVE:"SAVE",UNSAVE:"UNSAVE",ARCHIVE:"ARCHIVE",UNARCHIVE:"UNARCHIVE",REMOVE_FROM_ARCHIVE:"REMOVE_FROM_ARCHIVE"};}),null);
__d("SupportedFBEmoji",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={"1f004":1,"1f0cf":1,"1f170":1,"1f171":1,"1f17e":1,"1f17f":1,"1f18e":1,"1f191":1,"1f192":1,"1f193":1,"1f194":1,"1f195":1,"1f196":1,"1f197":1,"1f198":1,"1f199":1,"1f19a":1,"1f1e6":1,"1f1e6_1f1e8":1,"1f1e6_1f1e9":1,"1f1e6_1f1ea":1,"1f1e6_1f1eb":1,"1f1e6_1f1ec":1,"1f1e6_1f1ee":1,"1f1e6_1f1f1":1,"1f1e6_1f1f2":1,"1f1e6_1f1f4":1,"1f1e6_1f1f6":1,"1f1e6_1f1f7":1,"1f1e6_1f1f8":1,"1f1e6_1f1f9":1,"1f1e6_1f1fa":1,"1f1e6_1f1fc":1,"1f1e6_1f1fd":1,"1f1e6_1f1ff":1,"1f1e7":1,"1f1e7_1f1e6":1,"1f1e7_1f1e7":1,"1f1e7_1f1e9":1,"1f1e7_1f1ea":1,"1f1e7_1f1eb":1,"1f1e7_1f1ec":1,"1f1e7_1f1ed":1,"1f1e7_1f1ee":1,"1f1e7_1f1ef":1,"1f1e7_1f1f1":1,"1f1e7_1f1f2":1,"1f1e7_1f1f3":1,"1f1e7_1f1f4":1,"1f1e7_1f1f6":1,"1f1e7_1f1f7":1,"1f1e7_1f1f8":1,"1f1e7_1f1f9":1,"1f1e7_1f1fb":1,"1f1e7_1f1fc":1,"1f1e7_1f1fe":1,"1f1e7_1f1ff":1,"1f1e8":1,"1f1e8_1f1e6":1,"1f1e8_1f1e8":1,"1f1e8_1f1e9":1,"1f1e8_1f1eb":1,"1f1e8_1f1ec":1,"1f1e8_1f1ed":1,"1f1e8_1f1ee":1,"1f1e8_1f1f0":1,"1f1e8_1f1f1":1,"1f1e8_1f1f2":1,"1f1e8_1f1f3":1,"1f1e8_1f1f4":1,"1f1e8_1f1f5":1,"1f1e8_1f1f7":1,"1f1e8_1f1fa":1,"1f1e8_1f1fb":1,"1f1e8_1f1fc":1,"1f1e8_1f1fd":1,"1f1e8_1f1fe":1,"1f1e8_1f1ff":1,"1f1e9":1,"1f1e9_1f1ea":1,"1f1e9_1f1ec":1,"1f1e9_1f1ef":1,"1f1e9_1f1f0":1,"1f1e9_1f1f2":1,"1f1e9_1f1f4":1,"1f1e9_1f1ff":1,"1f1ea":1,"1f1ea_1f1e6":1,"1f1ea_1f1e8":1,"1f1ea_1f1ea":1,"1f1ea_1f1ec":1,"1f1ea_1f1ed":1,"1f1ea_1f1f7":1,"1f1ea_1f1f8":1,"1f1ea_1f1f9":1,"1f1ea_1f1fa":1,"1f1eb":1,"1f1eb_1f1ee":1,"1f1eb_1f1ef":1,"1f1eb_1f1f0":1,"1f1eb_1f1f2":1,"1f1eb_1f1f4":1,"1f1eb_1f1f7":1,"1f1ec":1,"1f1ec_1f1e6":1,"1f1ec_1f1e7":1,"1f1ec_1f1e9":1,"1f1ec_1f1ea":1,"1f1ec_1f1eb":1,"1f1ec_1f1ec":1,"1f1ec_1f1ed":1,"1f1ec_1f1ee":1,"1f1ec_1f1f1":1,"1f1ec_1f1f2":1,"1f1ec_1f1f3":1,"1f1ec_1f1f5":1,"1f1ec_1f1f6":1,"1f1ec_1f1f7":1,"1f1ec_1f1f8":1,"1f1ec_1f1f9":1,"1f1ec_1f1fa":1,"1f1ec_1f1fc":1,"1f1ec_1f1fe":1,"1f1ed":1,"1f1ed_1f1f0":1,"1f1ed_1f1f2":1,"1f1ed_1f1f3":1,"1f1ed_1f1f7":1,"1f1ed_1f1f9":1,"1f1ed_1f1fa":1,"1f1ee":1,"1f1ee_1f1e8":1,"1f1ee_1f1e9":1,"1f1ee_1f1ea":1,"1f1ee_1f1f1":1,"1f1ee_1f1f2":1,"1f1ee_1f1f3":1,"1f1ee_1f1f4":1,"1f1ee_1f1f6":1,"1f1ee_1f1f7":1,"1f1ee_1f1f8":1,"1f1ee_1f1f9":1,"1f1ef":1,"1f1ef_1f1ea":1,"1f1ef_1f1f2":1,"1f1ef_1f1f4":1,"1f1ef_1f1f5":1,"1f1f0":1,"1f1f0_1f1ea":1,"1f1f0_1f1ec":1,"1f1f0_1f1ed":1,"1f1f0_1f1ee":1,"1f1f0_1f1f2":1,"1f1f0_1f1f3":1,"1f1f0_1f1f5":1,"1f1f0_1f1f7":1,"1f1f0_1f1fc":1,"1f1f0_1f1fe":1,"1f1f0_1f1ff":1,"1f1f1":1,"1f1f1_1f1e6":1,"1f1f1_1f1e7":1,"1f1f1_1f1e8":1,"1f1f1_1f1ee":1,"1f1f1_1f1f0":1,"1f1f1_1f1f7":1,"1f1f1_1f1f8":1,"1f1f1_1f1f9":1,"1f1f1_1f1fa":1,"1f1f1_1f1fb":1,"1f1f1_1f1fe":1,"1f1f2":1,"1f1f2_1f1e6":1,"1f1f2_1f1e8":1,"1f1f2_1f1e9":1,"1f1f2_1f1ea":1,"1f1f2_1f1eb":1,"1f1f2_1f1ec":1,"1f1f2_1f1ed":1,"1f1f2_1f1f0":1,"1f1f2_1f1f1":1,"1f1f2_1f1f2":1,"1f1f2_1f1f3":1,"1f1f2_1f1f4":1,"1f1f2_1f1f5":1,"1f1f2_1f1f6":1,"1f1f2_1f1f7":1,"1f1f2_1f1f8":1,"1f1f2_1f1f9":1,"1f1f2_1f1fa":1,"1f1f2_1f1fb":1,"1f1f2_1f1fc":1,"1f1f2_1f1fd":1,"1f1f2_1f1fe":1,"1f1f2_1f1ff":1,"1f1f3":1,"1f1f3_1f1e6":1,"1f1f3_1f1e8":1,"1f1f3_1f1ea":1,"1f1f3_1f1eb":1,"1f1f3_1f1ec":1,"1f1f3_1f1ee":1,"1f1f3_1f1f1":1,"1f1f3_1f1f4":1,"1f1f3_1f1f5":1,"1f1f3_1f1f7":1,"1f1f3_1f1fa":1,"1f1f3_1f1ff":1,"1f1f4":1,"1f1f4_1f1f2":1,"1f1f5":1,"1f1f5_1f1e6":1,"1f1f5_1f1ea":1,"1f1f5_1f1eb":1,"1f1f5_1f1ec":1,"1f1f5_1f1ed":1,"1f1f5_1f1f0":1,"1f1f5_1f1f1":1,"1f1f5_1f1f2":1,"1f1f5_1f1f3":1,"1f1f5_1f1f7":1,"1f1f5_1f1f8":1,"1f1f5_1f1f9":1,"1f1f5_1f1fc":1,"1f1f5_1f1fe":1,"1f1f6":1,"1f1f6_1f1e6":1,"1f1f7":1,"1f1f7_1f1ea":1,"1f1f7_1f1f4":1,"1f1f7_1f1f8":1,"1f1f7_1f1fa":1,"1f1f7_1f1fc":1,"1f1f8":1,"1f1f8_1f1e6":1,"1f1f8_1f1e7":1,"1f1f8_1f1e8":1,"1f1f8_1f1e9":1,"1f1f8_1f1ea":1,"1f1f8_1f1ec":1,"1f1f8_1f1ed":1,"1f1f8_1f1ee":1,"1f1f8_1f1ef":1,"1f1f8_1f1f0":1,"1f1f8_1f1f1":1,"1f1f8_1f1f2":1,"1f1f8_1f1f3":1,"1f1f8_1f1f4":1,"1f1f8_1f1f7":1,"1f1f8_1f1f8":1,"1f1f8_1f1f9":1,"1f1f8_1f1fb":1,"1f1f8_1f1fd":1,"1f1f8_1f1fe":1,"1f1f8_1f1ff":1,"1f1f9":1,"1f1f9_1f1e6":1,"1f1f9_1f1e8":1,"1f1f9_1f1e9":1,"1f1f9_1f1eb":1,"1f1f9_1f1ec":1,"1f1f9_1f1ed":1,"1f1f9_1f1ef":1,"1f1f9_1f1f0":1,"1f1f9_1f1f1":1,"1f1f9_1f1f2":1,"1f1f9_1f1f3":1,"1f1f9_1f1f4":1,"1f1f9_1f1f7":1,"1f1f9_1f1f9":1,"1f1f9_1f1fb":1,"1f1f9_1f1fc":1,"1f1f9_1f1ff":1,"1f1fa":1,"1f1fa_1f1e6":1,"1f1fa_1f1ec":1,"1f1fa_1f1f2":1,"1f1fa_1f1f8":1,"1f1fa_1f1fe":1,"1f1fa_1f1ff":1,"1f1fb":1,"1f1fb_1f1e6":1,"1f1fb_1f1e8":1,"1f1fb_1f1ea":1,"1f1fb_1f1ec":1,"1f1fb_1f1ee":1,"1f1fb_1f1f3":1,"1f1fb_1f1fa":1,"1f1fc":1,"1f1fc_1f1eb":1,"1f1fc_1f1f8":1,"1f1fd":1,"1f1fd_1f1f0":1,"1f1fe":1,"1f1fe_1f1ea":1,"1f1fe_1f1f9":1,"1f1ff":1,"1f1ff_1f1e6":1,"1f1ff_1f1f2":1,"1f1ff_1f1fc":1,"1f201":1,"1f202":1,"1f21a":1,"1f22f":1,"1f232":1,"1f233":1,"1f234":1,"1f235":1,"1f236":1,"1f237":1,"1f238":1,"1f239":1,"1f23a":1,"1f250":1,"1f251":1,"1f300":1,"1f301":1,"1f302":1,"1f303":1,"1f304":1,"1f305":1,"1f306":1,"1f307":1,"1f308":1,"1f309":1,"1f30a":1,"1f30b":1,"1f30c":1,"1f30d":1,"1f30e":1,"1f30f":1,"1f310":1,"1f311":1,"1f312":1,"1f313":1,"1f313_20":1,"1f314":1,"1f315":1,"1f316":1,"1f317":1,"1f318":1,"1f319":1,"1f31a":1,"1f31b":1,"1f31c":1,"1f31d":1,"1f31e":1,"1f31f":1,"1f320":1,"1f321":1,"1f324":1,"1f325":1,"1f326":1,"1f327":1,"1f328":1,"1f329":1,"1f32a":1,"1f32b":1,"1f32d":1,"1f32e":1,"1f32f":1,"1f330":1,"1f331":1,"1f332":1,"1f333":1,"1f334":1,"1f335":1,"1f336":1,"1f337":1,"1f338":1,"1f339":1,"1f33a":1,"1f33b":1,"1f33c":1,"1f33d":1,"1f33e":1,"1f33f":1,"1f340":1,"1f341":1,"1f342":1,"1f343":1,"1f344":1,"1f345":1,"1f346":1,"1f347":1,"1f348":1,"1f349":1,"1f34a":1,"1f34b":1,"1f34c":1,"1f34d":1,"1f34e":1,"1f34f":1,"1f350":1,"1f351":1,"1f352":1,"1f353":1,"1f354":1,"1f356":1,"1f357":1,"1f358":1,"1f359":1,"1f35a":1,"1f35b":1,"1f35c":1,"1f35d":1,"1f35e":1,"1f35f":1,"1f360":1,"1f361":1,"1f362":1,"1f363":1,"1f364":1,"1f365":1,"1f366":1,"1f367":1,"1f368":1,"1f369":1,"1f36a":1,"1f36b":1,"1f36c":1,"1f36d":1,"1f36e":1,"1f36f":1,"1f370":1,"1f371":1,"1f372":1,"1f373":1,"1f374":1,"1f375":1,"1f376":1,"1f377":1,"1f378":1,"1f379":1,"1f37a":1,"1f37b":1,"1f37c":1,"1f37d":1,"1f37e":1,"1f37f":1,"1f380":1,"1f381":1,"1f382":1,"1f383":1,"1f384":1,"1f385":1,"1f385_1f3fb":1,"1f385_1f3fc":1,"1f385_1f3fd":1,"1f385_1f3fe":1,"1f385_1f3ff":1,"1f386":1,"1f387":1,"1f388":1,"1f389":1,"1f38a":1,"1f38b":1,"1f38c":1,"1f38d":1,"1f38e":1,"1f38f":1,"1f390":1,"1f391":1,"1f392":1,"1f393":1,"1f396":1,"1f399":1,"1f39a":1,"1f39b":1,"1f39e":1,"1f3a0":1,"1f3a1":1,"1f3a2":1,"1f3a4":1,"1f3a5":1,"1f3a6":1,"1f3a7":1,"1f3a8":1,"1f3a9":1,"1f3aa":1,"1f3ab":1,"1f3ac":1,"1f3ad":1,"1f3ae":1,"1f3af":1,"1f3b0":1,"1f3b1":1,"1f3b2":1,"1f3b3":1,"1f3b5":1,"1f3b6":1,"1f3b7":1,"1f3b8":1,"1f3ba":1,"1f3bb":1,"1f3bc":1,"1f3bd":1,"1f3be":1,"1f3bf":1,"1f3c0":1,"1f3c1":1,"1f3c2":1,"1f3c2_1f3fb":1,"1f3c2_1f3fc":1,"1f3c2_1f3fd":1,"1f3c2_1f3fe":1,"1f3c2_1f3ff":1,"1f3c3":1,"1f3c3_1f3f":1,"1f3c3_1f3fb":1,"1f3c3_1f3fb_200d_2642":1,"1f3c3_1f3fc":1,"1f3c3_1f3fc_200d_2642":1,"1f3c3_1f3fd":1,"1f3c3_1f3fd_200d_2642":1,"1f3c3_1f3fe":1,"1f3c3_1f3fe_200d_2642":1,"1f3c3_1f3ff":1,"1f3c3_1f3ff_200d_2642":1,"1f3c3_200d_2642":1,"1f3c4":1,"1f3c4_1f3fb":1,"1f3c4_1f3fb_200d_2642":1,"1f3c4_1f3fc":1,"1f3c4_1f3fc_200d_2642":1,"1f3c4_1f3fd":1,"1f3c4_1f3fd_200d_2642":1,"1f3c4_1f3fe":1,"1f3c4_1f3fe_200d_2642":1,"1f3c4_1f3ff":1,"1f3c4_1f3ff_200d_2642":1,"1f3c4_200d_2642":1,"1f3c5":1,"1f3c6":1,"1f3c7":1,"1f3c7_1f3fb":1,"1f3c7_1f3fc":1,"1f3c7_1f3fd":1,"1f3c7_1f3fe":1,"1f3c7_1f3ff":1,"1f3c8":1,"1f3c9":1,"1f3ca":1,"1f3ca_1f3fb":1,"1f3ca_1f3fb_200d_2642":1,"1f3ca_1f3fc":1,"1f3ca_1f3fc_200d_2642":1,"1f3ca_1f3fd":1,"1f3ca_1f3fd_200d_2642":1,"1f3ca_1f3fe":1,"1f3ca_1f3fe_200d_2642":1,"1f3ca_1f3ff":1,"1f3ca_1f3ff_200d_2642":1,"1f3ca_200d_2642":1,"1f3cb":1,"1f3cb_1f3fb":1,"1f3cb_1f3fb_200d_2642":1,"1f3cb_1f3fc":1,"1f3cb_1f3fc_200d_2642":1,"1f3cb_1f3fd":1,"1f3cb_1f3fd_200d_2642":1,"1f3cb_1f3fe":1,"1f3cb_1f3fe_200d_2642":1,"1f3cb_1f3ff":1,"1f3cb_1f3ff_200d_2642":1,"1f3cb_200d_2642":1,"1f3cc":1,"1f3cc_1f3fb":1,"1f3cc_1f3fb_200d_2642":1,"1f3cc_1f3fc":1,"1f3cc_1f3fc_200d_2642":1,"1f3cc_1f3fd":1,"1f3cc_1f3fd_200d_2642":1,"1f3cc_1f3fe":1,"1f3cc_1f3fe_200d_2642":1,"1f3cc_1f3ff":1,"1f3cc_1f3ff_200d_2642":1,"1f3cc_200d_2642":1,"1f3cd":1,"1f3ce":1,"1f3cf":1,"1f3d0":1,"1f3d1":1,"1f3d2":1,"1f3d3":1,"1f3d4":1,"1f3d5":1,"1f3d6":1,"1f3d9":1,"1f3da":1,"1f3dc":1,"1f3dd":1,"1f3df":1,"1f3e0":1,"1f3e1":1,"1f3e2":1,"1f3e3":1,"1f3e4":1,"1f3e5":1,"1f3e6":1,"1f3e7":1,"1f3e8":1,"1f3e9":1,"1f3ea":1,"1f3eb":1,"1f3ec":1,"1f3ed":1,"1f3ee":1,"1f3ef":1,"1f3f0":1,"1f3f3":1,"1f3f3_200d_1f308":1,"1f3f3_fe0f_200d_1f308":1,"1f3f4":1,"1f3f5":1,"1f3f7":1,"1f3f9":1,"1f3fa":1,"1f3fb":1,"1f3fc":1,"1f3fd":1,"1f3fe":1,"1f3ff":1,"1f400":1,"1f401":1,"1f402":1,"1f403":1,"1f404":1,"1f405":1,"1f406":1,"1f407":1,"1f408":1,"1f409":1,"1f40a":1,"1f40b":1,"1f40c":1,"1f40d":1,"1f40e":1,"1f40f":1,"1f410":1,"1f411":1,"1f412":1,"1f413":1,"1f414":1,"1f415":1,"1f416":1,"1f417":1,"1f418":1,"1f419":1,"1f41a":1,"1f41b":1,"1f41c":1,"1f41d":1,"1f41e":1,"1f41f":1,"1f420":1,"1f421":1,"1f422":1,"1f424":1,"1f425":1,"1f426":1,"1f427":1,"1f428":1,"1f429":1,"1f42b":1,"1f42c":1,"1f42d":1,"1f42e":1,"1f42f":1,"1f430":1,"1f431":1,"1f432":1,"1f433":1,"1f434":1,"1f435":1,"1f436":1,"1f437":1,"1f438":1,"1f439":1,"1f43a":1,"1f43b":1,"1f43c":1,"1f43d":1,"1f43e":1,"1f43f":1,"1f440":1,"1f441_200d_1f5e8":1,"1f442":1,"1f442_1f3fb":1,"1f442_1f3fc":1,"1f442_1f3fd":1,"1f442_1f3fe":1,"1f442_1f3ff":1,"1f443":1,"1f443_1f3fb":1,"1f443_1f3fc":1,"1f443_1f3fd":1,"1f443_1f3fe":1,"1f443_1f3ff":1,"1f444":1,"1f445":1,"1f446":1,"1f446_1f3fb":1,"1f446_1f3fc":1,"1f446_1f3fd":1,"1f446_1f3fe":1,"1f446_1f3ff":1,"1f447":1,"1f447_1f3fb":1,"1f447_1f3fc":1,"1f447_1f3fd":1,"1f447_1f3fe":1,"1f447_1f3ff":1,"1f448":1,"1f448_1f3fb":1,"1f448_1f3fc":1,"1f448_1f3fd":1,"1f448_1f3fe":1,"1f448_1f3ff":1,"1f449":1,"1f449_1f3fb":1,"1f449_1f3fc":1,"1f449_1f3fd":1,"1f449_1f3fe":1,"1f449_1f3ff":1,"1f44a":1,"1f44a_1f3fb":1,"1f44a_1f3fc":1,"1f44a_1f3fd":1,"1f44a_1f3fe":1,"1f44a_1f3ff":1,"1f44b":1,"1f44b_1f3fb":1,"1f44b_1f3fc":1,"1f44b_1f3fd":1,"1f44b_1f3fe":1,"1f44b_1f3ff":1,"1f44c":1,"1f44c_1f3fb":1,"1f44c_1f3fc":1,"1f44c_1f3fd":1,"1f44c_1f3fe":1,"1f44c_1f3ff":1,"1f44d":1,"1f44d_1f3fb":1,"1f44d_1f3fc":1,"1f44d_1f3fd":1,"1f44d_1f3fe":1,"1f44d_1f3ff":1,"1f44e":1,"1f44e_1f3fb":1,"1f44e_1f3fc":1,"1f44e_1f3fd":1,"1f44e_1f3fe":1,"1f44e_1f3ff":1,"1f44f":1,"1f44f_1f3fb":1,"1f44f_1f3fc":1,"1f44f_1f3fd":1,"1f44f_1f3fe":1,"1f44f_1f3ff":1,"1f450":1,"1f450_1f3fb":1,"1f450_1f3fc":1,"1f450_1f3fd":1,"1f450_1f3fe":1,"1f450_1f3ff":1,"1f451":1,"1f452":1,"1f453":1,"1f454":1,"1f455":1,"1f457":1,"1f458":1,"1f459":1,"1f45c":1,"1f45f":1,"1f460":1,"1f461":1,"1f462":1,"1f463":1,"1f464":1,"1f465":1,"1f466":1,"1f466_1f3fb":1,"1f466_1f3fc":1,"1f466_1f3fd":1,"1f466_1f3fe":1,"1f466_1f3ff":1,"1f467":1,"1f467_1f3fb":1,"1f467_1f3fc":1,"1f467_1f3fd":1,"1f467_1f3fe":1,"1f467_1f3ff":1,"1f468":1,"1f468_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_2764_200d_1f468_1f3fb":1,"1f468_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f468_1f3fb_200d_2764_fe0f_200d_1f468_1f3fb":1,"1f468_1f3fb_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fb":1,"1f468_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_2764_200d_1f468_1f3fc":1,"1f468_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f468_1f3fc_200d_2764_fe0f_200d_1f468_1f3fc":1,"1f468_1f3fc_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fc":1,"1f468_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_2764_200d_1f468_1f3fd":1,"1f468_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f468_1f3fd_200d_2764_fe0f_200d_1f468_1f3fd":1,"1f468_1f3fd_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fd":1,"1f468_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_2764_200d_1f468_1f3fe":1,"1f468_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f468_1f3fe_200d_2764_fe0f_200d_1f468_1f3fe":1,"1f468_1f3fe_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fe":1,"1f468_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_2764_200d_1f468_1f3ff":1,"1f468_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f468_1f3ff_200d_2764_fe0f_200d_1f468_1f3ff":1,"1f468_1f3ff_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3ff":1,"1f468_200d_1f468_200d_1f466":1,"1f468_200d_1f468_200d_1f466_200d_1f466":1,"1f468_200d_1f468_200d_1f467":1,"1f468_200d_1f468_200d_1f467_200d_1f466":1,"1f468_200d_1f468_200d_1f467_200d_1f467":1,"1f468_200d_1f469_200d_1f466":1,"1f468_200d_1f469_200d_1f466_200d_1f466":1,"1f468_200d_1f469_200d_1f467":1,"1f468_200d_1f469_200d_1f467_200d_1f466":1,"1f468_200d_1f469_200d_1f467_200d_1f467":1,"1f468_200d_2764_200d_1f468":1,"1f468_200d_2764_200d_1f48b_200d_1f468":1,"1f468_200d_2764_fe0f_200d_1f468":1,"1f468_200d_2764_fe0f_200d_1f48b_200d_1f468":1,"1f469":1,"1f469_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f468_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f469_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f469_1f3fb":1,"1f469_1f3fb_200d_2764_fe0f_200d_1f468_1f3fb":1,"1f469_1f3fb_200d_2764_fe0f_200d_1f469_1f3fb":1,"1f469_1f3fb_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fb":1,"1f469_1f3fb_200d_2764_fe0f_200d_1f48b_200d_1f469_1f3fb":1,"1f469_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f468_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f469_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f469_1f3fc":1,"1f469_1f3fc_200d_2764_fe0f_200d_1f468_1f3fc":1,"1f469_1f3fc_200d_2764_fe0f_200d_1f469_1f3fc":1,"1f469_1f3fc_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fc":1,"1f469_1f3fc_200d_2764_fe0f_200d_1f48b_200d_1f469_1f3fc":1,"1f469_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f468_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f469_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f469_1f3fd":1,"1f469_1f3fd_200d_2764_fe0f_200d_1f468_1f3fd":1,"1f469_1f3fd_200d_2764_fe0f_200d_1f469_1f3fd":1,"1f469_1f3fd_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fd":1,"1f469_1f3fd_200d_2764_fe0f_200d_1f48b_200d_1f469_1f3fd":1,"1f469_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f468_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f469_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f469_1f3fe":1,"1f469_1f3fe_200d_2764_fe0f_200d_1f468_1f3fe":1,"1f469_1f3fe_200d_2764_fe0f_200d_1f469_1f3fe":1,"1f469_1f3fe_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fe":1,"1f469_1f3fe_200d_2764_fe0f_200d_1f48b_200d_1f469_1f3fe":1,"1f469_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_2764_200d_1f468_1f3ff":1,"1f469_1f3ff_200d_2764_200d_1f469_1f3ff":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f469_1f3ff":1,"1f469_1f3ff_200d_2764_fe0f_200d_1f468_1f3ff":1,"1f469_1f3ff_200d_2764_fe0f_200d_1f469_1f3ff":1,"1f469_1f3ff_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3ff":1,"1f469_1f3ff_200d_2764_fe0f_200d_1f48b_200d_1f469_1f3ff":1,"1f469_200d_1f469_200d_1f466":1,"1f469_200d_1f469_200d_1f466_200d_1f466":1,"1f469_200d_1f469_200d_1f467":1,"1f469_200d_1f469_200d_1f467_200d_1f466":1,"1f469_200d_1f469_200d_1f467_200d_1f467":1,"1f469_200d_2764_200d_1f468":1,"1f469_200d_2764_200d_1f469":1,"1f469_200d_2764_200d_1f48b_200d_1f468":1,"1f469_200d_2764_200d_1f48b_200d_1f469":1,"1f469_200d_2764_fe0f_200d_1f468":1,"1f469_200d_2764_fe0f_200d_1f469":1,"1f469_200d_2764_fe0f_200d_1f48b_200d_1f468":1,"1f469_200d_2764_fe0f_200d_1f48b_200d_1f469":1,"1f46a":1,"1f46a_1f3fb":1,"1f46a_1f3fc":1,"1f46a_1f3fd":1,"1f46a_1f3fe":1,"1f46a_1f3ff":1,"1f46b":1,"1f46b_1f3fb":1,"1f46b_1f3fc":1,"1f46b_1f3fd":1,"1f46b_1f3fe":1,"1f46b_1f3ff":1,"1f46c":1,"1f46c_1f3fb":1,"1f46c_1f3fc":1,"1f46c_1f3fd":1,"1f46c_1f3fe":1,"1f46c_1f3ff":1,"1f46d":1,"1f46d_1f3fb":1,"1f46d_1f3fc":1,"1f46d_1f3fd":1,"1f46d_1f3fe":1,"1f46d_1f3ff":1,"1f46e":1,"1f46e_1f3fb":1,"1f46e_1f3fb_200d_2642":1,"1f46e_1f3fc":1,"1f46e_1f3fc_200d_2642":1,"1f46e_1f3fd":1,"1f46e_1f3fd_200d_2642":1,"1f46e_1f3fe":1,"1f46e_1f3fe_200d_2642":1,"1f46e_1f3ff":1,"1f46e_1f3ff_200d_2642":1,"1f46e_200d_2642":1,"1f46f":1,"1f46f_1f3fb":1,"1f46f_1f3fb_200d_2640":1,"1f46f_1f3fc":1,"1f46f_1f3fc_200d_2640":1,"1f46f_1f3fd":1,"1f46f_1f3fd_200d_2640":1,"1f46f_1f3fe":1,"1f46f_1f3fe_200d_2640":1,"1f46f_1f3ff":1,"1f46f_1f3ff_200d_2640":1,"1f46f_200d_2640":1,"1f470":1,"1f470_1f3fb":1,"1f470_1f3fc":1,"1f470_1f3fd":1,"1f470_1f3fe":1,"1f470_1f3ff":1,"1f471":1,"1f471_1f3fb":1,"1f471_1f3fb_200d_2642":1,"1f471_1f3fc":1,"1f471_1f3fc_200d_2642":1,"1f471_1f3fd":1,"1f471_1f3fd_200d_2642":1,"1f471_1f3fe":1,"1f471_1f3fe_200d_2642":1,"1f471_1f3ff":1,"1f471_1f3ff_200d_2642":1,"1f471_200d_2642":1,"1f472":1,"1f472_1f3fb":1,"1f472_1f3fc":1,"1f472_1f3fd":1,"1f472_1f3fe":1,"1f472_1f3ff":1,"1f473":1,"1f473_1f3fb":1,"1f473_1f3fb_200d_2642":1,"1f473_1f3fc":1,"1f473_1f3fc_200d_2642":1,"1f473_1f3fd":1,"1f473_1f3fd_200d_2642":1,"1f473_1f3fe":1,"1f473_1f3fe_200d_2642":1,"1f473_1f3ff":1,"1f473_1f3ff_200d_2642":1,"1f473_200d_2642":1,"1f474":1,"1f474_1f3fb":1,"1f474_1f3fc":1,"1f474_1f3fd":1,"1f474_1f3fe":1,"1f474_1f3ff":1,"1f475":1,"1f475_1f3fb":1,"1f475_1f3fc":1,"1f475_1f3fd":1,"1f475_1f3fe":1,"1f475_1f3ff":1,"1f476":1,"1f476_1f3fb":1,"1f476_1f3fc":1,"1f476_1f3fd":1,"1f476_1f3fe":1,"1f476_1f3ff":1,"1f477":1,"1f477_1f3fb":1,"1f477_1f3fb_200d_2642":1,"1f477_1f3fc":1,"1f477_1f3fc_200d_2642":1,"1f477_1f3fd":1,"1f477_1f3fd_200d_2642":1,"1f477_1f3fe":1,"1f477_1f3fe_200d_2642":1,"1f477_1f3ff":1,"1f477_1f3ff_200d_2642":1,"1f477_200d_2642":1,"1f478":1,"1f478_1f3fb":1,"1f478_1f3fc":1,"1f478_1f3fd":1,"1f478_1f3fe":1,"1f478_1f3ff":1,"1f479":1,"1f47a":1,"1f47b":1,"1f47c":1,"1f47c_1f3fb":1,"1f47c_1f3fc":1,"1f47c_1f3fd":1,"1f47c_1f3fe":1,"1f47c_1f3ff":1,"1f47d":1,"1f47e":1,"1f47f":1,"1f480":1,"1f481":1,"1f481_1f3fb":1,"1f481_1f3fb_200d_2640":1,"1f481_1f3fc":1,"1f481_1f3fc_200d_2640":1,"1f481_1f3fd":1,"1f481_1f3fd_200d_2640":1,"1f481_1f3fe":1,"1f481_1f3fe_200d_2640":1,"1f481_1f3ff":1,"1f481_1f3ff_200d_2640":1,"1f481_200d_2640":1,"1f482":1,"1f482_1f3fb":1,"1f482_1f3fb_200d_2642":1,"1f482_1f3fc":1,"1f482_1f3fc_200d_2642":1,"1f482_1f3fd":1,"1f482_1f3fd_200d_2642":1,"1f482_1f3fe":1,"1f482_1f3fe_200d_2642":1,"1f482_1f3ff":1,"1f482_1f3ff_200d_2642":1,"1f482_200d_2642":1,"1f483":1,"1f483_1f3fb":1,"1f483_1f3fc":1,"1f483_1f3fd":1,"1f483_1f3fe":1,"1f483_1f3ff":1,"1f484":1,"1f485":1,"1f485_1f3fb":1,"1f485_1f3fc":1,"1f485_1f3fd":1,"1f485_1f3fe":1,"1f485_1f3ff":1,"1f486":1,"1f486_1f3fb":1,"1f486_1f3fb_200d_2640":1,"1f486_1f3fc":1,"1f486_1f3fc_200d_2640":1,"1f486_1f3fd":1,"1f486_1f3fd_200d_2640":1,"1f486_1f3fe":1,"1f486_1f3fe_200d_2640":1,"1f486_1f3ff":1,"1f486_1f3ff_200d_2640":1,"1f486_200d_2640":1,"1f487":1,"1f487_1f3fb":1,"1f487_1f3fb_200d_2640":1,"1f487_1f3fc":1,"1f487_1f3fc_200d_2640":1,"1f487_1f3fd":1,"1f487_1f3fd_200d_2640":1,"1f487_1f3fe":1,"1f487_1f3fe_200d_2640":1,"1f487_1f3ff":1,"1f487_1f3ff_200d_2640":1,"1f487_200d_2640":1,"1f488":1,"1f489":1,"1f48a":1,"1f48b":1,"1f48c":1,"1f48d":1,"1f48e":1,"1f48f":1,"1f48f_1f3fb":1,"1f48f_1f3fc":1,"1f48f_1f3fd":1,"1f48f_1f3fe":1,"1f48f_1f3ff":1,"1f490":1,"1f491":1,"1f491_1f3fb":1,"1f491_1f3fc":1,"1f491_1f3fd":1,"1f491_1f3fe":1,"1f491_1f3ff":1,"1f492":1,"1f493":1,"1f494":1,"1f495":1,"1f496":1,"1f497":1,"1f498":1,"1f499":1,"1f49a":1,"1f49b":1,"1f49c":1,"1f49d":1,"1f49e":1,"1f49f":1,"1f4a0":1,"1f4a1":1,"1f4a2":1,"1f4a3":1,"1f4a4":1,"1f4a5":1,"1f4a6":1,"1f4a7":1,"1f4a8":1,"1f4a9":1,"1f4aa":1,"1f4aa_1f3fb":1,"1f4aa_1f3fc":1,"1f4aa_1f3fd":1,"1f4aa_1f3fe":1,"1f4aa_1f3ff":1,"1f4ab":1,"1f4ac":1,"1f4ad":1,"1f4ae":1,"1f4af":1,"1f4b0":1,"1f4b1":1,"1f4b2":1,"1f4b3":1,"1f4b4":1,"1f4b5":1,"1f4b6":1,"1f4b7":1,"1f4b8":1,"1f4ba":1,"1f4bb":1,"1f4bc":1,"1f4bd":1,"1f4be":1,"1f4bf":1,"1f4c0":1,"1f4c1":1,"1f4c2":1,"1f4c3":1,"1f4c4":1,"1f4c5":1,"1f4c6":1,"1f4c7":1,"1f4c8":1,"1f4c9":1,"1f4ca":1,"1f4cb":1,"1f4cc":1,"1f4cd":1,"1f4ce":1,"1f4cf":1,"1f4d0":1,"1f4d1":1,"1f4d3":1,"1f4d4":1,"1f4d5":1,"1f4d6":1,"1f4d7":1,"1f4d8":1,"1f4d9":1,"1f4da":1,"1f4db":1,"1f4dd":1,"1f4de":1,"1f4df":1,"1f4e0":1,"1f4e1":1,"1f4e2":1,"1f4e3":1,"1f4e4":1,"1f4e5":1,"1f4e6":1,"1f4e7":1,"1f4e8":1,"1f4e9":1,"1f4ea":1,"1f4eb":1,"1f4ec":1,"1f4ed":1,"1f4ee":1,"1f4ef":1,"1f4f0":1,"1f4f1":1,"1f4f2":1,"1f4f3":1,"1f4f4":1,"1f4f5":1,"1f4f6":1,"1f4f7":1,"1f4f8":1,"1f4f9":1,"1f4fa":1,"1f4fb":1,"1f4fc":1,"1f4fd":1,"1f4ff":1,"1f500":1,"1f501":1,"1f502":1,"1f503":1,"1f504":1,"1f505":1,"1f506":1,"1f508":1,"1f509":1,"1f50a":1,"1f50b":1,"1f50c":1,"1f50d":1,"1f50e":1,"1f50f":1,"1f510":1,"1f511":1,"1f512":1,"1f513":1,"1f514":1,"1f516":1,"1f517":1,"1f518":1,"1f519":1,"1f51a":1,"1f51b":1,"1f51c":1,"1f51d":1,"1f51e":1,"1f51f":1,"1f520":1,"1f521":1,"1f522":1,"1f523":1,"1f524":1,"1f525":1,"1f526":1,"1f527":1,"1f528":1,"1f529":1,"1f52a":1,"1f52b":1,"1f52c":1,"1f52d":1,"1f52e":1,"1f52f":1,"1f530":1,"1f531":1,"1f532":1,"1f533":1,"1f534":1,"1f535":1,"1f536":1,"1f537":1,"1f538":1,"1f539":1,"1f53a":1,"1f53b":1,"1f53c":1,"1f53d":1,"1f549":1,"1f54a":1,"1f54b":1,"1f54c":1,"1f54e":1,"1f550":1,"1f551":1,"1f552":1,"1f553":1,"1f554":1,"1f555":1,"1f556":1,"1f557":1,"1f558":1,"1f559":1,"1f55a":1,"1f55b":1,"1f55c":1,"1f55d":1,"1f55e":1,"1f55f":1,"1f560":1,"1f561":1,"1f562":1,"1f563":1,"1f564":1,"1f565":1,"1f566":1,"1f567":1,"1f570":1,"1f573":1,"1f574":1,"1f574_1f3fb":1,"1f574_1f3fc":1,"1f574_1f3fd":1,"1f574_1f3fe":1,"1f574_1f3ff":1,"1f575":1,"1f575_1f3fb":1,"1f575_1f3fb_200d_2642":1,"1f575_1f3fc":1,"1f575_1f3fc_200d_2642":1,"1f575_1f3fd":1,"1f575_1f3fd_200d_2642":1,"1f575_1f3fe":1,"1f575_1f3fe_200d_2642":1,"1f575_1f3ff":1,"1f575_1f3ff_200d_2642":1,"1f575_200d_2642":1,"1f576":1,"1f577":1,"1f578":1,"1f579":1,"1f57a":1,"1f57a_1f3fb":1,"1f57a_1f3fc":1,"1f57a_1f3fd":1,"1f57a_1f3fe":1,"1f57a_1f3ff":1,"1f587":1,"1f58a":1,"1f58b":1,"1f58c":1,"1f58d":1,"1f590":1,"1f590_1f3fb":1,"1f590_1f3fc":1,"1f590_1f3fd":1,"1f590_1f3fe":1,"1f590_1f3ff":1,"1f595":1,"1f595_1f3fb":1,"1f595_1f3fc":1,"1f595_1f3fd":1,"1f595_1f3fe":1,"1f595_1f3ff":1,"1f596":1,"1f596_1f3fb":1,"1f596_1f3fc":1,"1f596_1f3fd":1,"1f596_1f3fe":1,"1f596_1f3ff":1,"1f5a4":1,"1f5a5":1,"1f5a8":1,"1f5b1":1,"1f5b2":1,"1f5bc":1,"1f5c2":1,"1f5c3":1,"1f5c4":1,"1f5d1":1,"1f5d2":1,"1f5d3":1,"1f5dc":1,"1f5dd":1,"1f5de":1,"1f5e1":1,"1f5e8":1,"1f5f3":1,"1f5fa":1,"1f5fb":1,"1f5fc":1,"1f5fd":1,"1f5fe":1,"1f600":1,"1f601":1,"1f602":1,"1f603":1,"1f604":1,"1f605":1,"1f606":1,"1f607":1,"1f608":1,"1f609":1,"1f60a":1,"1f60b":1,"1f60c":1,"1f60d":1,"1f60e":1,"1f60f":1,"1f610":1,"1f611":1,"1f612":1,"1f613":1,"1f614":1,"1f615":1,"1f616":1,"1f617":1,"1f618":1,"1f619":1,"1f61a":1,"1f61b":1,"1f61c":1,"1f61d":1,"1f61e":1,"1f61f":1,"1f620":1,"1f621":1,"1f622":1,"1f623":1,"1f624":1,"1f625":1,"1f626":1,"1f627":1,"1f628":1,"1f629":1,"1f62a":1,"1f62b":1,"1f62c":1,"1f62d":1,"1f62e":1,"1f62f":1,"1f630":1,"1f631":1,"1f632":1,"1f633":1,"1f634":1,"1f635":1,"1f636":1,"1f637":1,"1f638":1,"1f639":1,"1f63a":1,"1f63b":1,"1f63c":1,"1f63d":1,"1f63e":1,"1f63f":1,"1f640":1,"1f641":1,"1f642":1,"1f643":1,"1f644":1,"1f645":1,"1f645_1f3fb":1,"1f645_1f3fb_200d_2640":1,"1f645_1f3fc":1,"1f645_1f3fc_200d_2640":1,"1f645_1f3fd":1,"1f645_1f3fd_200d_2640":1,"1f645_1f3fe":1,"1f645_1f3fe_200d_2640":1,"1f645_1f3ff":1,"1f645_1f3ff_200d_2640":1,"1f645_200d_2640":1,"1f646":1,"1f646_1f3fb":1,"1f646_1f3fb_200d_2640":1,"1f646_1f3fc":1,"1f646_1f3fc_200d_2640":1,"1f646_1f3fd":1,"1f646_1f3fd_200d_2640":1,"1f646_1f3fe":1,"1f646_1f3fe_200d_2640":1,"1f646_1f3ff":1,"1f646_1f3ff_200d_2640":1,"1f646_200d_2640":1,"1f647":1,"1f647_1f3fb":1,"1f647_1f3fb_200d_2642":1,"1f647_1f3fc":1,"1f647_1f3fc_200d_2642":1,"1f647_1f3fd":1,"1f647_1f3fd_200d_2642":1,"1f647_1f3fe":1,"1f647_1f3fe_200d_2642":1,"1f647_1f3ff":1,"1f647_1f3ff_200d_2642":1,"1f647_200d_2642":1,"1f648":1,"1f649":1,"1f64a":1,"1f64b":1,"1f64b_1f3fb":1,"1f64b_1f3fb_200d_2640":1,"1f64b_1f3fc":1,"1f64b_1f3fc_200d_2640":1,"1f64b_1f3fd":1,"1f64b_1f3fd_200d_2640":1,"1f64b_1f3fe":1,"1f64b_1f3fe_200d_2640":1,"1f64b_1f3ff":1,"1f64b_1f3ff_200d_2640":1,"1f64b_200d_2640":1,"1f64c":1,"1f64c_1f3fb":1,"1f64c_1f3fc":1,"1f64c_1f3fd":1,"1f64c_1f3fe":1,"1f64c_1f3ff":1,"1f64d":1,"1f64d_1f3fb":1,"1f64d_1f3fb_200d_2640":1,"1f64d_1f3fc":1,"1f64d_1f3fc_200d_2640":1,"1f64d_1f3fd":1,"1f64d_1f3fd_200d_2640":1,"1f64d_1f3fe":1,"1f64d_1f3fe_200d_2640":1,"1f64d_1f3ff":1,"1f64d_1f3ff_200d_2640":1,"1f64d_200d_2640":1,"1f64e":1,"1f64e_1f3fb":1,"1f64e_1f3fb_200d_2640":1,"1f64e_1f3fc":1,"1f64e_1f3fc_200d_2640":1,"1f64e_1f3fd":1,"1f64e_1f3fd_200d_2640":1,"1f64e_1f3fe":1,"1f64e_1f3fe_200d_2640":1,"1f64e_1f3ff":1,"1f64e_1f3ff_200d_2640":1,"1f64e_200d_2640":1,"1f64f":1,"1f64f_1f3fb":1,"1f64f_1f3fc":1,"1f64f_1f3fd":1,"1f64f_1f3fe":1,"1f64f_1f3ff":1,"1f680":1,"1f681":1,"1f682":1,"1f683":1,"1f684":1,"1f685":1,"1f686":1,"1f687":1,"1f688":1,"1f689":1,"1f68a":1,"1f68b":1,"1f68c":1,"1f68d":1,"1f68e":1,"1f68f":1,"1f690":1,"1f691":1,"1f692":1,"1f693":1,"1f694":1,"1f695":1,"1f696":1,"1f697":1,"1f698":1,"1f699":1,"1f69a":1,"1f69b":1,"1f69c":1,"1f69d":1,"1f69e":1,"1f69f":1,"1f6a0":1,"1f6a1":1,"1f6a2":1,"1f6a3":1,"1f6a3_1f3fb":1,"1f6a3_1f3fb_200d_2642":1,"1f6a3_1f3fc":1,"1f6a3_1f3fc_200d_2642":1,"1f6a3_1f3fd":1,"1f6a3_1f3fd_200d_2642":1,"1f6a3_1f3fe":1,"1f6a3_1f3fe_200d_2642":1,"1f6a3_1f3ff":1,"1f6a3_1f3ff_200d_2642":1,"1f6a3_200d_2642":1,"1f6a4":1,"1f6a5":1,"1f6a6":1,"1f6a7":1,"1f6a8":1,"1f6a9":1,"1f6aa":1,"1f6ab":1,"1f6ac":1,"1f6ad":1,"1f6ae":1,"1f6af":1,"1f6b0":1,"1f6b1":1,"1f6b2":1,"1f6b3":1,"1f6b4":1,"1f6b4_1f3fb":1,"1f6b4_1f3fb_200d_2642":1,"1f6b4_1f3fc":1,"1f6b4_1f3fc_200d_2642":1,"1f6b4_1f3fd":1,"1f6b4_1f3fd_200d_2642":1,"1f6b4_1f3fe":1,"1f6b4_1f3fe_200d_2642":1,"1f6b4_1f3ff":1,"1f6b4_1f3ff_200d_2642":1,"1f6b4_200d_2642":1,"1f6b5":1,"1f6b5_1f3fb":1,"1f6b5_1f3fb_200d_2642":1,"1f6b5_1f3fc":1,"1f6b5_1f3fc_200d_2642":1,"1f6b5_1f3fd":1,"1f6b5_1f3fd_200d_2642":1,"1f6b5_1f3fe":1,"1f6b5_1f3fe_200d_2642":1,"1f6b5_1f3ff":1,"1f6b5_1f3ff_200d_2642":1,"1f6b5_200d_2642":1,"1f6b6":1,"1f6b6_1f3fb":1,"1f6b6_1f3fb_200d_2642":1,"1f6b6_1f3fc":1,"1f6b6_1f3fc_200d_2642":1,"1f6b6_1f3fd":1,"1f6b6_1f3fd_200d_2642":1,"1f6b6_1f3fe":1,"1f6b6_1f3fe_200d_2642":1,"1f6b6_1f3ff":1,"1f6b6_1f3ff_200d_2642":1,"1f6b6_200d_2642":1,"1f6b7":1,"1f6b8":1,"1f6b9":1,"1f6ba":1,"1f6bb":1,"1f6bc":1,"1f6bd":1,"1f6be":1,"1f6bf":1,"1f6c0":1,"1f6c0_1f3fb":1,"1f6c0_1f3fc":1,"1f6c0_1f3fd":1,"1f6c0_1f3fe":1,"1f6c0_1f3ff":1,"1f6c1":1,"1f6c2":1,"1f6c3":1,"1f6c4":1,"1f6c5":1,"1f6cb":1,"1f6cd":1,"1f6ce":1,"1f6cf":1,"1f6d0":1,"1f6d1":1,"1f6d2":1,"1f6e0":1,"1f6e1":1,"1f6e2":1,"1f6e3":1,"1f6e4":1,"1f6e5":1,"1f6e9":1,"1f6eb":1,"1f6ec":1,"1f6f3":1,"1f6f5":1,"1f910":1,"1f911":1,"1f912":1,"1f913":1,"1f914":1,"1f915":1,"1f916":1,"1f917":1,"1f918":1,"1f918_1f3fb":1,"1f918_1f3fc":1,"1f918_1f3fd":1,"1f918_1f3fe":1,"1f918_1f3ff":1,"1f919":1,"1f919_1f3fb":1,"1f919_1f3fc":1,"1f919_1f3fd":1,"1f919_1f3fe":1,"1f919_1f3ff":1,"1f91a":1,"1f91a_1f3fb":1,"1f91a_1f3fc":1,"1f91a_1f3fd":1,"1f91a_1f3fe":1,"1f91a_1f3ff":1,"1f91b":1,"1f91b_1f3fb":1,"1f91b_1f3fc":1,"1f91b_1f3fd":1,"1f91b_1f3fe":1,"1f91b_1f3ff":1,"1f91c":1,"1f91c_1f3fb":1,"1f91c_1f3fc":1,"1f91c_1f3fd":1,"1f91c_1f3fe":1,"1f91c_1f3ff":1,"1f91d":1,"1f91d_1f3fb":1,"1f91d_1f3fc":1,"1f91d_1f3fd":1,"1f91d_1f3fe":1,"1f91d_1f3ff":1,"1f91e":1,"1f91e_1f3fb":1,"1f91e_1f3fc":1,"1f91e_1f3fd":1,"1f91e_1f3fe":1,"1f91e_1f3ff":1,"1f920":1,"1f921":1,"1f922":1,"1f923":1,"1f924":1,"1f925":1,"1f926":1,"1f926_1f3fb":1,"1f926_1f3fb_200d_2640":1,"1f926_1f3fc":1,"1f926_1f3fc_200d_2640":1,"1f926_1f3fd":1,"1f926_1f3fd_200d_2640":1,"1f926_1f3fe":1,"1f926_1f3fe_200d_2640":1,"1f926_1f3ff":1,"1f926_1f3ff_200d_2640":1,"1f926_200d_2640":1,"1f927":1,"1f930":1,"1f930_1f3fb":1,"1f930_1f3fc":1,"1f930_1f3fd":1,"1f930_1f3fe":1,"1f930_1f3ff":1,"1f933":1,"1f933_1f3fb":1,"1f933_1f3fc":1,"1f933_1f3fd":1,"1f933_1f3fe":1,"1f933_1f3ff":1,"1f934":1,"1f934_1f3fb":1,"1f934_1f3fc":1,"1f934_1f3fd":1,"1f934_1f3fe":1,"1f934_1f3ff":1,"1f935":1,"1f935_1f3fb":1,"1f935_1f3fc":1,"1f935_1f3fd":1,"1f935_1f3fe":1,"1f935_1f3ff":1,"1f936":1,"1f936_1f3fb":1,"1f936_1f3fc":1,"1f936_1f3fd":1,"1f936_1f3fe":1,"1f936_1f3ff":1,"1f937":1,"1f937_1f3fb":1,"1f937_1f3fb_200d_2640":1,"1f937_1f3fc":1,"1f937_1f3fc_200d_2640":1,"1f937_1f3fd":1,"1f937_1f3fd_200d_2640":1,"1f937_1f3fe":1,"1f937_1f3fe_200d_2640":1,"1f937_1f3ff":1,"1f937_1f3ff_200d_2640":1,"1f937_200d_2640":1,"1f938":1,"1f938_1f3fb":1,"1f938_1f3fb_200d_2640":1,"1f938_1f3fc":1,"1f938_1f3fc_200d_2640":1,"1f938_1f3fd":1,"1f938_1f3fd_200d_2640":1,"1f938_1f3fe":1,"1f938_1f3fe_200d_2640":1,"1f938_1f3ff":1,"1f938_1f3ff_200d_2640":1,"1f938_200d_2640":1,"1f939":1,"1f939_1f3fb":1,"1f939_1f3fc":1,"1f939_1f3fd":1,"1f939_1f3fe":1,"1f939_1f3ff":1,"1f93a":1,"1f93c":1,"1f93c_1f3fb":1,"1f93c_1f3fb_200d_2642":1,"1f93c_1f3fc":1,"1f93c_1f3fc_200d_2642":1,"1f93c_1f3fd":1,"1f93c_1f3fd_200d_2642":1,"1f93c_1f3fe":1,"1f93c_1f3fe_200d_2642":1,"1f93c_1f3ff":1,"1f93c_1f3ff_200d_2642":1,"1f93c_200d_2642":1,"1f93d":1,"1f93d_1f3fb":1,"1f93d_1f3fb_200d_2642":1,"1f93d_1f3fc":1,"1f93d_1f3fc_200d_2642":1,"1f93d_1f3fd":1,"1f93d_1f3fd_200d_2642":1,"1f93d_1f3fe":1,"1f93d_1f3fe_200d_2642":1,"1f93d_1f3ff":1,"1f93d_1f3ff_200d_2642":1,"1f93d_200d_2642":1,"1f93e":1,"1f93e_1f3fb":1,"1f93e_1f3fb_200d_2642":1,"1f93e_1f3fc":1,"1f93e_1f3fc_200d_2642":1,"1f93e_1f3fd":1,"1f93e_1f3fd_200d_2642":1,"1f93e_1f3fe":1,"1f93e_1f3fe_200d_2642":1,"1f93e_1f3ff":1,"1f93e_1f3ff_200d_2642":1,"1f93e_200d_2642":1,"1f940":1,"1f941":1,"1f942":1,"1f943":1,"1f944":1,"1f947":1,"1f948":1,"1f949":1,"1f94a":1,"1f950":1,"1f951":1,"1f952":1,"1f953":1,"1f954":1,"1f955":1,"1f956":1,"1f957":1,"1f958":1,"1f959":1,"1f95a":1,"1f95b":1,"1f95c":1,"1f95d":1,"1f95e":1,"1f980":1,"1f981":1,"1f982":1,"1f983":1,"1f984":1,"1f985":1,"1f986":1,"1f987":1,"1f988":1,"1f989":1,"1f98a":1,"1f98b":1,"1f98c":1,"1f98d":1,"1f98e":1,"1f98f":1,"1f990":1,"1f991":1,"1f9c0":1,"203c":1,"2049":1,"2122":1,"2139":1,"2194":1,"2195":1,"2196":1,"2197":1,"2198":1,"2199":1,"21a9":1,"21aa":1,"231a":1,"231b":1,"2328":1,"23_20e3":1,"23_fe0f_20e3":1,"23cf":1,"23e9":1,"23ea":1,"23eb":1,"23ec":1,"23ed":1,"23ee":1,"23ef":1,"23f0":1,"23f1":1,"23f2":1,"23f3":1,"23f8":1,"23f9":1,"23fa":1,"24c2":1,"25aa":1,"25ab":1,"25b6":1,"25c0":1,"25fb":1,"25fc":1,"25fd":1,"25fe":1,"2600":1,"2601":1,"2602":1,"2603":1,"2604":1,"260e":1,"2611":1,"2614":1,"2615":1,"2618":1,"261d":1,"261d_1f3fb":1,"261d_1f3fc":1,"261d_1f3fd":1,"261d_1f3fe":1,"261d_1f3ff":1,"2620":1,"2622":1,"2623":1,"2626":1,"262a":1,"262e":1,"262f":1,"2638":1,"2639":1,"263a":1,"2640":1,"2642":1,"2648":1,"2649":1,"264a":1,"264b":1,"264c":1,"264d":1,"264e":1,"264f":1,"2650":1,"2651":1,"2652":1,"2653":1,"2660":1,"2663":1,"2665":1,"2666":1,"2668":1,"267b":1,"267f":1,"2692":1,"2693":1,"2694":1,"2696":1,"2697":1,"2699":1,"269b":1,"269c":1,"26a0":1,"26a1":1,"26aa":1,"26ab":1,"26b0":1,"26b1":1,"26bd":1,"26be":1,"26c4":1,"26c5":1,"26c8":1,"26ce":1,"26cf":1,"26d3":1,"26d4":1,"26ea":1,"26f0":1,"26f1":1,"26f2":1,"26f3":1,"26f4":1,"26f5":1,"26f7":1,"26f9":1,"26f9_1f3fb":1,"26f9_1f3fb_200d_2642":1,"26f9_1f3fc":1,"26f9_1f3fc_200d_2642":1,"26f9_1f3fd":1,"26f9_1f3fd_200d_2642":1,"26f9_1f3fe":1,"26f9_1f3fe_200d_2642":1,"26f9_1f3ff":1,"26f9_1f3ff_200d_2642":1,"26f9_200d_2642":1,"26fa":1,"26fd":1,"2702":1,"2705":1,"2708":1,"2709":1,"270a":1,"270a_1f3fb":1,"270a_1f3fc":1,"270a_1f3fd":1,"270a_1f3fe":1,"270a_1f3ff":1,"270b":1,"270b_1f3fb":1,"270b_1f3fc":1,"270b_1f3fd":1,"270b_1f3fe":1,"270b_1f3ff":1,"270c":1,"270c_1f3fb":1,"270c_1f3fc":1,"270c_1f3fd":1,"270c_1f3fe":1,"270c_1f3ff":1,"270d":1,"270d_1f3fb":1,"270d_1f3fc":1,"270d_1f3fd":1,"270d_1f3fe":1,"270d_1f3ff":1,"270f":1,"2712":1,"2714":1,"2716":1,"271d":1,"2721":1,"2728":1,"2733":1,"2734":1,"2744":1,"2747":1,"274c":1,"274e":1,"2753":1,"2754":1,"2755":1,"2757":1,"2763":1,"2764":1,"2764_fe0f":1,"2795":1,"2796":1,"2797":1,"27a1":1,"27b0":1,"27bf":1,"2934":1,"2935":1,"2a_20e3":1,"2a_fe0f_20e3":1,"2b05":1,"2b06":1,"2b07":1,"2b1b":1,"2b1c":1,"2b50":1,"2b55":1,"3030":1,"303d":1,"30_20e3":1,"30_fe0f_20e3":1,"31_20e3":1,"31_fe0f_20e3":1,"3297":1,"3299":1,"32_20e3":1,"32_fe0f_20e3":1,"33_20e3":1,"33_fe0f_20e3":1,"34_20e3":1,"34_fe0f_20e3":1,"35_20e3":1,"35_fe0f_20e3":1,"36_20e3":1,"36_fe0f_20e3":1,"37_20e3":1,"37_fe0f_20e3":1,"38_20e3":1,"38_fe0f_20e3":1,"39_20e3":1,"39_fe0f_20e3":1,a9:1,ae:1};}),null);
__d('ChannelConnection',['Arbiter','ChannelConstants','ChannelManager','JSLogger','Run','SystemEvents','Visibility','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('JSLogger').create('channel_connection'),i=null,j=null,k=null,l=null,m=0,n=Object.assign(new (c('Arbiter'))(),{CONNECTED:'chat-connection/connected',RECONNECTING:'chat-connection/reconnecting',SHUTDOWN:'chat-connection/shutdown',MUTE_WARNING:'chat-connection/mute',UNMUTE_WARNING:'chat-connection/unmute'});c('Run').onBeforeUnload(function(){});function o(){if(j){clearTimeout(j);j=null;}}function p(){o();h.log('unmute_warning');n.inform(n.UNMUTE_WARNING);}function q(v){o();j=c('setTimeoutAcrossTransitions')(p,v);h.log('mute_warning',{time:v});n.inform(n.MUTE_WARNING);}function r(){if(k){clearTimeout(k);k=null;}}function s(v,w){r();if(v===c('ChannelConstants').ON_ENTER_STATE&&(w.nextState||w.state)==='pull'){if(l!==n.CONNECTED){h.log('connected');var x=!l;l=n.CONNECTED;m=0;n.inform(n.CONNECTED,{init:x});}}else if(v===c('ChannelConstants').ON_ENTER_STATE&&((w.nextState||w.state)==='ping'||!w.nextState&&w.state==='idle')){k=c('setTimeoutAcrossTransitions')(function(){var y=null;if(!(w.state==='idle'&&!w.nextState))y=w.delay||0;h.log('reconnecting',{delay:y});if(n.disconnected())h.log('reconnecting_ui',{delay:y});l=n.RECONNECTING;w.state==='idle'&&m++;if(m>1){n.inform(n.RECONNECTING,y);}else if(!w.nextState&&w.state==='idle')s(v,w);},500);}else if(v===c('ChannelConstants').ON_SHUTDOWN){h.log('shutdown',{reason:w.reason});l=n.SHUTDOWN;m=0;n.inform(n.SHUTDOWN,w.reason);}}function t(){if(c('ChannelManager').isShutdown()){s(c('ChannelConstants').ON_SHUTDOWN,c('ChannelManager')._shutdownHint);}else s(c('ChannelConstants').ON_ENTER_STATE,{state:c('ChannelManager').state,nextState:c('ChannelManager').nextState,delay:0});c('Visibility').addListener(c('Visibility').VISIBLE,n.reconnect);}c('Run').onAfterLoad(t);Object.assign(n,{disconnected:function v(){return l===n.SHUTDOWN||l===n.RECONNECTING&&!j&&m>1;},isShutdown:function v(){return l===n.SHUTDOWN;},reconnect:function v(w){if(c('ChannelManager').state==='ping'||c('ChannelManager').state==='pull'||c('ChannelManager').isShutdown())return;h.log('reconnect',{now:w});n.inform(n.RECONNECTING,0);if(!!w){if(i!==null){clearTimeout(i);i=null;}c('ChannelManager').enterState('ping!');}else if(!i)i=c('setTimeoutAcrossTransitions')(function(){c('ChannelManager').enterState('ping!');i=null;},c('ChannelConstants').CHANNEL_MANUAL_RECONNECT_DEFER_MSEC);c('ChannelManager').resetDelay();},unmuteWarning:p});function u(){c('Arbiter').subscribe([c('ChannelConstants').ON_ENTER_STATE,c('ChannelConstants').ON_SHUTDOWN],s);c('Arbiter').subscribe(c('ChannelConstants').ATTEMPT_RECONNECT,function(){if(n.disconnected())n.reconnect();});c('SystemEvents').subscribe(c('SystemEvents').TIME_TRAVEL,function(){n.reconnect();q(c('ChannelConstants').MUTE_WARNING_TIME_MSEC);});c('Run').onBeforeUnload(r,false);}c('Run').onAfterLoad(u);n.mockAfterLoad=function(){t();u();};c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(v,w){w.channel_connected=!n.disconnected();});f.exports=n;}),3);
__d('ChatProfileStore',['ChatSidebarPreloadStore'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={},i={init:function j(){c('ChatSidebarPreloadStore').onLoaded(function(k){var l=k.profiles;return l.forEach(function(m){var n=new Date(),o=m.birthdate&&n.getDate()===m.birthdate.day&&n.getMonth()+1===m.birthdate.month,p=m.profile_picture&&m.profile_picture.uri?m.profile_picture.uri:null;h[m.id]={id:m.id,is_birthday:o,thumbSrc:p,name:m.name,is_messenger_only:!!m.is_messenger_only};});});},get:function j(k){return h[k];}};f.exports=i;}),null);
__d('ChatSidebarPreloader',['AvailableListConstants','CurrentUser','WebGraphQL'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function k(l){return [l.buddy_id,c('AvailableListConstants')[l.status]].join('-');},i=function k(l){var m=l.all_participants.edges.map(function(o){return o.node.id;}),n=l.participants_to_render.edges.map(function(o){var p=o.node.messaging_actor,q=p.id,r=p.name,s=p.short_name,t=p.profile_picture;return {id:q,image_src:t?t.uri:null,name:r,short_name:s};});if(n.length>3)n=n.filter(function(o){return o.id!==c('CurrentUser').getID();}).slice(0,4);return {mercury_thread:{image_src:l.image?l.image.uri:null,name:l.name,participants:m},participants_to_render:n,text:'',uid:l.thread_key.thread_fbid};},j={onLoaded:function k(l){c('WebGraphQL').preload('ChatSidebarInitialQueryWebGraphQLPreloader').onLoaded(function(m){var n=m._,o=m.result;l({buddies:o.viewer.buddies.map(function(p){return h(p);}),groups:o.viewer.groups.edges.map(function(p){return i(p.node);}),profiles:o.viewer.profiles.map(function(p){return p.represented_profile;}).filter(function(p){return !!p;})});});}};f.exports=j;}),null);
__d('OrderedFriendsList',['AvailableListConstants','ChatProfileStore','ChatSidebarPreloadStore','MercuryIDs','PresenceStatus','SearchableEntry','ShortProfiles','WorkModeConfig','createArrayFromMixed','isValidUniqueID','InitialChatFriendsList'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=null,i={},j=[],k={};function l(r){r=String(r);return c('MercuryIDs').isValid(r)?r:c('MercuryIDs').getParticipantIDFromUserID(r);}function m(r,s){var t=c('createArrayFromMixed')(r);s(t.filter(function(u){var v=c('ShortProfiles').getNow(u);return !v||p(v)||v.is_nonfriend_messenger_contact;}));}function n(r){h=[];var s=0;r.forEach(function(t){var u=t.slice(0,-2),v=t.slice(-1);if(c('PresenceStatus').get(u)==v){h[s]=u;i[u]=s++;}});}function o(r){var s=0;r.forEach(function(t){var u=t.slice(0,-2),v=t.slice(-1);if(v==c('AvailableListConstants').ACTIVE){j[s]=u;k[u]=s++;}});}function p(r){return r.type==='friend'||c('WorkModeConfig').is_work_user&&r.type==='fb4c';}var q={contains:function r(s){return s in i;},getList:function r(s){if(h&&h.length){m(h,s);return;}c('ChatSidebarPreloadStore').onLoaded(function(t){var u=t.buddies;n(u);m(h,s);});},getSearchableEntries:function r(s,t){q.getList(function(u){c('ChatSidebarPreloadStore').onLoaded(function(v){var w=v.groups;c('ShortProfiles').getMulti(u.slice(0,s),function(x){var y=[];for(var z in x)y.push(q.normalizeProfileEntry(x[z],z));var aa=w.map(q.normalizeThreadEntry);t(y.concat(aa).filter(function(ba){return !!ba;}).sort(function(ba,ca){return ba.getOrder()-ca.getOrder();}));});});});},normalizeProfileEntry:function r(s,t){var u=s.searchTokens||[],v=s.name,w=null;return new (c('SearchableEntry'))({uniqueID:s.id||t,keywordString:u.join(' '),order:q.getRank(s.id||t),photo:s.thumbSrc,title:v,subtitle:w,type:s.type,uri:s.uri,auxiliaryData:{isMessengerUser:s.is_messenger_user}});},normalizeThreadEntry:function r(s,t){var u=s.mercury_thread,v=s.participants_to_render.map(function(aa){return babelHelpers['extends']({},aa,{id:l(aa.id)});});u.participants=u.participants.map(l);var w=s.text,x=null;if(!w)w=u.name;var y=v.map(function(aa){return aa.name;}).join(', ');if(!w){w=y;}else x=y;var z=s.uid;if(!w||!c('isValidUniqueID')(z))return null;return new (c('SearchableEntry'))({uniqueID:z,order:t,photo:u.image_src,title:w,subtitle:x,type:'thread',auxiliaryData:{participantsToRender:v,thread:u}});},getRank:function r(s){if(s in i)return i[s];return h?h.length:0;},getActiveList:function r(s){if(j.length>0){s(j);return;}q.getList(function(t){return s(t);});},getActiveRank:function r(s){return s in k?k[s]:q.getRank(s);}};(function(){var r=c('InitialChatFriendsList');if(r.shortProfiles)c('ShortProfiles').setMulti(r.shortProfiles);c('ChatSidebarPreloadStore').onLoaded(function(s){var t=s.buddies;o(t);n(t);});c('ChatProfileStore').init();})();f.exports=q;}),null);
__d('NotificationSeenState',['NotificationConstants','NotificationUpdates','createObjectFrom'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i=1,j=2,k=0,l=i,m=i|j,n=c('NotificationConstants').PayloadSourceType.INITIAL_LOAD,o={UNSEEN_AND_UNREAD:k,SEEN_BUT_UNREAD:l,SEEN_AND_READ:m};function p(s){var t=[],u=[];Object.keys(s).forEach(function(v){var w=s[v],x=h[v];h[v]=w;if(x===undefined){t.push(v);u.push(v);return;}var y=x^w;if(y&i)t.push(v);if(y&j)u.push(v);});t.length&&c('NotificationUpdates').didUpdateSeenState(t);u.length&&c('NotificationUpdates').didUpdateReadState(u);}c('NotificationUpdates').subscribe('update-notifications',function(s,t){var u=t.nodes;if(!u||!u.length)return;var v=t.payloadsource,w=c('NotificationConstants').PayloadSourceType,x=v==w.ENDPOINT,y={};t.nodes.forEach(function(z){var aa=z.alert_id;if(!x||h[aa]===undefined)y[aa]=o[z.seen_state];});p(y);});c('NotificationUpdates').subscribe('update-seen',function(s,t){if(!t.seenState)return;var u=[],v={};Object.keys(t.seenState).forEach(function(x){if(!t.seenState[x]){u.push(x);return;}var y=h[x];if(y!==undefined)v[x]=y|i;});var w=babelHelpers['extends']({},c('createObjectFrom')(u,k),v);p(w);});c('NotificationUpdates').subscribe('update-read',function(s,t){if(!t.readState)return;var u=[],v={};Object.keys(t.readState).forEach(function(x){if(t.readState[x]){u.push(x);return;}var y=h[x];if(y!==undefined){v[x]=y&~j;}else if(t.payloadsource==n)v[x]=l;});var w=babelHelpers['extends']({},c('createObjectFrom')(u,m),v);p(w);});function q(s){var t=h[s];return t;}var r={isRead:function s(t){return q(t)===m;},isSeen:function s(t){return q(t)!==k;},getUnseenCount:function s(){return r.getUnseenIDs().length;},getUnseenIDs:function s(){return Object.keys(h).filter(function(t){return h[t]===k;});},getUnreadCount:function s(){return r.getUnreadIDs().length;},getUnreadIDs:function s(){return Object.keys(h).filter(function(t){return h[t]!==m;});}};f.exports=r;}),6);
__d('MercuryAudioPlayer',['Arbiter','DOM','Event','Flash'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=200;function i(){var r=c('DOM').create('audio'),s=false;try{if(!!r.canPlayType)if(r.canPlayType('video/mp4;').replace(/^no$/,''))s=true;}finally{return s;}}function j(){return c('Flash').isAvailable();}var k=function r(){this.interval=null;this.arbiterInstance=null;this.audio=c('DOM').create('audio');c('Event').listen(this.audio,'playing',function(){this.informAttachment('playing',this.audio.currentTime);this.interval=setInterval(function(){this.informAttachment('playing',this.audio.currentTime);}.bind(this),h);}.bind(this));c('Event').listen(this.audio,'ended',function(){clearInterval(this.interval);this.informAttachment('finished');}.bind(this));};Object.assign(k.prototype,{setAudio:function r(s,t){this.audio.setAttribute('src',s);this.arbiterInstance=t;},informAttachment:function r(s,t){if(this.arbiterInstance)this.arbiterInstance.inform(s,t);},play:function r(){this.audio.play();this.informAttachment('played');},resume:function r(){this.audio.play();this.informAttachment('played');},pause:function r(){this.audio.pause();clearInterval(this.interval);this.informAttachment('paused');},getType:function r(){return 'html5';}});var l=function r(){this.src=null;this.arbiterInstance=null;var s=c('DOM').create('div');document.body.appendChild(s);this.swf=c('Flash').embed('/swf/cigars/SoundStreamPlayer.swf',s,null,{});this.interval=null;c('Arbiter').subscribe('soundstream/finished',function(){clearInterval(this.interval);this.informAttachment('finished');}.bind(this));};Object.assign(l.prototype,{setAudio:function r(s,t){this.src=s;this.arbiterInstance=t;},informAttachment:function r(s,t){if(this.arbiterInstance)this.arbiterInstance.inform(s,t);},play:function r(){this.swf.playSound(this.src);this.interval=setInterval(function(){var s=this.swf.getCurrentTime();this.informAttachment('playing',s);}.bind(this),h);this.informAttachment('played');},resume:function r(){this.swf.resume();this.informAttachment('played');},pause:function r(){clearInterval(this.interval);this.swf.pause();this.informAttachment('paused');},getType:function r(){return 'flash';}});function m(){if(i()){return new k();}else if(j())return new l();return false;}var n=null,o=null,p=0;function q(r,s){this.src=r;this.arbiterInstance=s;this.audio_id=++p;n!==null||(n=m());if(!n)return false;}Object.assign(q.prototype,{getType:function r(){if(!n){return false;}else return n.getType();},play:function r(s){if(s&&o==this.audio_id){n.resume();}else{this.pause();o=this.audio_id;n.setAudio(this.src,this.arbiterInstance);n.play();}},pause:function r(){n.pause();}});f.exports=q;}),null);
__d('MercuryAttachmentAudioClip.react',['cssVar','cx','fbt','Arbiter','ArbiterMixin','MercuryAudioPlayer','CurrentUser','JSLogger','LeftRight.react','MercuryShareAttachmentRenderLocations','React','SubscriptionsHandler','WorkModeConfig','joinClasses','messengerCustomColorUtils','shield'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l='MercuryAttachmentAudioClip/play',m='progress-bar',n=c('JSLogger').create('mercury_audio_clip'),o=c('React').createClass({displayName:'AudioClip',mixins:[c('ArbiterMixin')],propTypes:{customColor:k.string,duration:k.number,isChat:k.bool,isFromViewer:k.bool,location:k.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()),onAttachmentLoad:k.func,rootClassName:k.string,showHelp:k.bool,src:k.string.isRequired,width:k.number},getInitialState:function p(){this.logged=false;return {time:0,playing:false,started:false,duration:this.props.duration,audioPlayer:new (c('MercuryAudioPlayer'))(this.props.src,this)};},componentDidMount:function p(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this._subscriptionsHandler=new (c('SubscriptionsHandler'))();this._subscriptionsHandler.addSubscriptions(this.subscribe('playing',this.updateTime),this.subscribe('played',c('shield')(this.setState,this,{playing:true,started:true})),this.subscribe('paused',c('shield')(this.setState,this,{playing:false})),this.subscribe('finished',c('shield')(this.setState,this,{playing:false,started:false,time:this.props.duration})),c('Arbiter').subscribe(l,function(q,r){if(this.props.src!=r)this.setState({time:0});}.bind(this)));},componentWillUnmount:function p(){this._subscriptionsHandler&&this._subscriptionsHandler.release();},updateTime:function p(q,r){this.setState({time:r});},play:function p(){if(this.state.playing){this.state.audioPlayer.pause();}else{this.state.audioPlayer.play(this.state.started);c('Arbiter').inform(l,this.props.src);if(!this.logged){this.logged=true;n.log('play',{uid:c('CurrentUser').getID(),duration:this.props.duration});}}},_formatSeconds:function p(q){if(q){q=Math.round(q);var r=q%60;if(r<10)r='0'+r;var s=Math.floor(q/60);return s+':'+r;}else return null;},_renderPlayer:function p(q,r,s){var t=this.props.isFromViewer,u=this.props.isChat,v=c('WorkModeConfig').is_work_user,w=u&&t&&s!==m,x=v?"#373e4c":"#4080ff",y=s||x,z={width:q};if(w)c('messengerCustomColorUtils').customBubbleStyle(y,z);var aa=s&&s!==m&&!u?{color:s}:{};return (c('React').createElement('a',{className:"_1miz"+(' '+"_2e-1")+(' '+"_3_om")+(t&&u?' '+"_3e5f":''),href:'#',style:z,onClick:this.play},c('React').createElement('span',{className:"_1mi- _2e-2"},c('React').createElement('i',{className:"_1mi_ _2e-3"})),c('React').createElement('span',{style:aa,className:"_1mj0 _2e-4 _3oh-"},r),c('React').createElement('div',{className:"_1mj1 _2e-5"})));},render:function p(){var q=this.state.time,r=this.state.playing,s=this._formatSeconds(this.state.duration),t=this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER,u=this.props.width||170;if(t){var v=this.props.duration;if(v>10){u=240;}else if(v>5){u=200;}else if(v>2){u=160;}else u=120;}var w=null,x=Math.ceil(q*(u+2)/this.state.duration);if(t)x=Math.ceil(q*(u+24)/this.state.duration);if(this.state.audioPlayer&&this.state.audioPlayer.getType()){var y=this._renderPlayer(u,s,this.props.customColor),z=this._renderPlayer(u,s,m),aa="_1mj2"+(' '+"_2e-6")+(r&&q!==0?' '+"_1mj3":'')+(r&&q===0?' '+"_4g4x":'');w=c('React').createElement('div',{className:aa},y,c('React').createElement('div',{className:"_1mj4 _2e-7",style:{width:x}},z));}else w=c('React').createElement('div',{className:"_1mj2"},c('React').createElement('div',{className:"_1miz"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('a',{className:"_1mj5",href:this.props.src},c('React').createElement('span',{className:"_3qi6"},c('React').createElement('i',{className:"_1mj6"})),c('React').createElement('span',{className:"_1mj7"},j._("Mensaje de voz")),c('React').createElement('span',{className:"_1mj8"},s)),c('React').createElement('a',{href:this.props.src,className:"_1mj9"},c('React').createElement('i',{className:"_1mja"})))));return (c('React').createElement('div',{className:c('joinClasses')("_1mjb"+(t?' '+"_454y":''),this.props.rootClassName)},w));}});f.exports=o;}),null);
__d('HelpLink.react',['React','joinClasses','TooltipLink.react'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';return (c('React').createElement(c('TooltipLink.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,'uiHelpLink mls')}),undefined));};function j(){'use strict';h.apply(this,arguments);}j.defaultProps={href:'#'};f.exports=j;}),null);
__d('UFICreatorInfo.react',['cx','fbt','HelpLink.react','Image.react','React','URI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.getCreatorLink=function(){switch(this.props.creatorType){case 'application':case 'gray_account':case 'indirect_admin':return (c('React').createElement('a',{className:'uiLinkSubtle','data-hover':'tooltip','data-tooltip-content':this.getTooltipText()},this.props.creatorName));case 'business_admin':return (c('React').createElement('a',{className:'uiLinkSubtle',href:this.props.profileURI},this.props.creatorName));case 'direct_admin':return this.getProfileLinkWithHovercard();case 'former_admin':return (c('React').createElement('span',{className:'uiLinkSubtle'},c('React').createElement(c('Image.react'),{src:'/images/privacy/cant-see.png',width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard()));default:return (c('React').createElement('span',{className:'uiLinkSubtle'},this.props.creatorName));}}.bind(this),this.getTooltipText=function(){switch(this.props.creatorType){case 'application':return this.getApplicationText();case 'gray_account':return this.getGrayAccountText();case 'indirect_admin':return this.getIndirectAdminText();}}.bind(this),this.getProfileLinkWithHovercard=function(){if(!this.props.profileURI)return c('React').createElement('span',null,this.props.creatorName);var s=new (c('URI'))('/ajax/hovercard/user.php').setQueryData({id:this.props.creatorID}).addQueryData({type:'page_admin',extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return (c('React').createElement('a',{className:'uiLinkSubtle','data-hovercard':s,href:this.props.profileURI},this.props.creatorName));}.bind(this),this.getApplicationText=function(){switch(this.props.labelType){case 'commented':return i._("Lo coment\u00f3 alguien que usa {application}.",[i.param('application',this.props.creatorName)]);case 'edited_comment':return i._("Editada por alguien que us\u00f3 {application}.",[i.param('application',this.props.creatorName)]);case 'sent_message':return i._("Lo envi\u00f3 alguien mediante {application}.",[i.param('application',this.props.creatorName)]);case 'page_admin_note':return i._("Una persona cre\u00f3 esta nota con {application}.",[i.param('application',this.props.creatorName)]);}}.bind(this),this.getIndirectAdminText=function(){switch(this.props.labelType){case 'commented':return i._("Lo coment\u00f3 alguien de {page}.",[i.param('page',this.props.creatorName)]);case 'edited_comment':return i._("Editada por alguien de {page}.",[i.param('page',this.props.creatorName)]);case 'sent_message':return i._("Lo envi\u00f3 alguien de {page}.",[i.param('page',this.props.creatorName)]);case 'page_admin_note':return i._("Esta nota la cre\u00f3 alguien de {page}.",[i.param('page',this.props.creatorName)]);}}.bind(this),this.getGrayAccountText=function(){switch(this.props.labelType){case 'commented':return i._("Lo coment\u00f3 alguien que no tiene una cuenta personal de Facebook.");case 'edited_comment':return i._("Editada por alguien que no tiene una cuenta personal de Facebook.");case 'sent_message':return i._("Lo envi\u00f3 alguien que no tiene una cuenta personal de Facebook.");case 'page_admin_note':return i._("Esta nota la cre\u00f3 una persona que no tiene cuenta personal de Facebook.");}}.bind(this),this.getHelpText=function(){switch(this.props.labelType){case 'commented':return i._("Solo las personas que administran esta p\u00e1gina pueden ver qui\u00e9n public\u00f3 un comentario");case 'edited_comment':return i._("Solo las personas que administran esta p\u00e1gina pueden ver qui\u00e9n edit\u00f3 un comentario");case 'sent_message':return i._("Solo las personas que administran esta p\u00e1gina pueden ver qui\u00e9n envi\u00f3 un mensaje");case 'page_admin_note':return i._("Solo las personas que administran esta p\u00e1gina pueden ver qui\u00e9n crea una nota");}}.bind(this),o;}m.prototype.render=function(){var n=void 0,o=this.getCreatorLink();switch(this.props.labelType){case 'commented':n=i._("Comentado por {creator}",[i.param('creator',o)]);break;case 'edited_comment':n=i._("Editado por {creator}",[i.param('creator',o)]);break;case 'sent_message':n=i._("Enviado por {creator}",[i.param('creator',o)]);break;case 'page_admin_note':n=i._("Nota de {creator}",[i.param('creator',o)]);break;default:return;}return c('React').createElement('span',null,n,c('React').createElement(c('HelpLink.react'),{tooltip:this.getHelpText()}));};m.propTypes={creatorID:l.string.isRequired,creatorType:l.string.isRequired,creatorName:l.string.isRequired,labelType:l.string.isRequired,pageID:l.string.isRequired,profileURI:l.string};f.exports=m;}),null);
__d('PagesMessengerCreatorInfo.react',['cx','React','UFICreatorInfo.react','XUIGrayText.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('XUIGrayText.react'),{className:"_ajk"+(this.props.isNote?' '+"_45l2":''),display:'inline',shade:'light',size:'small'},c('React').createElement(c('UFICreatorInfo.react'),{creatorID:this.props.creator_info.creatorID,creatorType:this.props.creator_info.creatorType,creatorName:this.props.creator_info.creatorName,labelType:this.props.creator_info.labelType,pageID:this.props.creator_info.pageID,profileURI:this.props.creator_info.profileURI})));};function l(){i.apply(this,arguments);}l.propTypes={creator_info:k.shape({creatorID:k.string.isRequired,creatorName:k.string.isRequired,creatorType:k.string.isRequired,labelType:k.string.isRequired,pageID:k.string.isRequired,profileURI:k.string}).isRequired};f.exports=l;}),null);
__d('Clipboard',['UserAgent'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={isSupported:function i(){return (document.queryCommandSupported instanceof Function&&document.queryCommandSupported('copy')&&!c('UserAgent').isBrowser('Firefox < 41')||c('UserAgent').isBrowser('Chrome >= 43'));},copy:function i(j,k){k=k||document.body;var l=true,m=document.createElement('textarea');k.appendChild(m);m.value=j;m.select();try{l=document.execCommand('copy');}catch(n){l=false;}k.removeChild(m);return l;}};f.exports=h;}),null);
__d('FBClipboardLink.react',['cx','fbt','Clipboard','DOMContainer.react','Event','React','ReactDOM','SubscriptionsHandler','Tooltip.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={copied:false,supported:c('Clipboard').isSupported()},this.$FBClipboardLink1=null,this.$FBClipboardLink2=null,this.$FBClipboardLink4=function(s){if(s.clipboardData){s.clipboardData.setData('text/html',this.props.value);s.preventDefault();}}.bind(this),this.$FBClipboardLink5=function(){if(!this.state.supported)return 'Unsupported in this browser';if(this.state.copied)return this.props.tooltipSuccess;return this.props.tooltip;}.bind(this),this.$FBClipboardLink3=function(){if(this.$FBClipboardLink2){clearTimeout(this.$FBClipboardLink2);this.$FBClipboardLink2=null;}}.bind(this),this.$FBClipboardLink7=function(){this.$FBClipboardLink2=setTimeout(this.$FBClipboardLink8,this.props.tooltipSuccessDuration);}.bind(this),this.$FBClipboardLink6=function(event){var s=c('ReactDOM').findDOMNode(this.refs.root),t=c('Clipboard').copy(this.props.value,s);this.$FBClipboardLink3();this.setState({copied:true,supported:t});this.$FBClipboardLink7();this.props.onComplete&&this.props.onComplete(t);}.bind(this),this.$FBClipboardLink8=function(){this.$FBClipboardLink3();this.setState({copied:false});}.bind(this),o;}m.prototype.componentWillUnmount=function(){'use strict';this.$FBClipboardLink3();if(this.$FBClipboardLink1)this.$FBClipboardLink1.release();};m.prototype.componentDidMount=function(){'use strict';if(this.props.type==='html'){var n=c('ReactDOM').findDOMNode(this);this.$FBClipboardLink1=new (c('SubscriptionsHandler'))();this.$FBClipboardLink1.addSubscriptions(c('Event').listen(n,'copy',this.$FBClipboardLink4));}};m.prototype.render=function(){'use strict';var n=c('joinClasses')(this.props.className,"_xd6"),o=this.props.children||this.props.label;if(!o&&this.props.childrenDONOTUSE)o=c('React').createElement(c('DOMContainer.react'),null,this.props.childrenDONOTUSE);return c('React').createElement(c('Tooltip.react'),babelHelpers['extends']({},this.props,{ref:'root',className:n,tooltip:this.$FBClipboardLink5(),'data-pitloot-persistonclick':true,onClick:this.$FBClipboardLink6,position:this.props.position,alignH:this.props.alignment}),c('React').createElement('div',{ref:'content',className:"_xd7"},o));};m.propTypes={type:l.string,label:l.node,value:l.node.isRequired,tooltip:l.node,tooltipSuccess:l.node,tooltipSuccessDuration:l.number,onComplete:l.func,position:l.oneOf(['above','below','left','right']),alignment:l.oneOf(['left','center','right'])};m.defaultProps={tooltip:i._("Copy Text to Clipboard"),tooltipSuccess:i._("Texto copiado en el portapapeles"),tooltipSuccessDuration:1000,type:'string'};f.exports=m;}),null);
__d('LinkReactUnsafeHrefTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:LinkReactUnsafeHrefLoggerConfig',this.$LinkReactUnsafeHrefTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:LinkReactUnsafeHrefLoggerConfig',this.$LinkReactUnsafeHrefTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$LinkReactUnsafeHrefTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$LinkReactUnsafeHrefTypedLogger1=babelHelpers['extends']({},this.$LinkReactUnsafeHrefTypedLogger1,j);return this;};h.prototype.setDocumentLocation=function(j){this.$LinkReactUnsafeHrefTypedLogger1.document_location=j;return this;};h.prototype.setHref=function(j){this.$LinkReactUnsafeHrefTypedLogger1.href=j;return this;};var i={document_location:true,href:true};f.exports=h;}),null);
__d('isSecureInstagramDotComURI',['arrayContains'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=new RegExp('(^|\\.)instagram\\.com$','i'),i=['https'];function j(k){return (c('arrayContains')(i,k.getProtocol())&&h.test(k.getDomain()));}f.exports=j;}),null);
__d('LinkHrefChecker',['ErrorUtils','LinkReactUnsafeHrefTypedLogger','URI','ex','isSecureInstagramDotComURI','isFacebookURI','isMessengerDotComURI','isWitDotAiURI'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(n){return (n.startsWith('#')||n.startsWith('/')&&!n.startsWith('//'));}function i(n){return n.startsWith('mailto:');}function j(n,o){if(h(n)||i(n))return true;var p=l(n),q=p?p.getProtocol():'';return (q===o||q===''||q==='http'||q==='https');}function k(n){if(h(n))return true;var o=l(n);return (o==null||c('isFacebookURI')(o)||c('isMessengerDotComURI')(o)||c('isSecureInstagramDotComURI')(o)||c('isWitDotAiURI')(o));}function l(n){try{return new (c('URI'))(n);}catch(o){return null;}}var m={logIfInvalidProtocol:function n(o,p){if(!j(o,p))new (c('LinkReactUnsafeHrefTypedLogger'))().setHref(o).setDocumentLocation(document.location.toString()).log();}};f.exports=m;}),null);
__d('MercurySyncHolesTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:MercurySyncHolesLoggerConfig',this.$MercurySyncHolesTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:MercurySyncHolesLoggerConfig',this.$MercurySyncHolesTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$MercurySyncHolesTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$MercurySyncHolesTypedLogger1=babelHelpers['extends']({},this.$MercurySyncHolesTypedLogger1,j);return this;};h.prototype.setDifference=function(j){this.$MercurySyncHolesTypedLogger1.difference=j;return this;};h.prototype.setSeqID=function(j){this.$MercurySyncHolesTypedLogger1.seq_id=j;return this;};h.prototype.setTopicType=function(j){this.$MercurySyncHolesTypedLogger1.topic_type=j;return this;};h.prototype.setVC=function(j){this.$MercurySyncHolesTypedLogger1.vc=j;return this;};var i={difference:true,seq_id:true,topic_type:true,vc:true};f.exports=h;}),null);
__d('MessengerContentSearchDataTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:MessengerContentSearchDataLoggerConfig',this.$MessengerContentSearchDataTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:MessengerContentSearchDataLoggerConfig',this.$MessengerContentSearchDataTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$MessengerContentSearchDataTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$MessengerContentSearchDataTypedLogger1=babelHelpers['extends']({},this.$MessengerContentSearchDataTypedLogger1,j);return this;};h.prototype.setAppID=function(j){this.$MessengerContentSearchDataTypedLogger1.appid=j;return this;};h.prototype.setClienttime=function(j){this.$MessengerContentSearchDataTypedLogger1.clienttime=j;return this;};h.prototype.setCountry=function(j){this.$MessengerContentSearchDataTypedLogger1.country=j;return this;};h.prototype.setMessageID=function(j){this.$MessengerContentSearchDataTypedLogger1.message_id=j;return this;};h.prototype.setMessageTimestamp=function(j){this.$MessengerContentSearchDataTypedLogger1.message_timestamp=j;return this;};h.prototype.setNumResults=function(j){this.$MessengerContentSearchDataTypedLogger1.num_results=j;return this;};h.prototype.setReadableTimestamp=function(j){this.$MessengerContentSearchDataTypedLogger1.readable_timestamp=j;return this;};h.prototype.setResultIndex=function(j){this.$MessengerContentSearchDataTypedLogger1.result_index=j;return this;};h.prototype.setSearchOutcome=function(j){this.$MessengerContentSearchDataTypedLogger1.search_outcome=j;return this;};h.prototype.setSearchTerm=function(j){this.$MessengerContentSearchDataTypedLogger1.search_term=j;return this;};h.prototype.setSearchType=function(j){this.$MessengerContentSearchDataTypedLogger1.search_type=j;return this;};h.prototype.setThreadFbid=function(j){this.$MessengerContentSearchDataTypedLogger1.thread_fbid=j;return this;};h.prototype.setVC=function(j){this.$MessengerContentSearchDataTypedLogger1.vc=j;return this;};var i={appid:true,clienttime:true,country:true,message_id:true,message_timestamp:true,num_results:true,readable_timestamp:true,result_index:true,search_outcome:true,search_term:true,search_type:true,thread_fbid:true,vc:true};f.exports=h;}),null);
__d('ChatPageComposerNullState.react',['cx','fbt','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=function k(l){return (c('React').createElement('div',{className:"_2xh0"},c('React').createElement('div',{className:"_2xh4 _59w_"},c('React').createElement(c('Link.react'),{className:"_2xh6"+(' '+"_2xh7")+(l.disabled?' '+"_5vsu":''),onClick:l.onClick},i._("{name}",[i.param('name',l.title)])))));};f.exports=j;}),null);
__d('MessengerLogo.react',['React'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function i(j){var k=j.color,l=j.size;return (c('React').createElement('div',{style:{width:l,height:l}},c('React').createElement('svg',{viewBox:'0 0 16 16',version:'1.1',xmlns:'http://www.w3.org/2000/svg'},c('React').createElement('g',{transform:'scale(0.02)',fill:'none'},c('React').createElement('path',{fill:k,fillRule:'evenodd',d:'M399.494079,0.00274415094 C178.859771,0.00274415094 0.000304955527,167.227237 0.000304955527,373.508113 C0.000304955527,490.856138 57.8859466,595.562774 148.414028,664.036455 L148.414028,806.983343 L284.747446,731.373854 C321.092046,741.545506 359.609962,747.013481 399.494079,747.013481 C620.128386,747.013481 798.987853,579.788988 798.987853,373.508113 C798.987853,167.227237 620.128386,0.00274415094 399.494079,0.00274415094 M441.568386,500.879189L338.245388 393.558495 139.264956 503.581669 357.419975 272.117619 460.742973 379.437297 659.722389 269.414122z'})))));};f.exports=h;}),null);
__d('MontageDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:false});}),null);
__d('MontageActions',['MontageDispatcher','keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({REQUEST_UPDATE:null,HAS_UPDATED:null}),i={Types:h,requestUpdate:function j(k){c('MontageDispatcher').dispatch({type:h.REQUEST_UPDATE,threadFBID:k});},hasUpdated:function j(k){c('MontageDispatcher').dispatch({type:h.HAS_UPDATED,threadFBID:k});}};f.exports=i;}),null);
__d('MontageShouldUpdateReducer',['MontageActions'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('MontageActions').Types;function i(k,l){var m;switch(l.type){case h.REQUEST_UPDATE:var n=babelHelpers['extends']({},k.needsUpdating,(m={},m[l.threadFBID]=true,m));return babelHelpers['extends']({},k,{needsUpdating:n});}return k;}function j(k,l){switch(l.type){case h.HAS_UPDATED:var m=k.needsUpdating,n=m[l.threadFBID],o=babelHelpers.objectWithoutProperties(m,[l.threadFBID]);return babelHelpers['extends']({},k,{needsUpdating:o});}return k;}f.exports={requestUpdate:i,hasUpdated:j};}),null);
__d('MontageState',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={needsUpdating:{}};f.exports=h;}),null);
__d('MontageStore',['MontageDispatcher','MontageShouldUpdateReducer','MontageState','FluxReduceStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=[].concat(Object.values(c('MontageShouldUpdateReducer')));h=babelHelpers.inherits(k,c('FluxReduceStore'));i=h&&h.prototype;k.prototype.getInitialState=function(){return c('MontageState');};k.prototype.reduce=function(l,m){return j.reduce(function(n,o){return o(n,m);},l);};function k(){h.apply(this,arguments);}f.exports=new k(c('MontageDispatcher'));}),null);
__d('MessengerMarkReadMutation',['RelayMutation','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('RelayMutation'));i=h&&h.prototype;j.prototype.getMutation=function(){return function(){return {calls:[{kind:'Call',metadata:{},name:'message_thread_update_read_state',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Mutation',metadata:{inputType:'MessageThreadUpdateReadStateData!'},name:'MessengerMarkReadMutation',responseType:'MessageThreadUpdateReadStateResponsePayload'};}();};j.prototype.getVariables=function(){return {actor_id:this.props.actorID,thread_id:this.props.threadID,update_type:'mark_read'};};j.prototype.getFatQuery=function(){return function(){return {children:[{children:[{fieldName:'unread_count',kind:'Field',metadata:{},type:'Int'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'thread',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'MessageThread'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerMarkReadMutationRelayQL',type:'MessageThreadUpdateReadStateResponsePayload'};}();};j.prototype.getConfigs=function(){return [{type:'FIELDS_CHANGE',fieldIDs:{thread:this.props.threadID}}];};j.prototype.getOptimisticResponse=function(){return {thread:{id:this.props.threadID,unread_count:0}};};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('MontageThumbnail.react',['cx','CssBackgroundImage.react','MessengerTextWithEntities.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=28,m=21;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;n.prototype.render=function(){return (c('React').createElement('div',{className:"_4bj3"},this.getFirstImage(),this.renderUnreadBadge()));};n.prototype.renderUnreadBadge=function(){return this.props.unread?c('React').createElement('div',{className:"_4bj5",style:{backgroundColor:this.props.customColor}}):null;};n.prototype.getFirstImage=function(){var o=this.props.message;if(!o)return null;if(o.sticker){return this.getImageElement(o.sticker.image);}else if(o.blob_attachments[0]){return this.getImageElement(o.blob_attachments[0].image);}else if(o.message.text)return (c('React').createElement(c('MessengerTextWithEntities.react'),{className:"_4bj6 _4bj9",customSize:true,renderEmoji:true,style:{height:l,width:m},text:o.message.text}));return null;};n.prototype.getImageElement=function(o){return (c('React').createElement(c('CssBackgroundImage.react'),{className:"_4bj6",height:l,imageURI:o.uri,width:m}));};function n(){i.apply(this,arguments);}n.propTypes={customColor:k.string.isRequired,message:k.object.isRequired,unread:k.bool.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{message:function o(p){return function(q,r,s,t){return {children:[{children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'message',kind:'Field',metadata:{canHaveSubselections:true},type:'TextWithEntities'},{children:[{calls:[{kind:'Call',metadata:{},name:'height',value:c('RelayQL').__var(q)},{kind:'Call',metadata:{},name:'width',value:c('RelayQL').__var(r)}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'},{fieldName:'width',kind:'Field',metadata:{},type:'Int'},{fieldName:'height',kind:'Field',metadata:{},type:'Int'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'sticker',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Sticker'},{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{calls:[{kind:'Call',metadata:{},name:'height',value:c('RelayQL').__var(s)},{kind:'Call',metadata:{},name:'width',value:c('RelayQL').__var(t)}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'},{fieldName:'width',kind:'Field',metadata:{},type:'Int'},{fieldName:'height',kind:'Field',metadata:{},type:'Int'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'Media',type:'Media'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],fieldName:'blob_attachments',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true,isPlural:true},type:'MessageBlobAttachment'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageThumbnail_react_MessageRelayQL',type:'UserMessage'};}(l,m,l,m);}}});}),null);
__d('MontageViewerSingleThread.react',['MontageSpotlightViewer.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$MontageViewerSingleThread1=function(q){var r=this.props.montageThread.messages.count,s=this.props.relay.variables.count;if(s<r){var t=Math.min(s+q,r);this.props.relay.setVariables({count:t});}}.bind(this),m;}k.prototype.render=function(){return this.props.open?c('React').createElement(c('MontageSpotlightViewer.react'),{entryPoint:'reply_context',initialUnreadCount:this.props.unreadCount,loadMore:this.$MontageViewerSingleThread1,onHide:this.props.onHide,messages:this.props.montageThread.messages}):null;};k.propTypes={open:j.bool.isRequired,onHide:j.func.isRequired,montageThread:j.object.isRequired,relay:j.object.isRequired,unreadCount:j.number.isRequired};f.exports=c('Relay').createContainer(k,{initialVariables:{count:100},fragments:{montageThread:function l(){return function(m){return {children:[{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[].concat.apply([],[c('RelayQL').__frag(m)]),fieldName:'messages',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'MessagesOfThreadConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageViewerSingleThread_react_MontageThreadRelayQL',type:'MessageThread'};}(c('MontageSpotlightViewer.react').getFragment('messages'));}}});}),null);
__d('MontageThreadView.react',['cssVar','cx','fbt','CurrentEnvironment','CurrentUser','MessengerMarkReadMutation','MessengerLogo.react','MontageThumbnail.react','MontageViewerSingleThread.react','React','Relay','RelayQL','Timestamp.react','convertMIGColorToFIGColor','idx'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={showMontage:false},this.$MontageThreadView1=function(){this.setState({showMontage:true});}.bind(this),this.$MontageThreadView2=function(){this.setState({showMontage:false});this.props.relay.commitUpdate(new (c('MessengerMarkReadMutation'))({threadID:this.props.threadMessages.montage_thread.id,actorID:c('CurrentUser').getID()}));}.bind(this),p;}n.prototype.componentDidMount=function(){if(this.props.threadMessages)this.props.onResize&&this.props.onResize();};n.prototype.componentDidUpdate=function(o){if(o.threadMessages!==this.props.threadMessages)this.props.onResize&&this.props.onResize();};n.prototype.render=function(){var o=this.getFirstMontageMessage();if(!o)return null;var p=this.getCustomColor(),q=this.getUnread();return c('React').createElement('a',{className:"_5no5",href:'#',onClick:this.$MontageThreadView1,role:'button'},c('React').createElement(c('MontageThumbnail.react'),{customColor:p,message:o,unread:q}),c('React').createElement('div',{className:"_1sui"},this.renderHeader(q,p),c('React').createElement('span',{className:"_1suk"},c('React').createElement(c('Timestamp.react'),{minimize:true,time:this.getTimestamp()}))),this.renderLogo(),this.renderModal());};n.prototype.renderModal=function(){return this.state.showMontage?c('React').createElement(c('MontageViewerSingleThread.react'),{onHide:this.$MontageThreadView2,open:this.state.showMontage,montageThread:this.props.threadMessages.montage_thread,unreadCount:this.props.threadMessages.montage_thread.unread_count}):null;};n.prototype.renderLogo=function(){return c('CurrentEnvironment').messengerdotcom?null:c('React').createElement(c('MessengerLogo.react'),{color:"rgba(0, 0, 0, .3)",size:'17px'});};n.prototype.renderHeader=function(o,p){return o?c('React').createElement('h1',{className:"_1suj",style:{color:p}},j._("Mira el d\u00eda de {person_with_montage}",[j.param('person_with_montage',this.getAuthorName())])):null;};n.prototype.getAuthorName=function(){var o,p,q,r;return (o=this.props)!=null?(p=o.threadMessages)!=null?(q=p.montage_thread)!=null?(r=q.montage_author)!=null?r.short_name:r:q:p:o;};n.prototype.getFirstMontageMessage=function(){var o,p,q,r,s,t;return (o=this.props)!=null?(p=o.threadMessages)!=null?(q=p.montage_thread)!=null?(r=q.messages)!=null?(s=r.edges)!=null?(t=s[0])!=null?t.node:t:s:r:q:p:o;};n.prototype.getTimestamp=function(){var o=this.getFirstMontageMessage();return o&&o.timestamp;};n.prototype.getCustomColor=function(){var o,p,q,r=(o=this.props)!=null?(p=o.threadMessages)!=null?(q=p.customization_info)!=null?q.outgoing_bubble_color:q:p:o,s=void 0;if(!r){s="#0084ff";}else s='#'+r.substring(2);return c('convertMIGColorToFIGColor')(s);};n.prototype.getUnread=function(){var o,p,q;return !!((o=this.props)!=null?(p=o.threadMessages)!=null?(q=p.montage_thread)!=null?q.unread_count:q:p:o);};n.propTypes={onResize:m.func,threadMessages:m.object.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{threadMessages:function o(p){return function(q,r){return {children:[{children:[{fieldName:'outgoing_bubble_color',kind:'Field',metadata:{},type:'Color'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'customization_info',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'MessageThreadCustomization'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{calls:[{kind:'Call',metadata:{},name:'last',value:{kind:'CallValue',callValue:1}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'timestamp',kind:'Field',metadata:{},type:'Time'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(r),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true,isRequisite:true},type:'Message'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessagesOfThreadEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'messages',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'MessagesOfThreadConnection'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'short_name',kind:'Field',metadata:{},type:'String'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'User',type:'User'}],fieldName:'montage_author',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},{fieldName:'unread_count',kind:'Field',metadata:{},type:'Int'},c('RelayQL').__frag(q)]),fieldName:'montage_thread',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'MessageThread'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageThreadView_react_ThreadMessagesRelayQL',type:'MessageThread'};}(c('MontageViewerSingleThread.react').getFragment('montageThread'),c('MontageThumbnail.react').getFragment('message'));}}});}),null);
__d('MontageThreadViewContainer.react',['FluxContainer','MercuryIDs','MontageActions','MontageStore','MontageThreadView.react','MontageThreadViewRoute','React','Relay'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('Relay').RootContainer,k=c('React').PropTypes;h=babelHelpers.inherits(l,c('React').PureComponent);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$MontageThreadViewContainer1=function(r,s){var t=c('MercuryIDs').getThreadFBIDFromThreadID(this.props.threadID);if(!t)return null;var u=this.state.needsUpdating[t];if(u&&!s.stale)c('MontageActions').hasUpdated(t);return c('React').createElement(c('MontageThreadView.react'),babelHelpers['extends']({},r,{onResize:this.props.onResize}));}.bind(this),n;}l.getStores=function(){return [c('MontageStore')];};l.calculateState=function(){return {needsUpdating:c('MontageStore').getState().needsUpdating};};l.prototype.render=function(){var m=this.props.threadID,n=c('MercuryIDs').getThreadFBIDFromThreadID(m);if(!n)return null;return c('React').createElement(j,{Component:c('MontageThreadView.react'),route:new (c('MontageThreadViewRoute'))({threadFBID:n}),renderFetched:this.$MontageThreadViewContainer1,forceFetch:this.state.needsUpdating[n]});};l.propTypes={onResize:k.func,threadID:k.string.isRequired};f.exports=c('FluxContainer').create(l);}),null);
__d('EmojiSticker.react',['cx','Image.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();};l.prototype.render=function(){var m=this.props.emojiImage?this.props.emojiImage:c('React').createElement(c('Image.react'),{src:this.props.sourceURI});return (c('React').createElement('div',{'aria-label':this.props.emoji,className:c('joinClasses')(this.props.className,"_383m"),tabIndex:'0'},m));};function l(){i.apply(this,arguments);}l.propTypes={emoji:k.string,emojiImage:k.any,onAttachmentLoad:k.func,sourceURI:k.string.isRequired};f.exports=l;}),null);
__d('MessagingFlowerBorderChecker',['MercuryConfig','MercuryMessageCustomizations','MessageBorderType','MessageCustomizationType'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={shouldRenderWithFlowerBorder:function i(j){return c('MercuryConfig').WWWMessengerFlowerBorderViewer&&c('MercuryMessageCustomizations').getCustomizationValue(j,c('MessageCustomizationType').BORDER)===c('MessageBorderType').FLOWERS;}};f.exports=h;}),null);
__d('MessengerErrorAttachment.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);}k.prototype.render=function(){return (c('React').createElement('div',{className:"_1o12 _52mr"},c('React').createElement('div',{className:"_1o13"},this.props.attachment.error_msg)));};f.exports=k;}),null);
__d('MessengerFileAttachment.react',['cx','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('Link.react'),{className:"_4pcn _2uf4",target:'_blank',href:this.props.attachment.url},c('React').createElement('div',{className:"_2uf5"}),this.props.attachment.name));};function l(){i.apply(this,arguments);}l.propTypes={attachment:k.object.isRequired};f.exports=l;}),null);
__d('HotLikeSound',['MercurySoundsConfig','SoundPlayer','StickerConstants'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=[c('MercurySoundsConfig').hot_like_grow_mp3_url,c('MercurySoundsConfig').hot_like_grow_ogg_url],i=[c('MercurySoundsConfig').hot_like_pop_mp3_url,c('MercurySoundsConfig').hot_like_pop_ogg_url],j=[c('MercurySoundsConfig').hot_like_outgoing_small_mp3_url,c('MercurySoundsConfig').hot_like_outgoing_small_ogg_url],k=[c('MercurySoundsConfig').hot_like_outgoing_medium_mp3_url,c('MercurySoundsConfig').hot_like_outgoing_medium_ogg_url],l=[c('MercurySoundsConfig').hot_like_outgoing_large_mp3_url,c('MercurySoundsConfig').hot_like_outgoing_large_ogg_url],m=function o(){return false;},n={setCheckSoundEnabledFunc:function o(p){m=p;},start:function o(){this._play(h);},stop:function o(){c('SoundPlayer').stop(h);},pop:function o(){this.stop();this._play(i);},snap:function o(p){this.stop();if(p===c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID)this._play(j);if(p===c('StickerConstants').HOT_LIKE_MEDIUM_STICKER_ID)this._play(k);if(p===c('StickerConstants').HOT_LIKE_LARGE_STICKER_ID)this._play(l);},_play:function o(p){if(m())c('SoundPlayer').play(p);}};f.exports=n;}),null);
__d('MessengerHotLikePreview.react',['cx','Animation','EmojiLikeConstants','EmojiLikeCxData','HotLikeSound','MercuryConfig','MessengerHotLikePreviewEvents','MessengerHotLikeSVG.react','MessengerHotLikeUtils','React','ReactDOM','StickerConstants','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerHotLikePreview5=function(){this.$MessengerHotLikePreview6=new (c('Animation'))(c('ReactDOM').findDOMNode(this));this.$MessengerHotLikePreview7(-2,2,150,1000);this.$MessengerHotLikePreview7(-4,4,100,1000);this.$MessengerHotLikePreview7(-10,10,75,1000);this.$MessengerHotLikePreview6.go();}.bind(this),this.$MessengerHotLikePreview7=function(r,s,t,u){var v=Math.floor(u/t),w=null;for(var x=0;x<v;x++){w=x%2?r:s;this.$MessengerHotLikePreview6.to('rotateZ',w).duration(t).checkpoint();}}.bind(this),this.$MessengerHotLikePreview2=function(r,s){var t=s?c('MessengerHotLikePreviewEvents').FINISH_EMOJI_ANIMATION:c('MessengerHotLikePreviewEvents').FINISH_ANIMATION;if(this.$MessengerHotLikePreview8)return;this.$MessengerHotLikePreview8=true;var u=Date.now()-this.props.since,v=null;if(this.props.customLike)v=c('MessengerHotLikeUtils').getEmojiSizeForTime(u);var w=c('MessengerHotLikeUtils').getStickerIDForTime(u);c('HotLikeSound').snap(w);var x=c('MessengerHotLikeUtils').getMetadataForHotLike(v||w);this.$MessengerHotLikePreview6.stop();var y=30,z=-10;if(w===c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID){y=0;z=0;}this.$MessengerHotLikePreview4.stop().to('width',x.width*1.2).to('height',x.height*1.2).to('rotateZ',y).duration(100).checkpoint().to('width',x.width*.9).to('height',x.height*.9).to('rotateZ',z).duration(100).checkpoint().to('width',x.width).to('height',x.height).to('rotateZ',0).duration(100).ondone(function(){c('MessengerHotLikePreviewEvents').emit(t,r,w,v);}).go();}.bind(this),this.$MessengerHotLikePreview3=function(r){c('HotLikeSound').pop();this.$MessengerHotLikePreview4.stop().to('width',0).to('height',0).duration(100).ondone(function(){c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').REMOVE,r);}).go();}.bind(this),n;}l.prototype.componentDidMount=function(){this.$MessengerHotLikePreview1=new (c('SubscriptionsHandler'))();this.$MessengerHotLikePreview1.addSubscriptions(c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP,this.$MessengerHotLikePreview2),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP_EMOJI,this.$MessengerHotLikePreview2),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').POP,this.$MessengerHotLikePreview3));c('HotLikeSound').start();this.$MessengerHotLikePreview4=new (c('Animation'))(c('ReactDOM').findDOMNode(this)).to('width',80).to('height',80).duration(3000).go();this.$MessengerHotLikePreview5();};l.prototype.componentWillUnmount=function(){this.$MessengerHotLikePreview1&&this.$MessengerHotLikePreview1.release();};l.prototype.render=function(){if(this.props.customLike){var m=this.props.customLike;if(c('MercuryConfig').MessengerNewEmojiGK)var n=c('EmojiLikeCxData').getNewEmojiData(m.emoji,c('EmojiLikeConstants').size.LARGE);var o=n?n.url:this.props.customLike.large;if(m.uri)o=m.uri;return c('React').createElement('div',{className:"_4a9g _383m",style:{backgroundImage:'url('+o+')'}});}return c('React').createElement('div',{className:"_4a9g _576q"},c('React').createElement(c('MessengerHotLikeSVG.react'),{color:this.props.customColor}));};l.propTypes={customLike:k.object,since:k.number};f.exports=l;}),null);
__d('MessengerStickerUtils',['MercuryAttachmentType'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k){return !!(k&&k.attach_type===c('MercuryAttachmentType').STICKER);}function i(k){var l=k.attachments;return !!(k.is_like_preview||k.sticker_id||l&&l.length===1&&h(l[0]));}function j(k){return k.size===1&&i(k.first());}f.exports={isStickerMessageGroup:j,isStickerMessage:i,isStickerAttachment:h};}),null);
__d('MessengerVoiceClipAttachment.react',['cx','MercuryAttachmentAudioClip.react','MercuryShareAttachmentRenderLocations','MessagingGiftWrap.react','MessagingFlowerBorder.react','React','messengerCustomColorUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.attachment,n=m.metadata.duration/1000,o=!!m.app_attribution,p={};if(this.props.customColor)p=c('messengerCustomColorUtils').customBubbleStyle(this.props.customColor,p);var q=this.props.isGiftWrapped?c('React').createElement(c('MessagingGiftWrap.react'),{onUnwrap:this.props.onUnwrap}):null,r=this.props.hasFlowerBorder?c('React').createElement(c('MessagingFlowerBorder.react'),{offset:-10}):null;return (c('React').createElement('div',{className:"_hh7"+(' '+"_s1-")+(!!this.props.customColor?' '+"_5sxi":'')+(!o?' '+"_52mr":'')+(o?' '+"_mxz":'')+(' '+"_1fz8")+(o?' '+"_1-wa":'')+(' '+"_1nqp"),style:p},c('React').createElement(c('MercuryAttachmentAudioClip.react'),{customColor:this.props.customColor,src:m.url,duration:n,key:'audio:'+this.props.message.message_id,showHelp:false,width:200,location:c('MercuryShareAttachmentRenderLocations').MESSENGER,rootClassName:"_3czg"+(o?' '+"_4yjw":'')+(' '+"_2poz")+(' '+"_ui9")}),q,r));};function l(){i.apply(this,arguments);}l.propTypes={attachment:k.object.isRequired,customColor:k.string,isGiftWrapped:k.bool,message:k.object.isRequired,onUnwrap:k.func};f.exports=l;}),null);
__d("XStickerInTrayController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/in_tray\/",{pack_id:{type:"Int",required:true}});}),null);
__d('StickersPackInTray',['Promise','AsyncRequest','RelayQL','RelayStore','XStickerInTrayController','createRelayQuery'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={onIsPackInTray:function i(j,k,l){var m=c('createRelayQuery')(function(){return {children:[{children:[{calls:[{kind:'Call',metadata:{type:'StickerInterfaces'},name:'interface',value:{kind:'CallVariable',callVariableName:'stickerInterface'}},{kind:'Call',metadata:{},name:'first',value:{kind:'CallValue',callValue:10000}}],children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'StickerPack'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'PacksInTrayEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'tray_packs',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'PacksInTrayConnection'}],fieldName:'sticker_store',kind:'Field',metadata:{canHaveSubselections:true},type:'StickerStore'}],fieldName:'viewer',kind:'Query',metadata:{},name:'StickersPackInTray',type:'Viewer'};}(),{stickerInterface:k}),n=c('RelayStore').readQuery(m);n=n&&n.length>0?n[0]:null;if(n&&n.sticker_store&&n.sticker_store.tray_packs&&n.sticker_store.tray_packs.edges)return new (c('Promise'))(function(p,q){return p({in_sticker_tray:n.sticker_store.tray_packs.edges.filter(function(r){return r.node.id===j;}).length>0});}).then(l);var o=c('XStickerInTrayController').getURIBuilder().setInt('pack_id',j).getURI();return new (c('Promise'))(function(p,q){return (new (c('AsyncRequest'))(o).setHandler(function(r){return p(r.getPayload());}).setAllowCrossPageTransition(true).send());}).then(l);}};f.exports=h;}),null);
__d('isRetina',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=function(){return (window.devicePixelRatio||1)>1;};}),null);
__d('MessengerAttachmentRenderer',['cx','EmojiLikeCxData','EmojiLikeUtils','EmojiSticker.react','MercuryAttachment','MercuryAttachmentType','MercuryAudioType','MercuryConfig','MercuryShareAttachment.react','MercuryShareAttachmentRenderLocations','MessagingFlowerBorder.react','MessagingFlowerBorderChecker','MessagingGiftWrap.react','MessagingGiftWrapChecker','MessengerErrorAttachment.react','MessengerFileAttachment.react','MessengerFromViewerUtils','MessengerHotLikePreview.react','MessengerHotLikeUtils','MessengerPhotosGroup.react','MessengerStickerUtils','MessengerVoiceClipAttachment.react','MessengerWebDriverTestIDs','React','Set','Sticker.react','StickerAssetType','StickerConstants','StickerInterfaces','StickersActions','StickersStoreController','StickersPackInTray','StickerUtils','StoryAttachmentStyle','XStickerAssetController','isRetina','wrapNullableForReact'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=new (c('Set'))([c('MercuryAttachmentType').ANIMATED_IMAGE,c('MercuryAttachmentType').PHOTO,c('MercuryAttachmentType').VIDEO,c('MercuryAttachmentType').THIRDPARTYSTICKER]),j=700,k='sticker:',l='giftwrap:',m='share:',n="_1c_u",o=function q(r){return r===Object(r);},p={getAttachmentsInsideBubble:function q(r,s){var t=c('MercuryAttachment').get(r).filter(o).filter(function(u){return (!this.attachmentShouldAppearOutsideBubble(u));}.bind(this));return this._getAttachmentComponents(t,r,s);},getAttachmentsOutsideBubble:function q(r,s,t,u,v){var w=c('MercuryAttachment').get(r).filter(o).filter(function(x){return (this.attachmentShouldAppearOutsideBubble(x));}.bind(this));return this._getAttachmentComponents(w,r,s,t,u,v);},_getAttachmentComponents:function q(r,s,t,u,v,w){var x=this._getPhotosGroup(r.filter(this.isPhotoAttachment),s,t,v,w),y=r.filter(function(z){return !this.isPhotoAttachment(z);}.bind(this)).map(function(z){return this._getAttachmentComponent(z,s,t,u,v,w);}.bind(this));if(x)y.push(x);return y;},_getAttachmentComponent:function q(r,s,t,u,v,w){if(c('MessengerStickerUtils').isStickerAttachment(r))return this._getStickerComponent(r,s,u,v);if(this.isEmojiLikeAttachment(r))return this._getEmojiLikeAttachment(r,s,v);if(this.isVoiceClip(r))return this._getVoiceClip(r,s,u,v);if(this.isFileAttchment(r))return this._getFileComponent(r,s);if(this.isP2P(r)||this.isShareAttachment(r))return this._getShareAttachment(r,s,t,w);if(this.isErrorAttachment(r))return this._getErrorAttachment(r,s);return null;},_getStickerComponent:function q(r,s,t,u){if(s.is_like_preview)return this._maybeGiftWrapSticker(c('React').createElement(c('MessengerHotLikePreview.react'),{customColor:t,customLike:s.customLike,key:'hlp:'+s.like_preview_since,since:s.like_preview_since}),s,u);var v=r.metadata;if(!v){v=c('MessengerHotLikeUtils').getMetadataForHotLike(s.sticker_id);if(!v){v={};var w=c('StickerUtils').getScaledDimensions(c('StickerConstants').THREAD_SIZE,c('StickerConstants').THREAD_SIZE,c('StickerConstants').THREAD_SIZE),x=w.height,y=w.width;v.height=x;v.width=y;}v.stickerID=s.sticker_id;}var z=c('XStickerAssetController').getURIBuilder().setInt('sticker_id',v.stickerID),aa=null,ba=null;if(c('isRetina')()){aa=v.paddedSpriteURI2x;ba=v.spriteURI2x;}else{aa=v.paddedSpriteURI;ba=v.spriteURI;}var ca=v.stickerID.toString(),da=c('React').createElement(c('Sticker.react'),{className:"_2poz"+(' '+"_ui9")+(c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(s)&&!!c('MessengerHotLikeUtils').getMetadataForHotLike(ca)?' '+"_4ue_":''),animationTrigger:'hover',customColor:t,frameCount:v.frameCount||1,frameRate:v.frameRate||c('StickerConstants').DEFAULT_FRAME_RATE,framesPerCol:v.framesPerCol||1,framesPerRow:v.framesPerRow||1,key:k+s.message_id,onStickerClick:function ea(fa,ga){c('StickersPackInTray').onIsPackInTray(fa,c('StickerInterfaces').MESSAGES,function(ha){if(ha.in_sticker_tray){c('StickersActions').selectTrayPack(fa);c('StickersActions').showStickerFlyout(s.thread_id);}else c('StickersStoreController').showStore(fa);});},packID:v.packID&&v.packID.toString(),paddedSpriteURI:aa,sourceHeight:v.height,sourceURI:z.setEnum('image_type',c('StickerAssetType').IMAGE).getURI().toString(),sourceWidth:v.width,spriteURI:ba,stickerID:ca,testID:c('MessengerWebDriverTestIDs').STICKER});return this._maybeGiftWrapSticker(da,s,u);},_getEmojiLikeAttachment:function q(r,s,t){var u=c('EmojiLikeCxData').transferSize(r.size),v=c('MercuryConfig').MessengerNewEmojiGK?c('EmojiLikeCxData').getNewEmojiData(s.body,u):null,w=v?v.emoji:undefined,x=null;if(!v){x=c('EmojiLikeUtils').getURI(s.body,u);if(!x)return this._getErrorAttachment(r,s);}var y=c('React').createElement(c('EmojiSticker.react'),{className:"_2poz _ui9",key:k+s.message_id,emoji:s.body,emojiImage:w,sourceURI:x?x:''});return this._maybeGiftWrapSticker(y,s,t);},_getShareAttachment:function q(r,s,t,u){var v=null;if(s&&s.platform_xmd)v=JSON.parse(s.platform_xmd);return c('React').createElement(c('MercuryShareAttachment.react'),{attachment:r.share,isSponsored:s.is_sponsored,isVisible:!!u,key:m+s.message_id,location:c('MercuryShareAttachmentRenderLocations').MESSENGER,maxWidth:j,messageID:s.message_id,mnMessageType:v&&v.template_type,onComponentLoaded:t,pageID:s.author,threadID:s.thread_id});},_getVoiceClip:function q(r,s,t,u){t=c('MessengerFromViewerUtils').isFromViewer(s)?t||undefined:undefined;return (c('React').createElement(c('MessengerVoiceClipAttachment.react'),{attachment:r,customColor:t,isGiftWrapped:c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(s),hasFlowerBorder:c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(s),key:'audio:'+s.message_id,message:s,onUnwrap:function v(){u&&u();}}));},_getErrorAttachment:function q(r,s){return (c('React').createElement(c('MessengerErrorAttachment.react'),{attachment:r,key:'error:'+s.message_id}));},_getPhotosGroup:function q(r,s,t,u,v){if(!r.length)return null;var w=c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(s),x=c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(s)&&this._rendersWithoutAttribution(r);return (c('React').createElement(c('MessengerPhotosGroup.react'),{attachments:r,className:"_2poz _52mr _ui9",count:r.length,hasFlowerBorder:w,isGiftWrapped:x,isVisible:!!v,key:'photos:'+s.message_id,message:s,onUnwrap:function y(){u&&u();}}));},getVideoElem:function q(r,s){var t=s.getMessageElement(r);if(!t)return null;var u=t.getElementsByClassName(n);return u&&u.length?u[0]:t;},_rendersWithoutAttribution:function q(r){return r.length!=1||!c('MercuryAttachment').hasAttribution(r[0]);},_getFileComponent:function q(r,s){return (c('React').createElement(c('MessengerFileAttachment.react'),{attachment:r,className:"_2poz",key:'file:'+r.url}));},attachmentShouldAppearOutsideBubble:function q(r){return c('MessengerStickerUtils').isStickerAttachment(r)||this.isPhotoAttachment(r)||this.isShareAttachment(r)||this.isP2P(r)||this.isVoiceClip(r)||this.isErrorAttachment(r)||this.isEmojiLikeAttachment(r);},isPhotoAttachment:function q(r){return i.has(r.attach_type);},isPhotosGroupAttachment:function q(r){var s=r.props.attachments;return !!s&&s.length>1&&s.some(function(t){return !!t&&this.isPhotoAttachment(t);}.bind(this));},isRenderedShareAttachment:function q(r){return !!(r.key&&r.key.startsWith(m));},isFileAttchment:function q(r){return r.attach_type===c('MercuryAttachmentType').FILE;},isShareAttachment:function q(r){return !!(this._isStoryBased(r)&&!this.isP2P(r)&&(r.share.style_list.indexOf(c('StoryAttachmentStyle').SHARE)>-1||r.share.style_list.indexOf(c('StoryAttachmentStyle').FALLBACK)>-1));},isSharedVideoAttachment:function q(r){var s=r.attach_type===c('MercuryAttachmentType').SHARE&&r.share&&r.share.subattachments&&r.share.subattachments[0];return !!(s&&s.target&&s.target.video_id);},isP2P:function q(r){return !!(this._isStoryBased(r)&&r.share.style_list.indexOf(c('StoryAttachmentStyle').ORION)>-1);},_isStoryBased:function q(r){return !!(r.attach_type===c('MercuryAttachmentType').SHARE&&r.share&&r.share.style_list);},isEmojiLikeAttachment:function q(r){return r.attach_type===c('MercuryAttachmentType').EMOJI_LIKE;},isVoiceClip:function q(r){return !!r.metadata&&(r.metadata.type===c('MercuryAudioType').AudioClip||r.metadata.type===c('MercuryAudioType').VoiceMessageWithTranscript);},isVoiceClipAttachment:function q(r){var s=c('MercuryAttachment').get(r).filter(o).filter(function(t){return (this.isVoiceClip(t));}.bind(this));return !!s.length;},isP2PAttachment:function q(r){var s=c('MercuryAttachment').get(r).filter(function(t){return (o(t)&&this.isP2P(t));}.bind(this));return !!s.length;},isSingleVideoAttachment:function q(r){var s=c('MercuryAttachment').get(r).filter(o).filter(function(t){return (c('MercuryAttachment').isVideoAttachment(t));});return s.length===1;},isSharedVideoAttachmentMessage:function q(r){var s=c('MercuryAttachment').get(r).filter(o).filter(function(t){return (this.isSharedVideoAttachment(t)||this.isGenieSharedVideoAttachment(t));}.bind(this));return s.length===1;},isGenieSharedVideoAttachment:function q(r){return !!(r.attach_type===c('MercuryAttachmentType').SHARE&&r.share&&r.share.style_list.indexOf(c('StoryAttachmentStyle').GENIE_MESSAGE)>-1&&r.share.target&&r.share.target.attachment&&this.isSharedVideoAttachment(r.share.target.attachment));},isErrorAttachment:function q(r){return r.attach_type===c('MercuryAttachmentType').ERROR;},_maybeGiftWrapComponentForMessage:function q(r,s,t){var u=c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(s),v=c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(s);if(!u&&!v)return r;return (c('React').createElement('div',{key:l+s.message_id},r,u?c('React').createElement(c('MessagingGiftWrap.react'),{onUnwrap:c('wrapNullableForReact')(t)}):null,v?c('React').createElement(c('MessagingFlowerBorder.react'),{offset:-10}):null));},_maybeGiftWrapSticker:function q(r,s,t){var u=c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(s),v=c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(s);if(!u&&!v)return r;return (c('React').createElement('div',{key:l+s.message_id},r,u?c('React').createElement(c('MessagingGiftWrap.react'),{isSticker:true,onUnwrap:c('wrapNullableForReact')(t)}):null,v?c('React').createElement(c('MessagingFlowerBorder.react'),{offset:-10}):null));}};f.exports=p;}),null);
__d('MessengerFacebookNotificationsBadge.react',['cx','NotificationConstants','NotificationSeenState','NotificationUpdates','React','XUIBadge.react','createObjectFrom','injectSubscriptionsHandler.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=0,l=99;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state={count:0},p;}m.prototype.componentWillMount=function(){this.props.subscriptionsHandler.addSubscriptions(c('NotificationUpdates').subscribe('seen-state-updated',function(){this.setState({count:c('NotificationSeenState').getUnseenCount()});}.bind(this)));c('NotificationUpdates').handleUpdate(c('NotificationConstants').PayloadSourceType.INITIAL_LOAD,{seenState:c('createObjectFrom')(this.props.facebookNotificationTokens||[],k)});};m.prototype.render=function(){return (c('React').createElement(c('XUIBadge.react'),{className:"_1l07",count:this.state.count,id:null,maxcount:l,type:'special'}));};var n=c('injectSubscriptionsHandler.react')(m);f.exports=n;}),null);
__d('MessengerBackToFacebookBanner.react',['cx','fbt','Link.react','MessengerFacebookNotificationsBadge.react','React','URI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=new (c('URI'))(),m=l.getQualifiedURI().getSubdomain();l.setDomain('facebook.com').setSubdomain(m).setProtocol('https');j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;n.prototype.render=function(){return (c('React').createElement(c('Link.react'),{className:"_2qat",href:l,target:'_blank'},i._("Volver a Facebook"),c('React').createElement(c('MessengerFacebookNotificationsBadge.react'),{facebookNotificationTokens:this.props.facebookNotificationTokens})));};function n(){j.apply(this,arguments);}f.exports=n;}),null);
__d('MessengerInterstitialBanner.react',['cx','fbt','ix','CenteredContainer.react','Image.react','Link.react','React','WorkModeConfig'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes,n=j('/images/mercury/clients/messenger/banner/messengerPhone-2x.png'),o='https://itunes.apple.com/app/id958124798';k=babelHelpers.inherits(p,c('React').PureComponent);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$MessengerInterstitialBanner1=function(){if(!this.props.mobileAppInfo.hasMessenger){return i._("Sigue la conversaci\u00f3n desde el tel\u00e9fono.");}else if(!this.props.mobileAppInfo.messengerPushable)return i._("Lee los mensajes al instante en tu tel\u00e9fono: abre la aplicaci\u00f3n para obtener m\u00e1s informaci\u00f3n.");return null;}.bind(this),this.$MessengerInterstitialBanner2=function(){if(this.props.mobileAppInfo.hasMessenger)return null;var v=c('WorkModeConfig').is_work_user?o:'https://www.messenger.com/about';return (c('React').createElement(c('Link.react'),{target:'_blank',className:"_s18",href:v},i._("Descargar aplicaci\u00f3n")));}.bind(this),r;}p.prototype.render=function(){if(this.props.mobileAppInfo.hasMessenger&&this.props.mobileAppInfo.messengerPushable)return null;if(this.props.isFirstRedirect)return null;return c('React').createElement(c('CenteredContainer.react'),{className:"_s15",vertical:true},c('React').createElement('div',{className:"_s16"},c('React').createElement(c('Image.react'),{className:"_s17",src:n}),this.$MessengerInterstitialBanner1(),this.$MessengerInterstitialBanner2()));};p.propTypes={mobileAppInfo:m.shape({hasMessenger:m.bool.isRequired,messengerPushable:m.bool.isRequired}).isRequired,isFirstRedirect:m.bool};f.exports=p;}),null);
__d("XMessengerDotComNUXLoggingController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/logging\/promotion\/",{promotion_id:{type:"Int",required:true},instance_log_data:{type:"StringToStringMap",defaultValue:{}}});}),null);
__d("XQuickPromotionSimpleLoggingController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/qp\/action\/log\/",{qp_id:{type:"Int",required:true},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}});}),null);
__d('MessengerNotificationBanner.react',['cx','ix','AsyncRequest','Image.react','MessengerButton.react','MessengerDesktopNotifications','MessengerDotComPromotionActionURL','MessengerSettingsActions','MessengerSignals','React','XMessengerDotComNUXLoggingController','XQuickPromotionSimpleLoggingController','goURI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=i('/images/mercury/clients/messenger/banner/closeBanner.png'),n=i('/images/mercury/clients/messenger/banner/desktopNotifications.png');j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={bannerClosed:false},this.$MessengerNotificationBanner1=function(){return c('MessengerDesktopNotifications').isGranted()||c('MessengerDesktopNotifications').isDenied()||this.state.bannerClosed;}.bind(this),this.$MessengerNotificationBanner3=function(){return (c('React').createElement(c('MessengerButton.react'),{className:"_2cim",label:this.props.primaryActionTitle,onClick:this.$MessengerNotificationBanner4,type:'primary'}));}.bind(this),this.$MessengerNotificationBanner4=function(){this.$MessengerNotificationBanner5();if(this.props.promotionID){new (c('AsyncRequest'))().setURI(c('XQuickPromotionSimpleLoggingController').getURIBuilder().setInt('qp_id',this.props.promotionID).setEnum('qp_action','primary').setStringToStringMap('qp_instance_log_data',this.props.instanceLogData).getURI()).send();if(this.props.primaryActionURI===c('MessengerDotComPromotionActionURL').turn_on_notification){c('MessengerSettingsActions').changeDesktopNotifs(true);}else window.open(this.props.primaryActionURI);}else if(this.props.primaryActionURI)c('goURI')(this.props.primaryActionURI,true);}.bind(this),this.$MessengerNotificationBanner2=function(){this.$MessengerNotificationBanner5();if(this.props.promotionID)new (c('AsyncRequest'))().setURI(c('XQuickPromotionSimpleLoggingController').getURIBuilder().setInt('qp_id',this.props.promotionID).setEnum('qp_action','dismiss').setStringToStringMap('qp_instance_log_data',this.props.instanceLogData).getURI()).send();}.bind(this),this.$MessengerNotificationBanner5=function(){this.setState({bannerClosed:true},function(){c('MessengerSignals').resize();});}.bind(this),q;}o.prototype.componentWillReceiveProps=function(p){if(!p.promotionID)this.setState({bannerClosed:false});};o.prototype.componentDidMount=function(){if(this.$MessengerNotificationBanner1()||!this.props.promotionID)return;new (c('AsyncRequest'))().setURI(c('XMessengerDotComNUXLoggingController').getURIBuilder().setInt('promotion_id',this.props.promotionID).setStringToStringMap('instance_log_data',this.props.instanceLogData).getURI()).send();};o.prototype.componentDidUpdate=function(){window.dispatchEvent(new Event('resize'));};o.prototype.render=function(){if(this.$MessengerNotificationBanner1())return null;return c('React').createElement('div',{className:"_2cij"},c('React').createElement(c('Image.react'),{className:"_2cik",onClick:this.$MessengerNotificationBanner2,src:m}),c('React').createElement(c('Image.react'),{className:"_2cil",src:n}),this.props.promotionContent,this.$MessengerNotificationBanner3());};o.propTypes={promotionID:l.number,promotionContent:l.string,primaryActionTitle:l.string,primaryActionURI:l.string,instanceLogData:l.object};f.exports=o;}),null);
__d('MessengerRefreshPrompt',['fbt','Visibility','setIntervalAcrossTransitions'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=1000*60*60,j=1000*60*60*24*3,k=function l(m){var n=Date.now();c('setIntervalAcrossTransitions')(function(){if(Date.now()-n>j)c('Visibility').once(c('Visibility').VISIBLE,function(){m({promotionID:null,promotionContent:h._("Hay una nueva versi\u00f3n de Messenger."),primaryActionTitle:h._("Actualizar"),instanceLogData:{},primaryActionURI:window.location.href});n=Date.now();});},i);};f.exports=k;}),null);
__d('MessengerBanner.react',['MessengerConfig','MessengerInterstitialBanner.react','MessengerNotificationBanner.react','MessengerRefreshPrompt','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={promotionData:this.props.initialPromotionData},m;}k.prototype.componentDidMount=function(){if(c('MessengerConfig').ShowReloadPrompt)c('MessengerRefreshPrompt')(function(l){return this.setState({promotionData:l});}.bind(this));};k.prototype.render=function(){var l=this.state.promotionData;if(!this.props.mobileAppInfo.hasMessenger||!this.props.mobileAppInfo.messengerPushable)return (c('React').createElement(c('MessengerInterstitialBanner.react'),{mobileAppInfo:this.props.mobileAppInfo,isFirstRedirect:this.props.isFirstRedirect}));if(l&&l.primaryActionURI)return (c('React').createElement(c('MessengerNotificationBanner.react'),{promotionID:l.promotionID,promotionContent:l.promotionContent,primaryActionTitle:l.primaryActionTitle,primaryActionURI:l.primaryActionURI,instanceLogData:l.instanceLogData}));return null;};k.propTypes={mobileAppInfo:j.shape({hasMessenger:j.bool.isRequired,messengerPushable:j.bool.isRequired}).isRequired,initialPromotionData:j.object,isFirstRedirect:j.bool};f.exports=k;}),null);
__d('shouldNotRenderSegoe',['MessengerConfig','UserAgent'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=new RegExp('[\u0530-\u05f4\u10a0-\u10ff]'),i=c('UserAgent').isBrowser('Chrome')&&c('UserAgent').isPlatform('Windows 10');f.exports=function j(k){return (!c('MessengerConfig').SegoeUIDisabled&&i&&h.test(k));};}),null);
__d('MessengerBubble.react',['cx','EmojiLikeUtils','EmojiOnlyMessage.react','immutable','ImmutableObject','MercuryMessageBody.react','MessengerDecorator','React','joinClasses','messengerCustomColorUtils','shouldNotRenderSegoe'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={emojis:undefined},n;}l.prototype.componentDidMount=function(){if(!this.props.emojis){var m=this.props.body||'',n=c('EmojiLikeUtils').richContent(m);if(n&&n.length)this.setState({emojis:n});}};l.prototype.render=function(){var m={};if(!this.state.emojis&&this.props.customColor)m=c('messengerCustomColorUtils').customBubbleStyle(this.props.customColor,m);var n=false;if(this.state.emojis){var o=c('EmojiLikeUtils').getSourceURIs(this.state.emojis),p=c('React').createElement(c('EmojiOnlyMessage.react'),{sourceURIs:o});}else{n=true;p=c('React').createElement(c('MercuryMessageBody.react'),{className:"_3oh-"+(c('shouldNotRenderSegoe')(this.props.body||'')?' '+"_2por":'')+(' '+"_58nk"),body:this.props.body,ranges:this.props.ranges,metaRanges:this.props.metaRanges,threadID:this.props.threadID,customLike:this.props.customLike});}var q=[],r=[],s=this.props.message,t=!!this.props.isFromViewer;if(s){c('MessengerDecorator').getAfterDecorators().forEach(function(v){if(v.check(s)){q.push(v.render(s,t));r.push(v.getAdditionalClassNames());}});c('MessengerDecorator').getBeforeDecorators().forEach(function(v){if(v.check(s))r.push(v.getAdditionalClassNames());});}var u=r.join(' ');return (c('React').createElement('div',babelHelpers['extends']({},this.props,{style:m,className:c('joinClasses')(u,this.props.className,"_hh7"+(' '+"_s1-")+(' '+"_52mr")+(this.props.isP2PAttachment?' '+"_4z55":'')+(!!this.state.emojis?' '+"_2f5r":'')+(!!this.state.emojis?' '+"_581a":'')+(n?' '+"_3oh-":''))}),p,this.props.attachments,q));};l.propTypes={attachments:k.instanceOf(c('immutable').List),body:k.string,customColor:k.string,customLike:k.object,isFromViewer:k.bool,message:k.instanceOf(c('ImmutableObject')),metaRanges:k.array,onUnwrap:k.func,ranges:k.array,threadID:k.string};f.exports=l;}),null);
__d('MessengerCodePasteUtils',['cx','BanzaiODS','MessengerBubble.react','React'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=/`{3,}/;function j(l){return !!(l&&l.search(i)!==-1&&l.split('\n').length>1);}function k(l,m,n,o){var p=l.split(i),q=[];for(var r=0;r<p.length;r+=2){var s=p[r].trim();if(s&&s.length>0)q.push(c('React').createElement(c('MessengerBubble.react'),{key:r,body:s,customColor:o||undefined,className:"clearfix _3058 _ui9",ranges:m,threadID:n}));if(r+1<p.length&&p[r+1]){var t=p[r+1].split('\n'),u=t[0].replace(/[^a-zA-Z]+/g,''),v=t.slice(1).join('\n');c('BanzaiODS').bumpEntityKey('messenger_code_paste','render_bubble');q.push(c('React').createElement('div',{key:r+1,className:"_3058 _wu0 _52mr"},c('React').createElement('div',{ref:'syntaxTarget'+r,className:'language-'+u},v)));}}return q;}f.exports={containsCodeBlock:j,getCodeAndMessageBubbles:k};}),null);
__d('MessengerDiodeWelcomeDialog.react',['fbt','MessengerActions','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogHeader.react','MessengerDialogFooter.react','MessengerDialogButton.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$MessengerDiodeWelcomeDialog1=function(q){if(!q)c('MessengerActions').hideDialog();},this.$MessengerDiodeWelcomeDialog2=function(){c('MessengerActions').hideDialog();},m;}k.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerDiodeWelcomeDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Te damos la bienvenida a Messenger")),c('React').createElement(c('MessengerDialogBody.react'),null,h._("Ahora puedes ver todos tus mensajes en Messenger.com. Creemos que es una mejor manera de enviar y recibir mensajes en la computadora y seguiremos trabajando para mejorar la experiencia. Tambi\u00e9n puedes seguir chateando en Facebook.")),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Aceptar"),onClick:this.$MessengerDiodeWelcomeDialog2,type:'primary'})));};f.exports=k;}),null);
__d('MessengerConstants',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={NEW_THREAD_KEY:'new'};f.exports=h;}),null);
__d('createCharacterList',['CharacterMetadata','immutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('immutable').List;function i(j,k){var l=j.map(function(m,n){var o=k[n];return c('CharacterMetadata').create({style:m,entity:o});});return h(l);}f.exports=i;}),null);
__d('decodeEntityRanges',['UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('UnicodeUtils').substr;function i(j,k){var l=Array(j.length).fill(null);if(k)k.forEach(function(m){var n=h(j,0,m.offset).length,o=n+h(j,m.offset,m.length).length;for(var p=n;p<o;p++)l[p]=m.key;});return l;}f.exports=i;}),null);
__d('decodeInlineStyleRanges',['UnicodeUtils','immutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('immutable').OrderedSet,i=c('UnicodeUtils').substr,j=h();function k(l,m){var n=Array(l.length).fill(j);if(m)m.forEach(function(o){var p=i(l,0,o.offset).length,q=p+i(l,o.offset,o.length).length;while(p<q){n[p]=n[p].add(o.style);p++;}});return n;}f.exports=k;}),null);
__d('convertFromRawToDraftState',['ContentBlock','ContentState','DraftEntity','immutable','createCharacterList','decodeEntityRanges','decodeInlineStyleRanges','generateRandomKey'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('immutable').Map;function i(j){var k=j.blocks,l=j.entityMap,m={};Object.keys(l).forEach(function(o){var p=l[o],q=p.type,r=p.mutability,s=p.data,t=c('DraftEntity').create(q,r,s||{});m[o]=t;});var n=k.map(function(o){var p=o.key,q=o.type,r=o.text,s=o.depth,t=o.inlineStyleRanges,u=o.entityRanges,v=o.data;p=p||c('generateRandomKey')();s=s||0;t=t||[];u=u||[];v=h(v);var w=c('decodeInlineStyleRanges')(r,t),x=u.filter(function(aa){return m.hasOwnProperty(aa.key);}).map(function(aa){return babelHelpers['extends']({},aa,{key:m[aa.key]});}),y=c('decodeEntityRanges')(r,x),z=c('createCharacterList')(w,y);return new (c('ContentBlock'))({key:p,type:q,text:r,depth:s,characterList:z,data:v});});return c('ContentState').createFromBlockArray(n);}f.exports=i;}),null);
__d('decodeBlocks',['ComposedBlockType','ComposedInlineStyle','convertFromRawToDraftState','mapObject'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k,l){var m=k.map(function(o){var p=o.type,q=o.inlineStyleRanges,r=babelHelpers.objectWithoutProperties(o,['type','inlineStyleRanges']);return babelHelpers['extends']({type:i[p],inlineStyleRanges:(q||[]).map(function(s){return babelHelpers['extends']({},s,{style:j[s.style]});})},r);}),n=c('mapObject')(l,function(o){return {type:o.getType(),mutability:o.getMutability(),data:o.getData()};});return c('convertFromRawToDraftState')({blocks:m,entityMap:n});}var i={};i[c('ComposedBlockType').UNSTYLED]='unstyled';i[c('ComposedBlockType').PARAGRAPH]='paragraph';i[c('ComposedBlockType').BLOCKQUOTE]='blockquote';i[c('ComposedBlockType').ORDERED_LIST_ITEM]='ordered-list-item';i[c('ComposedBlockType').UNORDERED_LIST_ITEM]='unordered-list-item';i[c('ComposedBlockType').CODE]='code-block';i[c('ComposedBlockType').HEADER_ONE]='header-one';i[c('ComposedBlockType').HEADER_TWO]='header-two';i[c('ComposedBlockType').MEDIA]='atomic';i[c('ComposedBlockType').PULLQUOTE]='pullquote';var j={};j[c('ComposedInlineStyle').BOLD]='BOLD';j[c('ComposedInlineStyle').CODE]='CODE';j[c('ComposedInlineStyle').ITALIC]='ITALIC';j[c('ComposedInlineStyle').STRIKETHROUGH]='STRIKETHROUGH';j[c('ComposedInlineStyle').UNDERLINE]='UNDERLINE';f.exports=h;}),null);
__d('DraftStringKey',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={stringify:function i(j){return '_'+String(j);},unstringify:function i(j){return j.slice(1);}};f.exports=h;}),null);
__d('encodeEntityRanges',['DraftStringKey','UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('UnicodeUtils').strlen;function i(j,k){var l=[];j.findEntityRanges(function(m){return !!m.getEntity();},function(m,n){var o=j.getText(),p=j.getEntityAt(m);l.push({offset:h(o.slice(0,m)),length:h(o.slice(m,n)),key:Number(k[c('DraftStringKey').stringify(p)])});});return l;}f.exports=i;}),null);
__d('encodeInlineStyleRanges',['UnicodeUtils','findRangesImmutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function m(n,o){return n===o;},i=function m(n){return !!n;},j=[];function k(m,n,o){var p=[],q=n.map(function(r){return r.has(o);}).toList();c('findRangesImmutable')(q,h,i,function(r,s){var t=m.getText();p.push({offset:c('UnicodeUtils').strlen(t.slice(0,r)),length:c('UnicodeUtils').strlen(t.slice(r,s)),style:o});});return p;}function l(m){var n=m.getCharacterList().map(function(p){return p.getStyle();}).toList(),o=n.flatten().toSet().map(function(p){return k(m,n,p);});return Array.prototype.concat.apply(j,o.toJS());}f.exports=l;}),null);
__d('convertFromDraftStateToRaw',['DraftEntity','DraftStringKey','encodeEntityRanges','encodeInlineStyleRanges'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=0,k={},l=[];i.getBlockMap().forEach(function(o,p){o.findEntityRanges(function(q){return q.getEntity()!==null;},function(q){var r=c('DraftStringKey').stringify(o.getEntityAt(q));if(!k.hasOwnProperty(r))k[r]=''+j++;});l.push({key:p,text:o.getText(),type:o.getType(),depth:o.getDepth(),inlineStyleRanges:c('encodeInlineStyleRanges')(o),entityRanges:c('encodeEntityRanges')(o,k),data:o.getData().toObject()});});var m=Object.keys(k),n={};m.forEach(function(o,p){var q=c('DraftEntity').get(c('DraftStringKey').unstringify(o));n[p]={type:q.getType(),mutability:q.getMutability(),data:q.getData()};});return {entityMap:n,blocks:l};}f.exports=h;}),null);
__d('encodeBlocks',['ComposedBlockType','ComposedEntityType','ComposedInlineStyle','convertFromDraftStateToRaw','mapObject','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k){var l=c('convertFromDraftStateToRaw')(k),m=l.blocks,n=l.entityMap,o=m.map(function(q){var r=q.key,s=q.type,t=q.text,u=q.depth,v=q.inlineStyleRanges,w=q.entityRanges;return {key:c('nullthrows')(r),type:i[s],text:t,depth:c('nullthrows')(u),inlineStyleRanges:c('nullthrows')(v).map(function(x){return babelHelpers['extends']({},x,{style:j[x.style]});}),entityRanges:c('nullthrows')(w)};}),p=c('mapObject')(n,function(q){var r=q.data,s=null,t=undefined;if(typeof r==='object'){s=r.id;t=babelHelpers.objectWithoutProperties(r,['id']);if(Object.keys(t).length===0){t=undefined;}else t=c('mapObject')(t,function(u){return u==null?'':String(u);});}return {id:s||null,type:c('ComposedEntityType')[q.type],data:t};});return {blocks:o,entityMap:p};}var i={unstyled:c('ComposedBlockType').UNSTYLED,paragraph:c('ComposedBlockType').PARAGRAPH,blockquote:c('ComposedBlockType').BLOCKQUOTE,'ordered-list-item':c('ComposedBlockType').ORDERED_LIST_ITEM,'unordered-list-item':c('ComposedBlockType').UNORDERED_LIST_ITEM,'code-block':c('ComposedBlockType').CODE,'header-one':c('ComposedBlockType').HEADER_ONE,'header-two':c('ComposedBlockType').HEADER_TWO,atomic:c('ComposedBlockType').MEDIA,pullquote:c('ComposedBlockType').PULLQUOTE,'header-three':c('ComposedBlockType').HEADER_TWO,'header-four':c('ComposedBlockType').HEADER_TWO,'header-five':c('ComposedBlockType').HEADER_TWO,'header-six':c('ComposedBlockType').HEADER_TWO},j={BOLD:c('ComposedInlineStyle').BOLD,CODE:c('ComposedInlineStyle').CODE,ITALIC:c('ComposedInlineStyle').ITALIC,STRIKETHROUGH:c('ComposedInlineStyle').STRIKETHROUGH,UNDERLINE:c('ComposedInlineStyle').UNDERLINE};f.exports=h;}),null);
__d('MessengerEditorStateManager',['CacheStorage','ComposedEntityMutability','ComposedEntityMutabilityToName','ComposedEntityTypeToName','DraftEntityInstance','EditorState','MessengerConstants','SelectionState','decodeBlocks','encodeBlocks','mapObject'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=new (c('CacheStorage'))('localstorage'),i=c('ComposedEntityMutability').IMMUTABLE,j=void 0,k={get:function l(m){if(!m)return this._getEmptyEditorState();if(m===c('MessengerConstants').NEW_THREAD_KEY)return j||this._getEmptyEditorState();var n=h.get(m,false);if(!n)return this._getEmptyEditorState();var o=n.encodedBlocks,p=c('mapObject')(o.entityMap,function(s,t){return new (c('DraftEntityInstance'))({type:c('ComposedEntityTypeToName')[s.type],mutability:c('ComposedEntityMutabilityToName')[i],data:s.data});}),q=c('decodeBlocks')(o.blocks,p),r=c('EditorState').createWithContent(q);return c('EditorState').acceptSelection(r,new (c('SelectionState'))(n.selection));},set:function l(m,n){if(m===c('MessengerConstants').NEW_THREAD_KEY){j=n;return;}var o=c('encodeBlocks')(n.getCurrentContent()),p=n.getSelection().toJS();h.set(m,{encodedBlocks:o,selection:p});},_getEmptyEditorState:function l(){var m=c('EditorState').createEmpty();return c('EditorState').forceSelection(m,m.getSelection());}};f.exports=k;}),null);
__d('MercuryChannelMessageTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k={author:i.mercury_author_id,author_email:i.mercury_author_email,body:i.body,subject:i.subject,has_attachment:i.has_attachment,attachments:i.attachments,ephemeral_ttl_mode:i.ephemeral_ttl_mode,html_body:i.html_body,thread_id:i.tid,thread_fbid:i.thread_fbid&&i.thread_fbid.toString(),other_user_fbid:i.other_user_fbid&&i.other_user_fbid.toString(),offline_threading_id:i.offline_threading_id,message_id:i.mid,is_spoof_warning:i.is_spoof_warning,ranges:i.ranges,source:i.mercury_source,source_tags:i.mercury_source_tags,tags:i.tags&&i.tags.split(','),threading_id:i.threading_id,timestamp:i.timestamp,timestamp_absolute:i.timestamp_absolute,timestamp_relative:i.timestamp_relative,timestamp_datetime:i.timestamp_datetime,timestamp_time_passed:i.timestamp_time_passed,action_type:c('MercuryActionType').USER_GENERATED_MESSAGE,is_unread:i.is_unread,is_forward:false,forward_count:i.forward_count||i.forward,forward_message_ids:i.forward_msg_ids,folder:j,sync_id:i.sync_id};return k;}f.exports={transform:h};}),null);
__d('MercuryDelayedDispatcher',['MercuryDispatcher','MercuryServerPayloadPreprocessor','MercuryServerRequests','MercurySingletonProvider','MercuryThreadIDMap'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(j){this.$MercuryDelayedDispatcher1=j;this.$MercuryDelayedDispatcher2=[];this.$MercuryDelayedDispatcher3=c('MercuryThreadIDMap').getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher4=c('MercuryDispatcher').getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher5=c('MercuryServerRequests').getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher6=c('MercuryServerPayloadPreprocessor').getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher4.subscribe('model-update-completed',function(k,l){return this.$MercuryDelayedDispatcher7();}.bind(this));}h.getForFBID=function(j){return i.getForFBID(j);};h.get=function(){return i.get();};h.prototype.handleUpdateWaitForThread=function(j,k){var l=this.$MercuryDelayedDispatcher3.getClientIDFromServerIDNow(k);if(l){this.$MercuryDelayedDispatcher8(j);return;}this.$MercuryDelayedDispatcher3.getClientIDFromServerID(k,function(){return this.$MercuryDelayedDispatcher2.push(j);}.bind(this));this.$MercuryDelayedDispatcher5.ensureThreadIsFetched(k);};h.prototype.$MercuryDelayedDispatcher7=function(){if(this.$MercuryDelayedDispatcher2&&this.$MercuryDelayedDispatcher2.length){var j=this.$MercuryDelayedDispatcher2[0];this.$MercuryDelayedDispatcher2=this.$MercuryDelayedDispatcher2.slice(1);this.$MercuryDelayedDispatcher8(j);}};h.prototype.$MercuryDelayedDispatcher8=function(j){if(j.from_client){this.$MercuryDelayedDispatcher4.handleUpdate(j);}else this.$MercuryDelayedDispatcher6.handleUpdate(j);};var i=new (c('MercurySingletonProvider'))(h);f.exports=h;}),null);
__d('MercuryChannelHandlerDEPRECATED',['Arbiter','ChannelConstants','LogHistory','MercuryActionType','MercuryChannelMessageTransformer','MercuryDelayedDispatcher','MercuryGlobalActionType','MercuryLogMessageType','MercuryMessages','MercuryPayloadSource','MercuryServerPayloadPreprocessor','MercurySingletonProvider','MercuryThreadInformer','MercuryViewer','MessagingEvent','MessagingTag','PresenceUtil','mixin'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('LogHistory').getInstance('mercury_channel_handler');i.get=function(){return j.get();};i.getForFBID=function(k){return j.getForFBID(k);};function i(k){this.$MercuryChannelHandlerDEPRECATED1=k;this.__payloadPreprocessor=c('MercuryServerPayloadPreprocessor').getForFBID(this.$MercuryChannelHandlerDEPRECATED1);this.$MercuryChannelHandlerDEPRECATED2=c('MercuryThreadInformer').getForFBID(this.$MercuryChannelHandlerDEPRECATED1);this.$MercuryChannelHandlerDEPRECATED3=c('MercuryMessages').getForFBID(this.$MercuryChannelHandlerDEPRECATED1);this.__delayedDispatcher=c('MercuryDelayedDispatcher').getForFBID(this.$MercuryChannelHandlerDEPRECATED1);this.$MercuryChannelHandlerDEPRECATED4=[];}i.prototype.getInstanceFBID=function(){return this.$MercuryChannelHandlerDEPRECATED1;};i.prototype.$MercuryChannelHandlerDEPRECATED5=function(k,l){if(!this.$MercuryChannelHandlerDEPRECATED6(k)||!l.obj.thread_fbids&&!l.obj.other_user_fbids)return;var m=c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE,n=void 0;(l.obj.thread_fbids||[]).forEach(function(o){if(l.obj.event==c('MessagingEvent').TAG){n=l.obj.tag;}else n=l.obj.marked_as_spam?c('MessagingTag').SPAM:c('MessagingTag').INBOX;var p={action_type:c('MercuryActionType').CHANGE_FOLDER,thread_fbid:o.toString(),other_user_fbid:null,new_folder:n};this.__delayedDispatcher.handleUpdateWaitForThread({actions:[babelHelpers['extends']({},p)],payload_source:m},o.toString());},this);(l.obj.other_user_fbids||[]).forEach(function(o){if(l.obj.event==c('MessagingEvent').TAG){n=l.obj.tag;}else n=l.obj.marked_as_spam?c('MessagingTag').SPAM:c('MessagingTag').INBOX;var p={action_type:c('MercuryActionType').CHANGE_FOLDER,other_user_fbid:o.toString(),thread_fbid:null,new_folder:n};this.__delayedDispatcher.handleUpdateWaitForThread({actions:[babelHelpers['extends']({},p)],payload_source:m},o.toString());},this);};i.prototype.$MercuryChannelHandlerDEPRECATED7=function(k,l){if(!this.$MercuryChannelHandlerDEPRECATED6(k)||!l.obj.tag)return;switch(l.obj.tag){case c('MessagingTag').INBOX:case c('MessagingTag').OTHER:this.$MercuryChannelHandlerDEPRECATED5(k,l);break;}};i.prototype.__markAsSeen=function(k,l){if(!this.$MercuryChannelHandlerDEPRECATED8(k)||!l.obj||!l.obj.seen_timestamp)return;this.__payloadPreprocessor.handleUpdate({message_counts:[{seen_timestamp:l.obj.seen_timestamp,folder:c('MessagingTag').INBOX}],unseen_thread_fbids:[{thread_fbids:[],other_user_fbids:[],folder:c('MessagingTag').INBOX}],payload_source:c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE});};i.prototype.__handleMessagingPayload=function(k,l){switch(l.obj.event){case c('MessagingEvent').TAG:this.$MercuryChannelHandlerDEPRECATED7(k,l);break;case c('MessagingEvent').REPORT_SPAM:this.$MercuryChannelHandlerDEPRECATED5(k,l);break;}};i.prototype.getRouting=function(){return {messaging:this.__handleMessagingPayload,inbox:this.__markAsSeen};};i.prototype.__getMessagingPayloadType=function(){return c('ChannelConstants').getArbiterType('messaging');};i.prototype.__getMercuryPayloadType=function(){return c('ChannelConstants').getArbiterType('mercury');};i.prototype.__getInboxPayloadType=function(){return c('ChannelConstants').getArbiterType('inbox');};i.prototype.$MercuryChannelHandlerDEPRECATED6=function(k){return k===this.__getMessagingPayloadType();};i.prototype.$MercuryChannelHandlerDEPRECATED9=function(k){return k===this.__getMercuryPayloadType();};i.prototype.$MercuryChannelHandlerDEPRECATED8=function(k){return k===this.__getInboxPayloadType();};i.prototype.turnOn=function(){if(!this.$MercuryChannelHandlerDEPRECATED4.length){var k=this.getRouting();for(var l in k)this.$MercuryChannelHandlerDEPRECATED4.push(c('Arbiter').subscribe(c('ChannelConstants').getArbiterType(l),k[l].bind(this)));}return this;};i.prototype.turnOff=function(){if(this.$MercuryChannelHandlerDEPRECATED4.length){this.$MercuryChannelHandlerDEPRECATED4.forEach(c('Arbiter').unsubscribe);this.$MercuryChannelHandlerDEPRECATED4=[];}return this;};i.prototype.__shouldDropLogMessageBecauseOfSync=function(k){switch(k.log_message_type){case c('MercuryLogMessageType').UNSUBSCRIBE:case c('MercuryLogMessageType').SUBSCRIBE:case c('MercuryLogMessageType').THREAD_NAME:case c('MercuryLogMessageType').VIDEO_CALL:case c('MercuryLogMessageType').PHONE_CALL:case c('MercuryLogMessageType').THREAD_IMAGE:case c('MercuryLogMessageType').ORION:case c('MercuryLogMessageType').PAGE_REPLY:case c('MercuryLogMessageType').GENERIC_ADMIN_TEXT:return true;case c('MercuryLogMessageType').SERVER_ERROR:case c('MercuryLogMessageType').LIVE_LISTEN:case c('MercuryLogMessageType').SWITCH_TO_WORK:case c('MercuryLogMessageType').WALLPAPER:default:break;}return false;};var j=new (c('MercurySingletonProvider'))(i);f.exports=i;}),null);
__d('MercuryDeliveryReceipts',['ArbiterMixin','Map','MercuryDispatcher','MercurySingletonProvider','mixin'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(l){'use strict';i.constructor.call(this);this.$MercuryDeliveryReceipts2=l;this.$MercuryDeliveryReceipts3=new (c('Map'))();this.$MercuryDeliveryReceipts1=c('MercuryDispatcher').getForFBID(this.$MercuryDeliveryReceipts2);this.$MercuryDeliveryReceipts1.subscribe('update-delivery',function(m,n){if(n.delivery_receipts)for(var o in n.delivery_receipts){var p=n.delivery_receipts[o],q=this.$MercuryDeliveryReceipts3.get(o)||0;if(p>q){this.$MercuryDeliveryReceipts3.set(o,p);this.informDeliveryStatusChanged(o);}}}.bind(this));}j.getForFBID=function(l){'use strict';return k.getForFBID(l);};j.get=function(){'use strict';return k.get();};j.prototype.informDeliveryStatusChanged=function(l){'use strict';var m=new (c('Map'))();m.set(l,true);this.inform('change',m);};j.prototype.getDeliveryTime=function(l){'use strict';return this.$MercuryDeliveryReceipts3.get(l)||0;};var k=new (c('MercurySingletonProvider'))(j);f.exports=j;}),null);
__d('MercuryDeliveryState',['MercuryConfig','MercuryIDs','MercuryServerRequests','MercurySingletonProvider','MercuryThreadIDMap','MercuryThreadInformer','PresencePrivacy','UserActivity','debounceAcrossTransitions'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('MercuryConfig').delivery_timeout||120000;i.getForFBID=function(k){return j.getForFBID(k);};i.get=function(){return j.get();};function i(k){this.$MercuryDeliveryState1=k;this.$MercuryDeliveryState2=c('MercuryServerRequests').getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState3=c('MercuryThreadInformer').getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState4=c('MercuryThreadIDMap').getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState5=[];this.$MercuryDeliveryState6={};this.$MercuryDeliveryState3.subscribe('messages-received',this.$MercuryDeliveryState7.bind(this));c('UserActivity').subscribe(c('debounceAcrossTransitions')(this.$MercuryDeliveryState8,300,this));}i.prototype.$MercuryDeliveryState7=function(k,l){for(var m in l){var n=l[m];n.forEach(function(o){if(this.$MercuryDeliveryState9(o)){this.$MercuryDeliveryState5.push(o);this.$MercuryDeliveryState4.getServerIDFromClientID(m,function(p){if(!this.$MercuryDeliveryState6[p])this.$MercuryDeliveryState6[p]=[];this.$MercuryDeliveryState6[p].push(o.message_id);}.bind(this));}}.bind(this));}if(c('UserActivity').isActive(h))this.$MercuryDeliveryState8();};i.prototype.$MercuryDeliveryState8=function(){if(this.$MercuryDeliveryState5.length===0&&Object.keys(this.$MercuryDeliveryState6).length===0)return;var k=this.$MercuryDeliveryState5.map(function(l){return l.message_id;});if(k)this.$MercuryDeliveryState2.sendDeliveryReceipts(k,this.$MercuryDeliveryState6);this.$MercuryDeliveryState6={};this.$MercuryDeliveryState5=[];};i.prototype.$MercuryDeliveryState9=function(k){var l=k.author?c('MercuryIDs').getUserIDFromParticipantID(k.author):null;if(l===this.$MercuryDeliveryState1)return false;if(!k.is_unread)return false;if(!c('PresencePrivacy').allows(l))return false;return true;};var j=new (c('MercurySingletonProvider'))(i);f.exports=i;}),null);
__d('MercurySyncConstants',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={ARBITER_EVENT_INVALID_STATE:'SYNC:INVALID_STATE',ARBITER_EVENT_INVALID_STATE_RETRY:'SYNC:INVALID_STATE_RETRY',ARBITER_EVENT_INVALID_STATE_RECOVER:'SYNC:INVALID_STATE_RECOVER'};f.exports=h;}),null);
__d('MercurySyncDeltaHolder',['Map'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.$MercurySyncDeltaHolder1=new (c('Map'))();this.$MercurySyncDeltaHolder2=[];}h.prototype.peek=function(){this.$MercurySyncDeltaHolder2=this.$MercurySyncDeltaHolder2.sort(function(i,j){return i-j;});return this.$MercurySyncDeltaHolder2[0];};h.prototype.pop=function(){this.$MercurySyncDeltaHolder2=this.$MercurySyncDeltaHolder2.sort(function(k,l){return k-l;});if(this.$MercurySyncDeltaHolder2.length===0)return undefined;var i=this.$MercurySyncDeltaHolder2.shift(),j=this.$MercurySyncDeltaHolder1.get(i);this.$MercurySyncDeltaHolder1['delete'](i);return {seqID:i,delta:j};};h.prototype.push=function(i,j){if(this.$MercurySyncDeltaHolder1.has(i))return;this.$MercurySyncDeltaHolder1.set(i,j);this.$MercurySyncDeltaHolder2.push(i);};f.exports=h;}),null);
__d('MercurySyncNewMessageTransformer',['IrisProtocolMessageLifetime','MercuryActionType','MercuryConfig','MercuryIDs','MercuryMessageCustomizations','MercuryProfileRanges','MercuryTimestamp','MessagingTag'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function j(k){var l={};try{l=JSON.parse(k);}catch(m){}return l;};function i(j,k){var l=parseInt(k.messageMetadata.timestamp,10),m=c('MercuryTimestamp').getFormatedTimestamp(l),n=k.messageMetadata.skipBumpThread&&c('MercuryConfig').WWWMessengerSkipBumpThread,o=j!==k.messageMetadata.actorFbId,p=[];if(k.attachments)p=k.attachments.map(function(r){return r.mercury;});var q=k.messageMetadata.tags?k.messageMetadata.tags[0]:undefined;return {message_id:k.messageMetadata.messageId,threading_id:null,offline_threading_id:k.messageMetadata.offlineThreadingId,author:c('MercuryIDs').getParticipantIDFromUserID(k.messageMetadata.actorFbId),author_email:k.messageMetadata.actorFbId+'@facebook.com',ephemeral_ttl_mode:k.ttl?c('IrisProtocolMessageLifetime')[k.ttl]:0,timestamp:l,timestamp_absolute:m.absolute,timestamp_relative:m.relative,timestamp_datetime:m.relative,timestamp_time_passed:c('MercuryTimestamp').getTimeBucket(l),is_unread:o,is_forward:false,is_filtered_content:false,is_filtered_content_bh:false,is_filtered_content_account:false,is_filtered_content_quasar:false,is_filtered_content_invalid_app:false,forward_count:0,forward_message_ids:[],source:q,tags:k.messageMetadata.tags,is_spoof_warning:false,folder:c('MessagingTag').INBOX,thread_fbid:k.messageMetadata.threadKey.threadFbId,other_user_fbid:k.messageMetadata.threadKey.otherUserFbId,body:k.body!==undefined?k.body:'',html_body:null,subject:null,has_attachment:p.length>0,attachments:p,ranges:undefined,thread_id:null,action_type:c('MercuryActionType').USER_GENERATED_MESSAGE,is_from_iris:true,is_sponsored:!!(k.data&&k.data.is_sponsored&&k.data.is_sponsored==='true'),commerce_message_type:k.data?k.data.commerce_message_type:null,customizations:k.data&&k.data.customization?c('MercuryMessageCustomizations').parseCustomizations(k.data.customization):null,platform_xmd:k.data&&k.data.platform_xmd?k.data.platform_xmd:null,profile_ranges:c('MercuryProfileRanges').extractFromDelta(k),message_source:k.data&&k.data.message_source_data?h(k.data.message_source_data).message_source:null,skip_bump_thread:n,montage_reply_data:k.data&&k.data.montage_reply_data?h(k.data.montage_reply_data):null};}f.exports={transform:i};}),null);
__d('MercurySyncAdminTextMessageTransformer',['MercuryActionType','MercuryLogMessageType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=c('MercurySyncNewMessageTransformer').transform(i,j);k.action_type=c('MercuryActionType').LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={message_type:j.type,untypedData:j.untypedData};k.log_message_type=c('MercuryLogMessageType').GENERIC_ADMIN_TEXT;return k;}f.exports={transform:h};}),null);
__d('MercurySyncClientPayloadTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=i.payload;j=JSON.parse(String.fromCharCode.apply(null,j));var k=j&&j.deltas,l=k[0],m=l&&l.deltaPaymentPinProtectionStatusData,n=m&&m.threadKey&&m.threadKey.otherUserFbId,o=m&&m.isPinProtected,p=n?n.toString():'';return {action_type:c('MercuryActionType').IS_PIN_PROTECTED,thread_fbid:p,is_pin_protected:o};}f.exports={transform:h};}),null);
__d('MercurySyncDeliveryReceiptTransformer',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return {delivery_receipts:[{other_user_fbid:i.threadKey.otherUserFbId?i.threadKey.otherUserFbId:'',thread_fbid:i.threadKey.threadFbId?i.threadKey.threadFbId:'',time:parseInt(i.deliveredWatermarkTimestampMs,10)}]};}f.exports={transform:h};}),null);
__d('MercurySyncMarkReadTransformer',['MercuryActionType','MercuryGlobalActionType','MessagingTag'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){if(i.folders&&i.folders.length>0)return i.folders.map(function(j){return {action_type:c('MercuryGlobalActionType').MARK_ALL_READ,action_id:null,folder:j,timestamp:parseInt(i.watermarkTimestamp,10)};});return i.threadKeys.map(function(j){return {action_type:c('MercuryActionType').CHANGE_READ_STATUS,other_user_fbid:j.otherUserFbId,thread_fbid:j.threadFbId,mark_as_read:true,timestamp:parseInt(i.watermarkTimestamp,10),folder:c('MessagingTag').INBOX};});}f.exports={transform:h};}),null);
__d('MercurySyncMarkUnreadTransformer',['MercuryActionType','MessagingTag'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return i.threadKeys.map(function(j){return {action_type:c('MercuryActionType').CHANGE_READ_STATUS,other_user_fbid:j.otherUserFbId,thread_fbid:j.threadFbId,mark_as_read:false,timestamp:parseInt(i.watermarkTimestamp,10),folder:c('MessagingTag').INBOX};});}f.exports={transform:h};}),null);
__d('MercurySyncMessageDeleteTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return {action_type:c('MercuryActionType').DELETE_MESSAGES,message_ids:i.messageIds,other_user_fbid:i.threadKey.otherUserFbId,thread_fbid:i.threadKey.threadFbId};}f.exports={transform:h};}),null);
__d('MercurySyncPagesManagerEventTransformer',['MercuryActionType','PagesMessagingEventType'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=JSON.parse(i.jsonBlob),k=j&&j.type;if(!k)return undefined;switch(k){case c('PagesMessagingEventType').FLAG:var l=!!(j&&j.flagData&&j.flagData.state),m={action_type:c('MercuryActionType').CHANGE_FLAG,mark_as_flag:l,mark_as_priority:null,other_user_fbid:i.threadKey.otherUserFbId,thread_fbid:i.threadKey.threadFbId};return m;case c('PagesMessagingEventType').PRIORITY_UPDATE:var n=!!(j&&j.priorityData&&j.priorityData.state),o={action_type:c('MercuryActionType').UPDATE_PRIORITY,mark_as_flag:null,mark_as_priority:n,other_user_fbid:i.threadKey.otherUserFbId,thread_fbid:i.threadKey.threadFbId};return o;default:return undefined;}}f.exports={transform:h};}),null);
__d('MercurySyncParticipantLeftGroupThreadTransformer',['MercuryActionType','MercuryIDs','MercuryLogMessageType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';function h(i,j){var k=c('MercurySyncNewMessageTransformer').transform(i,j);k.action_type=c('MercuryActionType').LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={removed_participants:[c('MercuryIDs').getParticipantIDFromUserID(j.leftParticipantFbId)]};k.log_message_type=c('MercuryLogMessageType').UNSUBSCRIBE;return k;}f.exports={transform:h};}),null);
__d('MercurySyncParticipantsAddedToGroupThreadTransformer',['MercuryActionType','MercuryIDs','MercuryLogMessageType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';function h(i,j){var k=c('MercurySyncNewMessageTransformer').transform(i,j);k.action_type=c('MercuryActionType').LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={added_participants:j.addedParticipants.map(function(l){return (c('MercuryIDs').getParticipantIDFromUserID(l.userFbId));})};k.log_message_type=c('MercuryLogMessageType').SUBSCRIBE;return k;}f.exports={transform:h};}),null);
__d('MercurySyncRTCEventLogTransformer',['MercuryActionType','MercuryIDs','MercuryLogMessageType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';function h(i,j){var k=c('MercurySyncNewMessageTransformer').transform(i,j),l=j.messageMetadata.actorFbId,m=l===i?j.messageMetadata.threadKey.otherUserFbId:i;k.action_type=c('MercuryActionType').LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={answered:j.duration>0,callee:c('MercuryIDs').getParticipantIDFromUserID(m),caller:c('MercuryIDs').getParticipantIDFromUserID(l)};k.log_message_type=c('MercuryLogMessageType').VIDEO_CALL;return k;}f.exports={transform:h};}),null);
__d('MercurySyncReadReceiptTransformer',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j={watermark:parseInt(i.watermarkTimestampMs,10),action:parseInt(i.actionTimestampMs,10)},k=i.threadKey.otherUserFbId||i.actorFbId,l=i.threadKey.otherUserFbId||i.threadKey.threadFbId,m={roger:{}};m.roger[l]={};m.roger[l][k]=j;return m;}f.exports={transform:h};}),null);
__d('MercurySyncReplaceMessageTransformer',['MercuryActionType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){j=Object.assign({},j.newMessage,j);return Object.assign(c('MercurySyncNewMessageTransformer').transform(i,j),{action_type:c('MercuryActionType').REPLACE_MESSAGE,replaced_message_id:j.replacedMessageId});}f.exports={transform:h};}),null);
__d('MercurySyncThreadActionTransformer',['MercuryActionType','MessagingThreadAction'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j={action_type:c('MercuryActionType').CHANGE_ARCHIVED_STATUS,thread_fbid:i.threadKey.threadFbId,other_user_fbid:i.threadKey.otherUserFbId,archived:i.action===c('MessagingThreadAction').ACTION_ARCHIVED};return j;}f.exports={transform:h};}),null);
__d('MercurySyncThreadAdminsAddToGroupTransformer',['MercuryActionType','MercuryIDs'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return {action_type:c('MercuryActionType').ADD_GROUP_ADMINS,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,added_admin_ids:i.addedAdmins.map(function(j){return c('MercuryIDs').getParticipantIDFromUserID(j.userFbId);})};}f.exports={transform:h};}),null);
__d('MercurySyncThreadAdminsRemovedFromGroupTransformer',['MercuryActionType','MercuryIDs'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return {action_type:c('MercuryActionType').REMOVE_GROUP_ADMINS,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,removed_admin_ids:i.removedAdminFbIds.map(function(j){return c('MercuryIDs').getParticipantIDFromUserID(j);})};}f.exports={transform:h};}),null);
__d('MercurySyncThreadApprovalModeTransformer',['MercuryActionType','MessengerApprovalModeTypes'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return {action_type:c('MercuryActionType').APPROVAL_MODE,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,approval_mode:c('MessengerApprovalModeTypes')[i.mode]};}f.exports={transform:h};}),null);
__d('MercurySyncThreadApprovalQueueTransformer',['MercuryActionType','MercuryIDs','MessengerApprovalQueueTypes'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=c('MercuryIDs').getParticipantIDFromUserID(i.recipientFbId);return {action_type:c('MercuryActionType').APPROVAL_QUEUE,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,removed_id:i.action===c('MessengerApprovalQueueTypes').REMOVED?j:null,added_id:i.action===c('MessengerApprovalQueueTypes').REQUESTED?j:null};}f.exports={transform:h};}),null);
__d('MercurySyncThreadDeleteTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return i.threadKeys.map(function(j){return {action_type:c('MercuryActionType').DELETE_THREAD,other_user_fbid:j.otherUserFbId,thread_fbid:j.threadFbId};});}f.exports={transform:h};}),null);
__d('MercurySyncThreadJoinableModeTransformer',['MercuryActionType','MessengerJoinableModeType'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return {action_type:c('MercuryActionType').JOINABLE_MODE,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,joinable_mode:{mode:c('MessengerJoinableModeType')[i.mode],link:i.link}};}f.exports={transform:h};}),null);
__d('MercurySyncThreadMuteSettingsTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j={action_type:c('MercuryActionType').CHANGE_MUTE_SETTINGS,thread_fbid:i.threadKey.threadFbId,other_user_fbid:i.threadKey.otherUserFbId,mute_until:parseInt(i.expireTime,10)};return j;}f.exports={transform:h};}),null);
__d('MercurySyncThreadNameTransformer',['MercuryActionType','MercuryLogMessageType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';function h(i,j){var k=c('MercurySyncNewMessageTransformer').transform(i,j);k.action_type=c('MercuryActionType').LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={name:j.name};k.log_message_type=c('MercuryLogMessageType').THREAD_NAME;return k;}f.exports={transform:h};}),null);
__d('MercurySyncDispatcher',['MercuryDelayedDispatcher','MercuryGlobalActionType','MercuryPayloadSource','MercuryServerPayloadPreprocessor','MercurySyncThreadAdminsAddToGroupTransformer','MercurySyncThreadAdminsRemovedFromGroupTransformer','MercurySyncAdminTextMessageTransformer','MercurySyncClientPayloadTransformer','MercurySyncDeliveryReceiptTransformer','MercurySyncMarkReadTransformer','MercurySyncMarkUnreadTransformer','MercurySyncMessageDeleteTransformer','MercurySyncNewMessageTransformer','MercurySyncReadReceiptTransformer','MercurySyncPagesManagerEventTransformer','MercurySyncParticipantLeftGroupThreadTransformer','MercurySyncParticipantsAddedToGroupThreadTransformer','MercurySyncRTCEventLogTransformer','MercurySyncThreadDeleteTransformer','MercurySyncThreadMuteSettingsTransformer','MercurySyncThreadNameTransformer','MercurySyncThreadActionTransformer','MercurySyncReplaceMessageTransformer','MercurySyncThreadJoinableModeTransformer','MercurySyncThreadApprovalModeTransformer','MercurySyncThreadApprovalQueueTransformer','MercurySyncDeltaTypes','MercurySingletonProvider','MontageActions'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.getForFBID=function(j){return i.getForFBID(j);};h.get=function(){return i.get();};function h(j){this.$MercurySyncDispatcher1=j;this.$MercurySyncDispatcher2=c('MercuryDelayedDispatcher').getForFBID(this.$MercurySyncDispatcher1);this.$MercurySyncDispatcher3=c('MercuryServerPayloadPreprocessor').getForFBID(this.$MercurySyncDispatcher1);}h.prototype.process=function(j){var k=void 0;switch(j['class']){case c('MercurySyncDeltaTypes').NewMessage:k=c('MercurySyncNewMessageTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ReplaceMessage:k=c('MercurySyncReplaceMessageTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').DeliveryReceipt:k=c('MercurySyncDeliveryReceiptTransformer').transform(j);this.$MercurySyncDispatcher3.handleUpdate(k);break;case c('MercurySyncDeltaTypes').MarkRead:k=c('MercurySyncMarkReadTransformer').transform(j);var l=false;for(var m=0;m<k.length;m++){var n=k[m];if(n.action_type===c('MercuryGlobalActionType').MARK_ALL_READ)l=true;}if(l)return;this.$MercurySyncDispatcher5(k);break;case c('MercurySyncDeltaTypes').MarkUnread:k=c('MercurySyncMarkUnreadTransformer').transform(j);this.$MercurySyncDispatcher5(k);break;case c('MercurySyncDeltaTypes').ParticipantLeftGroupThread:k=c('MercurySyncParticipantLeftGroupThreadTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ParticipantsAddedToGroupThread:k=c('MercurySyncParticipantsAddedToGroupThreadTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').RTCEventLog:k=c('MercurySyncRTCEventLogTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ThreadName:k=c('MercurySyncThreadNameTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ReadReceipt:k=c('MercurySyncReadReceiptTransformer').transform(j);this.$MercurySyncDispatcher3.handleUpdate(k);break;case c('MercurySyncDeltaTypes').AdminTextMessage:k=c('MercurySyncAdminTextMessageTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').MessageDelete:k=c('MercurySyncMessageDeleteTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ThreadAction:k=c('MercurySyncThreadActionTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ThreadDelete:k=c('MercurySyncThreadDeleteTransformer').transform(j);this.$MercurySyncDispatcher5(k);break;case c('MercurySyncDeltaTypes').AdminAddedToGroupThread:k=c('MercurySyncThreadAdminsAddToGroupTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').AdminRemovedFromGroupThread:k=c('MercurySyncThreadAdminsRemovedFromGroupTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ThreadMuteSettings:k=c('MercurySyncThreadMuteSettingsTransformer').transform(j);this.$MercurySyncDispatcher5([k]);break;case c('MercurySyncDeltaTypes').PagesManagerEvent:k=c('MercurySyncPagesManagerEventTransformer').transform(j);if(!k)return;this.$MercurySyncDispatcher5([k]);break;case c('MercurySyncDeltaTypes').JoinableMode:k=c('MercurySyncThreadJoinableModeTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ApprovalMode:k=c('MercurySyncThreadApprovalModeTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ApprovalQueue:k=c('MercurySyncThreadApprovalQueueTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ClientPayload:k=c('MercurySyncClientPayloadTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').GenieMessage:k=c('MercurySyncNewMessageTransformer').transform(this.$MercurySyncDispatcher1,j.deltaNewMessage);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').MontageMessage:var o=j.newMessage.messageMetadata.actorFbId;if(o)c('MontageActions').requestUpdate(o);default:break;}};h.prototype.$MercurySyncDispatcher4=function(j){var k=j.other_user_fbid||j.thread_fbid;this.$MercurySyncDispatcher2.handleUpdateWaitForThread({actions:[j],payload_source:c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE},k);};h.prototype.$MercurySyncDispatcher5=function(j){this.$MercurySyncDispatcher3.handleUpdate({actions:j,payload_source:c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE});};var i=new (c('MercurySingletonProvider'))(h);f.exports=h;}),null);
__d('MercurySyncDataFetcherImpl',['Promise','AsyncRequest','MessagingConfig','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('MessagingConfig').syncFetchRequestTimeoutMs;function i(k){return new (c('Promise'))(function(l,m){j(k,l,m,0);});}function j(k,l,m,n){if(n>c('MessagingConfig').syncFetchRetries){m();return;}var o=n===0?0:c('MessagingConfig').syncFetchInitialTimeoutMs*Math.pow(c('MessagingConfig').syncFetchTimeoutMultiplier,n);c('setTimeoutAcrossTransitions')(function(){var p=false,q=function r(){if(p)return;p=true;j(k,l,m,n+1);};new (c('AsyncRequest'))().setURI(k).setHandler(function(r){p=true;l(r);}).setErrorHandler(q).setTimeoutHandler(h,q).setAllowCrossPageTransition(true).send();},o);}f.exports={fetch:i};}),null);
__d('MercurySyncDataFetcher',['Promise','LogHistory','MessagingConfig','MercurySyncDataFetcherImpl','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('LogHistory').getInstance('mercury_sync_data_fetcher');function i(){var l=0;for(var m=0;m<c('MessagingConfig').syncFetchRetries;m++){var n=m===0?0:c('MessagingConfig').syncFetchInitialTimeoutMs*Math.pow(c('MessagingConfig').syncFetchTimeoutMultiplier,m);l+=n+c('MessagingConfig').syncFetchRequestTimeoutMs;}return l;}var j=i();function k(l){return new (c('Promise'))(function(m,n){c('MercurySyncDataFetcherImpl').fetch(l).done(m,n);c('setTimeoutAcrossTransitions')(function(){h.error('fetch_timeout',JSON.stringify({timeout:j,uri:l.toString()}));n();},j);});}f.exports={fetch:k,getMaxTimeoutMs:i};}),null);
__d("XMercuryFetchMessageController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mercury\/fetch_message\/",{other_user_or_thread_fbid:{type:"Int",required:true},mid:{type:"String",required:true}});}),null);
__d("XMercuryInvalidateGlobalStateController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mercury\/invalidate_global_state\/",{});}),null);
__d("XMercuryInvalidateThreadStateController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mercury\/invalidate_thread_state\/",{other_user_or_thread_fbid:{type:"Int",required:true},num_messages:{type:"Int",required:true}});}),null);
__d('MercurySyncDFFDataFetcher',['Promise','ActorURI','AsyncRequest','MercuryMessages','MercuryThreads','MercuryThreadIDMap','MercurySingletonProvider','MercurySyncDataFetcher','XMercuryFetchMessageController','XMercuryInvalidateGlobalStateController','XMercuryInvalidateThreadStateController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(j){this.$MercurySyncDFFDataFetcher1=j;this.__messages=c('MercuryMessages').getForFBID(this.$MercurySyncDFFDataFetcher1);this.__threads=c('MercuryThreads').getForFBID(this.$MercurySyncDFFDataFetcher1);this.__threadIDMap=c('MercuryThreadIDMap').getForFBID(this.$MercurySyncDFFDataFetcher1);}h.getForFBID=function(j){return i.getForFBID(j);};h.get=function(){return i.get();};h.prototype.fetchInvalidateGlobalState=function(){var j=c('XMercuryInvalidateGlobalStateController').getURIBuilder().getURI(),k=c('ActorURI').create(j,this.$MercurySyncDFFDataFetcher1);return c('MercurySyncDataFetcher').fetch(k);};h.prototype.fetchInvalidateThreadState=function(j,k){var l=11,m=3,n=j||k,o=this.__threadIDMap.getClientIDFromServerIDNow(n);if(!o)return c('Promise').resolve({getPayload:function s(){return {};}});var p=m+this.__messages.getCurrentlyLoadedMessages(o).length,q=c('XMercuryInvalidateThreadStateController').getURIBuilder().setInt('other_user_or_thread_fbid',n).setInt('num_messages',Math.max(p,l)).getURI(),r=c('ActorURI').create(q,this.$MercurySyncDFFDataFetcher1);return c('MercurySyncDataFetcher').fetch(r);};h.prototype.fetchInvalidateMessage=function(j,k,l){var m=c('XMercuryFetchMessageController').getURIBuilder().setInt('other_user_or_thread_fbid',j||k).setString('mid',l).getURI(),n=c('ActorURI').create(m,this.$MercurySyncDFFDataFetcher1);return c('MercurySyncDataFetcher').fetch(n);};var i=new (c('MercurySingletonProvider'))(h);f.exports=h;}),null);
__d('MercurySyncForcedFetchHandler',['Promise','MercurySingletonProvider','MercurySyncDFFDataFetcher','MercuryMessages','MercuryThreadIDMap'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k){return {getPayload:function l(){return {sequence_id:k};}};}i.getForFBID=function(k){return j.getForFBID(k);};i.get=function(){return j.get();};function i(k){this.$MercurySyncForcedFetchHandler1=k;this.$MercurySyncForcedFetchHandler2=c('MercuryMessages').getForFBID(this.$MercurySyncForcedFetchHandler1);this.$MercurySyncForcedFetchHandler3=c('MercuryThreadIDMap').getForFBID(this.$MercurySyncForcedFetchHandler1);this.$MercurySyncForcedFetchHandler4=c('MercurySyncDFFDataFetcher').getForFBID(this.$MercurySyncForcedFetchHandler1);}i.prototype.processMessageDFF=function(k,l,m,n){if(n){var o=l.otherUserFbId!==undefined?l.otherUserFbId.toString():l.threadFbId.toString(),p=this.$MercurySyncForcedFetchHandler3.getClientIDFromServerIDNow(o);if(p===undefined)return c('Promise').resolve(h(k));var q=this.$MercurySyncForcedFetchHandler2.getMessagesFromIDs([m]);if(q.length===0)return c('Promise').resolve(h(k));}return this.$MercurySyncForcedFetchHandler4.fetchInvalidateMessage(l.otherUserFbId,l.threadFbId,m);};i.prototype.processThreadDFF=function(k,l,m){if(m){var n=l.otherUserFbId!==undefined?l.otherUserFbId.toString():l.threadFbId.toString(),o=this.$MercurySyncForcedFetchHandler3.getClientIDFromServerIDNow(n);if(o===undefined)return c('Promise').resolve(h(k));}return this.$MercurySyncForcedFetchHandler4.fetchInvalidateThreadState(l.otherUserFbId,l.threadFbId);};i.prototype.processGlobalDFF=function(){return this.$MercurySyncForcedFetchHandler4.fetchInvalidateGlobalState();};var j=new (c('MercurySingletonProvider'))(i);f.exports=i;}),null);
__d('MercurySyncDeltaHandler',['invariant','Arbiter','ChannelConstants','LogHistory','MercuryConfig','MessagingConfig','MercuryDelayedDispatcher','MercuryPayloadSource','MercurySyncConstants','MercurySyncDeltaHolder','MercurySyncDeltaTypes','MercurySyncDispatcher','MercurySyncForcedFetchHandler','MercurySyncHolesTypedLogger','MercuryServerPayloadPreprocessor','MercurySyncTopicType','MercurySingletonProvider'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('LogHistory').getInstance('mercury_sync_delta_handler'),j=c('MessagingConfig').syncFetchRetries||0;k.getForFBID=function(m){return l.getForFBID(m);};k.get=function(){return l.get();};function k(m){this.$MercurySyncDeltaHandler1=m;this.$MercurySyncDeltaHandler2=c('MercurySyncDispatcher').getForFBID(this.$MercurySyncDeltaHandler1);this.$MercurySyncDeltaHandler4=c('MercurySyncForcedFetchHandler').getForFBID(this.$MercurySyncDeltaHandler1);this.__payloadPreprocessor=c('MercuryServerPayloadPreprocessor').getForFBID(this.$MercurySyncDeltaHandler1);this.__delayedDispatcher=c('MercuryDelayedDispatcher').getForFBID(this.$MercurySyncDeltaHandler1);this.$MercurySyncDeltaHandler5=new (c('MercurySyncDeltaHolder'))();this.$MercurySyncDeltaHandler6=false;this.$MercurySyncDeltaHandler7=[];this.$MercurySyncDeltaHandler3=0;this.$MercurySyncDeltaHandler10=0;i.debug('constructor',JSON.stringify({fbid:this.$MercurySyncDeltaHandler1}));c('Arbiter').subscribe('MercurySyncDeltaHandler/initSeqID',function(n,o){i.debug('initSeqID',JSON.stringify(o));var p=o&&o.seqID,q=o&&o.fbid;if(!q)return;if(q!==this.$MercurySyncDeltaHandler1)return;if(p){this.$MercurySyncDeltaHandler3=p;}else this.$MercurySyncDeltaHandler3=0;this.$MercurySyncDeltaHandler11();}.bind(this));}k.prototype.$MercurySyncDeltaHandler11=function(){i.debug('setUpSubscriptionsToRealTimeUpdates',JSON.stringify({fbid:this.$MercurySyncDeltaHandler1}));this.$MercurySyncDeltaHandler9=c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('delta'),function(m,n){var o=n&&n.obj&&n.obj.queue;if(o)if(o.toString()!==this.$MercurySyncDeltaHandler1)return;var p=n&&n.obj&&n.obj.delta,q=n&&n.obj&&n.obj.iseq;if(!p||!q)return;this.$MercurySyncDeltaHandler12(q,c('MercurySyncTopicType').DELTA);this.$MercurySyncDeltaHandler13(q,p);this.$MercurySyncDeltaHandler5.push(q,p);this.$MercurySyncDeltaHandler14();}.bind(this));this.$MercurySyncDeltaHandler8=c('Arbiter').subscribe(c('ChannelConstants').getArbiterType(c('ChannelConstants').FAKE_DFF),function(m,n){var o=n&&n.obj&&n.obj.queue;if(o&&o.toString()!==this.$MercurySyncDeltaHandler1)return;var p=n&&n.obj&&n.obj.delta;if(!p)return;this.$MercurySyncDeltaHandler7.push(p);this.$MercurySyncDeltaHandler14();}.bind(this));};k.prototype.$MercurySyncDeltaHandler14=function(){if(this.$MercurySyncDeltaHandler6)return;if(this.$MercurySyncDeltaHandler7.length>0){var m=this.$MercurySyncDeltaHandler7.shift();this.$MercurySyncDeltaHandler15(this.$MercurySyncDeltaHandler3,m);this.$MercurySyncDeltaHandler14();}var n=this.$MercurySyncDeltaHandler5.peek();if(!n)return;var o=n-this.$MercurySyncDeltaHandler3;if(o===1){var p=this.$MercurySyncDeltaHandler5.pop();if(!p)return;var q=p.seqID,r=p.delta;this.$MercurySyncDeltaHandler15(q,r);this.$MercurySyncDeltaHandler14();}else if(o>1){this.$MercurySyncDeltaHandler16();}else{this.$MercurySyncDeltaHandler5.pop();this.$MercurySyncDeltaHandler14();}};k.prototype.$MercurySyncDeltaHandler15=function(m,n){this.$MercurySyncDeltaHandler3=m;if(n['class']===c('MercurySyncDeltaTypes').ForcedFetch){i.debug('DFF',JSON.stringify(n));if(n.threadKey!==undefined&&n.messageId===undefined){this.$MercurySyncDeltaHandler17(m,n);}else if(n.threadKey!==undefined&&n.messageId!==undefined){this.$MercurySyncDeltaHandler18(m,n);}else this.$MercurySyncDeltaHandler19(m);}else this.$MercurySyncDeltaHandler2.process(n);};k.prototype.$MercurySyncDeltaHandler16=function(){i.warn('hole',JSON.stringify({$MercurySyncDeltaHandler3:this.$MercurySyncDeltaHandler3,nextSeqID:this.$MercurySyncDeltaHandler5.peek()}));var m=this.$MercurySyncDeltaHandler5.peek();!!!m?h(0):void 0;var n=m-1;this.$MercurySyncDeltaHandler19(n);};k.prototype.$MercurySyncDeltaHandler20=function(m,n,o,p){!!this.$MercurySyncDeltaHandler6?h(0):void 0;this.$MercurySyncDeltaHandler6=true;i.debug('_scheduleDataFetch:start',JSON.stringify({seqID:m}));n().done(function(q){i.debug('_scheduleDataFetch:success',JSON.stringify({seqID:m}));o(m,q);this.$MercurySyncDeltaHandler6=false;this.$MercurySyncDeltaHandler14();}.bind(this),function(){i.error('_scheduleDataFetch:failure',JSON.stringify({seqID:m}));p(m);this.$MercurySyncDeltaHandler6=false;this.$MercurySyncDeltaHandler14();}.bind(this));};k.prototype.$MercurySyncDeltaHandler19=function(m){this.$MercurySyncDeltaHandler20(undefined,function(){return this.$MercurySyncDeltaHandler4.processGlobalDFF();}.bind(this),function(n,o){var p=o.getPayload();this.__payloadPreprocessor.handleUpdate(p);if(p.sequence_id){i.debug('_initiateGlobalDFF:success',JSON.stringify({seqID:p.sequence_id}));this.$MercurySyncDeltaHandler3=p.sequence_id;}this.$MercurySyncDeltaHandler10=0;c('Arbiter').inform(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE_RECOVER);}.bind(this),function(){i.error('_initiateGlobalDFF:failure','');if(this.$MercurySyncDeltaHandler10>=j){c('Arbiter').unsubscribe(this.$MercurySyncDeltaHandler9);c('Arbiter').unsubscribe(this.$MercurySyncDeltaHandler8);c('Arbiter').inform(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE);this.$MercurySyncDeltaHandler3=m;}else{this.$MercurySyncDeltaHandler10++;c('Arbiter').inform(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE_RETRY);i.debug('_initiateGlobalDFF:retry','');this.$MercurySyncDeltaHandler6=false;this.$MercurySyncDeltaHandler19(m);}}.bind(this));};k.prototype.$MercurySyncDeltaHandler17=function(m,n){this.$MercurySyncDeltaHandler20(m,function(){return this.$MercurySyncDeltaHandler4.processThreadDFF(m,n.threadKey,n.isLazy);}.bind(this),function(o,p){this.__payloadPreprocessor.handleUpdate(p.getPayload());this.$MercurySyncDeltaHandler3=o;}.bind(this),function(){i.error('_initiateThreadDFF:failure',JSON.stringify(n));var o=babelHelpers['extends']({},n);delete o.threadKey;this.$MercurySyncDeltaHandler3=m-1;this.$MercurySyncDeltaHandler5.push(m,o);}.bind(this));};k.prototype.$MercurySyncDeltaHandler18=function(m,n){this.$MercurySyncDeltaHandler20(m,function(){return this.$MercurySyncDeltaHandler4.processMessageDFF(m,n.threadKey,n.messageId,n.isLazy);}.bind(this),function(o,p){var q=p.getPayload(),r=q.other_user_fbid?q.other_user_fbid:q.thread_fbid,s=[babelHelpers['extends']({},q)],t=c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE;this.__delayedDispatcher.handleUpdateWaitForThread({actions:s,payload_source:t},r);this.$MercurySyncDeltaHandler3=o;}.bind(this),function(){i.error('_initiateMessageDFF:failure',JSON.stringify(n));var o=babelHelpers['extends']({},n);delete o.messageId;this.$MercurySyncDeltaHandler3=m-1;this.$MercurySyncDeltaHandler5.push(m,o);}.bind(this));};k.prototype.$MercurySyncDeltaHandler12=function(m,n){var o=m-this.$MercurySyncDeltaHandler3;if(o!==1&&o!==0){if(!c('MercuryConfig').WWWSyncHolesLogging)return;new (c('MercurySyncHolesTypedLogger'))().setSeqID(m).setDifference(o).setTopicType(n).log();}};k.prototype.$MercurySyncDeltaHandler13=function(m,n){switch(n['class']){case c('MercurySyncDeltaTypes').NewMessage:i.debug('message_delta',JSON.stringify({seqID:m,threadKey:n.messageMetadata.threadKey,messageId:n.messageMetadata.messageId}));break;case c('MercurySyncDeltaTypes').ReadReceipt:i.debug('read_receipt_delta',JSON.stringify({seqID:m,threadKey:n.threadKey,actionTimestampMs:n.actionTimestampMs,watermarkTimestampMs:n.watermarkTimestampMs}));break;case c('MercurySyncDeltaTypes').DeliveryReceipt:i.debug('delivery_receipt_delta',JSON.stringify({seqID:m,deliveredWatermarkTimestampMs:n.deliveredWatermarkTimestampMs,messageIds:n.messageIds}));break;}};var l=new (c('MercurySingletonProvider'))(k);f.exports=k;}),null);
__d('MercurySyncEnvironment',['Arbiter','ChannelInitialData','CurrentUser','MercurySyncDeltaHandler'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){if(!c('ChannelInitialData').channelConfig)return;c('MercurySyncDeltaHandler').get();c('Arbiter').inform('MercurySyncDeltaHandler/initSeqID',{fbid:c('CurrentUser').getAccountID(),seqID:c('ChannelInitialData').channelConfig.sequenceId});}f.exports={setUp:h};}),null);
__d('MercuryUnreadState',['invariant','MercuryFolders','LogHistory','KeyedCallbackManager','MercuryActionType','MercuryDispatcher','MercuryGlobalActionType','MercurySingletonProvider','MercuryThreadlistConstants','MercuryThreadIDMap','MessagingTag','MercuryServerRequests','MercuryThreadInformer','MercuryThreads','arrayContains','createObjectFrom'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=(c('MercuryFolders').getSupportedFolders()||[]).filter(function(p){return p!==c('MessagingTag').ACTION_ARCHIVED;}),j='unread_thread_hash',k='unseen_thread_list',l=c('MercuryThreadlistConstants').MAX_UNREAD_COUNT,m=c('LogHistory').getInstance('mercury_unread_state');n.getForFBID=function(p){return o.getForFBID(p);};n.get=function(){return o.get();};function n(p){this.$MercuryUnreadState1=p;this.$MercuryUnreadState2=c('MercuryServerRequests').getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState3=c('MercuryThreadIDMap').getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState4=c('MercuryThreadInformer').getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState5=c('MercuryThreads').getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState6=c('MercuryDispatcher').getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState7={};this.$MercuryUnreadState8={};this.$MercuryUnreadState9={};this.$MercuryUnreadState10={};this.$MercuryUnreadState11={};i.forEach(function(q){this.$MercuryUnreadState9[q]=0;this.$MercuryUnreadState10[q]=false;this.$MercuryUnreadState11[q]=new (c('KeyedCallbackManager'))();}.bind(this));this.$MercuryUnreadState6.subscribe('update-unread',this.$MercuryUnreadState12.bind(this));this.$MercuryUnreadState6.subscribe('update-thread-ids',function(q,r){this.$MercuryUnreadState13(r);}.bind(this));}n.prototype.getUnreadCount=function(p){if(this.exceedsMaxCount(p)){m.error('unguarded_unread_count_fetch','{}');return 0;}return this.$MercuryUnreadState14(p);};n.prototype.exceedsMaxCount=function(p){return this.$MercuryUnreadState10[p]||this.$MercuryUnreadState14(p)>l;};n.prototype.markFolderAsRead=function(p){if(this.$MercuryUnreadState10[p]||this.$MercuryUnreadState14(p)>0)this.$MercuryUnreadState2.markFolderAsRead(p);};n.prototype.getIsThreadUnread=function(p,q){var r=q||c('MessagingTag').INBOX,s=this.$MercuryUnreadState15(r);return !!(s&&s[p]);};n.prototype.$MercuryUnreadState12=function(p,q){this.$MercuryUnreadState16(q);var r=q.global_actions||[];for(var s=0;s<r.length;s++){var t=r[s];if(t.action_type==c('MercuryGlobalActionType').MARK_ALL_READ)this.$MercuryUnreadState17(t.folder,t.timestamp);}};n.prototype.$MercuryUnreadState18=function(p,q){this.$MercuryUnreadState11[p].setResource(j,q);this.$MercuryUnreadState11[p].setResource(k,Object.keys(q));};n.prototype.$MercuryUnreadState19=function(p,q){var r=this.$MercuryUnreadState11[p].executeOrEnqueue(j,q),s=this.$MercuryUnreadState11[p].getUnavailableResources(r);if(s.length)this.$MercuryUnreadState2.fetchUnreadThreadIDs(p);};n.prototype.$MercuryUnreadState15=function(p){return this.$MercuryUnreadState11[p].getResource(j);};n.prototype.$MercuryUnreadState14=function(p){var q=this.$MercuryUnreadState11[p].getResource(k);if(q){return q.length;}else return this.$MercuryUnreadState9[p];};n.prototype.$MercuryUnreadState16=function(p){var q=void 0;(p.unread_thread_fbids||[]).forEach(function(r){q=r.folder;if(!this.$MercuryUnreadState20(q))return;var s=r.thread_fbids||[];s=s.concat(r.other_user_fbids||[]);var t=this.$MercuryUnreadState21(s);this.$MercuryUnreadState18(q,c('createObjectFrom')(t,true));if(t.length>l)this.$MercuryUnreadState10[q]=true;this.$MercuryUnreadState4.updatedUnreadState();}.bind(this));(p.message_counts||[]).forEach(function(r){if(r.unread_count===undefined)return;q=r.folder;if(r.unread_count>l){this.$MercuryUnreadState10[q]=true;this.$MercuryUnreadState18(q,{});this.$MercuryUnreadState4.updatedUnreadState();}else{this.$MercuryUnreadState9[q]=r.unread_count;if(this.$MercuryUnreadState9[q]===0)this.$MercuryUnreadState18(q,{});this.$MercuryUnreadState4.updatedUnreadState();}}.bind(this));(p.actions||[]).forEach(function(r){if(r.is_forward)return;var s=c('MercuryActionType'),t=r.other_user_fbid?r.other_user_fbid:r.thread_fbid,u=r.thread_id?r.thread_id:t;if(r.action_type==s.DELETE_THREAD){i.forEach(function(w){this.$MercuryUnreadState22(w,u);}.bind(this));}else if(r.action_type==s.CHANGE_ARCHIVED_STATUS||r.action_type==s.CHANGE_FOLDER){var v=this.$MercuryUnreadState5.getThreadMetaNow(r.thread_id);!!!v?h(0):void 0;q=c('MercuryFolders').getFromMeta(v);if(this.$MercuryUnreadState20(q)&&v.unread_count>0)this.$MercuryUnreadState23(q,u);i.forEach(function(w){if(w!=q)this.$MercuryUnreadState22(w,u);}.bind(this));}else{q=this.$MercuryUnreadState24(r);if(!this.$MercuryUnreadState20(q))return;if(r.action_type==s.CHANGE_READ_STATUS){if(r.mark_as_read){this.$MercuryUnreadState22(q,u,r.timestamp);}else this.$MercuryUnreadState23(q,u,r.timestamp);}else if(r.action_type==s.USER_GENERATED_MESSAGE||r.action_type==s.LOG_MESSAGE)if(r.is_unread)this.$MercuryUnreadState23(q,u,r.timestamp);}}.bind(this));};n.prototype.$MercuryUnreadState23=function(p,q,r){if(this.$MercuryUnreadState10[p])return;this.$MercuryUnreadState19(p,function(s){var t=this.$MercuryUnreadState7[p]||0,u=this.$MercuryUnreadState8[q]||0,v=r||Number.POSITIVE_INFINITY;if(v>=t&&v>=u&&!s[q]){s[q]=r||0;this.$MercuryUnreadState18(p,s);this.$MercuryUnreadState4.updatedUnreadState();}}.bind(this));};n.prototype.$MercuryUnreadState22=function(p,q,r){if(this.$MercuryUnreadState10[p])return;this.$MercuryUnreadState19(p,function(s){if(r){var t=this.$MercuryUnreadState8[q];if(!t||t<r)this.$MercuryUnreadState8[q]=r;}var u=s[q];if(r&&typeof u=='number'&&r<u)return;if(q in s){delete s[q];this.$MercuryUnreadState18(p,s);this.$MercuryUnreadState4.updatedUnreadState();}}.bind(this));};n.prototype.$MercuryUnreadState17=function(p,q){this.$MercuryUnreadState10[p]=false;this.$MercuryUnreadState18(p,{});this.$MercuryUnreadState7[p]=Math.max(this.$MercuryUnreadState7[p]||0,q||0);this.$MercuryUnreadState4.updatedUnreadState();};n.prototype.$MercuryUnreadState21=function(p){return p.map(this.$MercuryUnreadState3.convertThreadIDIfAvailable,this.$MercuryUnreadState3);};n.prototype.$MercuryUnreadState13=function(p){i.forEach(function(q){var r=this.$MercuryUnreadState15(q);if(!r)return;for(var s in p){var t=p[s];if(r[s]){r[t]=r[s];delete r[s];}}this.$MercuryUnreadState18(q,r);}.bind(this));};n.prototype.$MercuryUnreadState24=function(p){var q=p.thread_id?this.$MercuryUnreadState5.getThreadMetaNow(p.thread_id):null;return q?c('MercuryFolders').getFromMeta(q):p.folder?p.folder:'';};n.prototype.$MercuryUnreadState20=function(p){return c('arrayContains')(i,p);};var o=new (c('MercurySingletonProvider'))(n);f.exports=n;}),null);
__d('MessengerComposerActions',['MessengerDispatcher','keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({ADD_TOKEN:null,REMOVE_TOKEN:null,FOCUS_COMPOSER:null,FOCUS_TYPEAHEAD:null,EXIT_COMPOSE_STATE:null}),i={Types:h,addToken:function j(k){c('MessengerDispatcher').dispatch({type:h.ADD_TOKEN,entry:k});},moveDraftToNextThread:function j(k){c('MessengerDispatcher').dispatch({type:h.MOVE_DRAFT,threadID:k});},removeToken:function j(k){c('MessengerDispatcher').dispatch({type:h.REMOVE_TOKEN,entry:k});},focusComposer:function j(){c('MessengerDispatcher').dispatch({type:h.FOCUS_COMPOSER});},focusTypeahead:function j(){c('MessengerDispatcher').dispatch({type:h.FOCUS_TYPEAHEAD});},exitComposeState:function j(){c('MessengerDispatcher').dispatch({type:h.EXIT_COMPOSE_STATE});}};f.exports=i;}),null);
__d('MessengerComposerState',['immutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('immutable').Record({step:null,recipients:c('immutable').List()});f.exports=h;}),null);
__d('MessengerComposerSteps',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({NULL:null,SELECT_RECIPIENTS:null,COMPOSE:null});f.exports=h;}),null);
__d('MessengerComposerStore',['EditorState','immutable','MessengerActions','MessengerComposerActions','MessengerComposerState','MessengerComposerSteps','MessengerConstants','MessengerDispatcher','MessengerEditorStateManager','MessengerStateStore','MessengerStore','MessengerView'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=new (c('MessengerComposerState'))({step:c('MessengerComposerSteps').NULL});h=babelHelpers.inherits(k,c('MessengerStore'));i=h&&h.prototype;function k(){i.constructor.call(this);this.$MessengerComposerStore1=j;}k.prototype.getState=function(){return this.$MessengerComposerStore1;};k.prototype.__onDispatch=function(l){c('MessengerDispatcher').waitFor([c('MessengerStateStore').getDispatchToken()]);var m=c('MessengerStateStore').getState().detailView,n=this.$MessengerComposerStore1.recipients,o=this.$MessengerComposerStore1.step,p=null,q=null;switch(l.type){case c('MessengerComposerActions').Types.ADD_TOKEN:if(n.some(function(v){return (v.getUniqueID()===l.entry.getUniqueID());}))break;p=n.push(l.entry);break;case c('MessengerComposerActions').Types.REMOVE_TOKEN:var r=l.entry.getUniqueID(),s=n.findIndex(function(v){return v.getUniqueID()===r;});if(s!==-1)p=n['delete'](s);break;case c('MessengerComposerActions').Types.FOCUS_COMPOSER:if(o===c('MessengerComposerSteps').SELECT_RECIPIENTS)q=c('MessengerComposerSteps').COMPOSE;break;case c('MessengerComposerActions').Types.FOCUS_TYPEAHEAD:if(o===c('MessengerComposerSteps').COMPOSE)q=c('MessengerComposerSteps').SELECT_RECIPIENTS;break;case c('MessengerActions').Types.REPLACE_STATE:var t=c('MessengerStateStore').getPrevState().detailView;if(t!==c('MessengerView').DETAIL.COMPOSE&&m===c('MessengerView').DETAIL.COMPOSE)q=c('MessengerComposerSteps').SELECT_RECIPIENTS;break;case c('MessengerComposerActions').Types.MOVE_DRAFT:c('MessengerEditorStateManager').set(l.threadID,c('MessengerEditorStateManager').get(c('MessengerConstants').NEW_THREAD_KEY));break;case c('MessengerComposerActions').Types.EXIT_COMPOSE_STATE:var u=c('EditorState').createEmpty();setTimeout(function(){c('MessengerEditorStateManager').set(c('MessengerConstants').NEW_THREAD_KEY,c('EditorState').forceSelection(u,u.getSelection()));},0);q=c('MessengerComposerSteps').NULL;p=c('immutable').List();break;}if(p||q){this.$MessengerComposerStore1=new (c('MessengerComposerState'))({step:q||o,recipients:p||n});this.emitChange();}};f.exports=new k();}),null);
__d('MessengerMDotMeReferralStore',['MessengerActions','MessengerStore'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('MessengerStore'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this);this.$MessengerMDotMeReferralStore1={refCode:null,refThreadID:null};}j.prototype.getState=function(){'use strict';return this.$MessengerMDotMeReferralStore1;};j.prototype.__onDispatch=function(k){'use strict';switch(k.type){case c('MessengerActions').Types.UPDATE_MDOT_ME:this.$MessengerMDotMeReferralStore1.refCode=k.refCode;this.$MessengerMDotMeReferralStore1.refThreadID=k.refThreadID;this.emitChange();}};f.exports=new j();}),null);
__d('FBRTCCallSummaryUploader',['Banzai','FBRTCCallSummary','FBRTCCallSummaryStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={init:function i(){var j=c('FBRTCCallSummaryStore').getInstance();c('Banzai').subscribe(c('Banzai').SEND,function(){c('FBRTCCallSummary').logSavedSummaries(j);});}};f.exports=h;}),null);
__d('MessengerRTCMessageHandler',['Bootloader','FBRTCCallSummaryUploader','FBRTCMessageListener','FBRTCSupport'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=null,i=null,j={init:function m(){if(c('FBRTCSupport').isReceiveWebrtcSupported()){c('FBRTCCallSummaryUploader').init();c('FBRTCMessageListener').init(false);c('FBRTCMessageListener').once('messageReceived',function(n){k();});c('FBRTCMessageListener').once('multiwayMessageReceived',function(n){l(n);});}}};function k(){if(!h)c('Bootloader').loadModules(["FBRTCIncomingCallController","MessengerRTCIncomingDialogController","MessengerRTCMissedCallDialogController","MessengerRTCUnsupportedBrowserDialogController"],function(m,n,o,p){h=new m(n,p,o);c('FBRTCMessageListener').setMessageHandler(h.onMessageReceived,h);},'MessengerRTCMessageHandler');}function l(m){if(!i)c('Bootloader').loadModules(["FBRTCGroupCallIncomingController","MessengerRTCGroupCallIncomingDialogController"],function(n,o){i=new n(o);c('FBRTCMessageListener').setMultiwayMessageHandler(i.onMessageReceived,i);i.onMessageReceived(m);},'MessengerRTCMessageHandler');}f.exports=j;}),null);
__d('MercurySearchContextResults',['KeyedCallbackManager','MercuryAPIArgsSource','MercuryIDs','MercuryThreadlistConstants','MercuryThreadIDMap','RangedCallbackManager','MercuryServerDispatcher','MercuryServerPayloadPreprocessor','WebMessengerConstants'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('MercuryThreadIDMap').get(),i=c('MercuryServerPayloadPreprocessor').get(),j=new (c('KeyedCallbackManager'))(),k=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_COUNT,l=c('WebMessengerConstants').MORE_SEARCH_CONTEXT_COUNT,m={getSearchContext:function q(r,s,t){if(r){var u=j.executeOrEnqueue(r,function(z){var aa=o(z,r);t(aa);}),v=j.getUnavailableResources(u);if(v.length){var w={message_id:r,limit:k+1},x=h.getServerIDFromClientIDNow(s),y=c('MercuryIDs').tokenize(s);if(y.type=='user'){w.other_user_fbid=x;}else w.thread_fbid=x;p(w);}return u;}},getMoreSearchContext:function q(r,s,t,u){if(r){var v=j.getResource(r);if(v){var w=t==c('WebMessengerConstants').MORE_SEARCH_CONTEXT_UP?v.up_message_ids:v.down_message_ids,x=w.getCurrentArraySize()+l,y=w.executeOrEnqueue(0,x,function(){var da=o(v,r);u(da);}),z=w.getUnavailableResources(y);if(z.length){var aa={message_id:r,limit:x,direction:t},ba=h.getServerIDFromClientIDNow(s),ca=c('MercuryIDs').tokenize(s);if(ca.type=='user'){aa.other_user_fbid=ba;}else aa.thread_fbid=ba;p(aa);}return y;}}},handleUpdate:function q(r){if(r.mercury_payload)i.handleUpdate(r.mercury_payload);var s=r.search_context||{};for(var t in s){var u=s[t],v=u.other_user_fbid||u.thread_fbid,w=h.getClientIDFromServerIDNow(v),x=!j.getResource(t),y=x?{thread_id:w,up_message_ids:new (c('RangedCallbackManager'))(),down_message_ids:new (c('RangedCallbackManager'))()}:j.getResource(t),z=x?k+1:l;if(u.up_message_ids&&(y.up_message_ids.getCurrentArraySize()===0||u.up_message_ids.length>=y.up_message_ids.getCurrentArraySize()))n(y.up_message_ids,u.up_message_ids,z);if(u.down_message_ids&&(y.down_message_ids.getCurrentArraySize()===0||u.down_message_ids.length>=y.down_message_ids.getCurrentArraySize()))n(y.down_message_ids,u.down_message_ids,z);if(x)j.setResource(t,y);}},unsubscribe:function q(r,s,t){if(s){var u=j.getResource(s);if(u){if(t==c('WebMessengerConstants').MORE_SEARCH_CONTEXT_UP){u.up_message_ids.unsubscribe(r);}else u.down_message_ids.unsubscribe(r);}else j.unsubscribe(r);}}};function n(q,r,s){var t=q.getCurrentArraySize(),u=r.length<t+s;if(r.length){q.removeAllResources();q.addResourcesWithoutSorting(r,0);}if(u)q.setReachedEndOfArray();}function o(q,r){var s=q.up_message_ids.hasReachedEndOfArray(),t=q.up_message_ids.getAllResources();if(!s)t.shift();var u=q.down_message_ids.hasReachedEndOfArray(),v=q.down_message_ids.getAllResources();if(!u)v.pop();return {thread_id:q.thread_id,message_id:r,up_message_ids:t,up_exhausted:s,down_message_ids:v,down_exhausted:u};}function p(q){q.client=c('MercuryAPIArgsSource').WEBMESSENGER;c('MercuryServerDispatcher').trySend('/ajax/mercury/search_context.php',q);}c('MercuryServerDispatcher').registerEndpoints({'/ajax/mercury/search_context.php':{mode:c('MercuryServerDispatcher').IMMEDIATE,handler:m.handleUpdate}});f.exports=m;}),null);
__d('MercurySearchSnippetResults',['CurrentEnvironment','MercuryAPIArgsSource','MercuryIDs','MercurySingletonMixin','MercuryThreadlistConstants','MercuryThreadIDMap','RangedCallbackManager','MercuryServerDispatcher','MercuryServerPayloadPreprocessor'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('CurrentEnvironment').messengerdotcom?c('MercuryAPIArgsSource').MESSENGER:c('MercuryAPIArgsSource').WEBMESSENGER,i={},j={},k=null,l=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_COUNT,m=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_LIMIT,n=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_MORE;function o(x){'use strict';this.$MercurySearchSnippetResults1=x;this.$MercurySearchSnippetResults2=c('MercuryServerPayloadPreprocessor').getForFBID(x);c('MercuryServerDispatcher').registerEndpoints({'/ajax/mercury/search_snippets.php':{request_user_id:x,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(y){this.handleUpdate(y);}.bind(this)}});this.$MercurySearchSnippetResults3=c('MercuryThreadIDMap').getForFBID(x);}o.prototype.getFBID=function(){'use strict';return this.$MercurySearchSnippetResults1;};o.prototype.getThreadIDMap=function(){'use strict';return this.$MercurySearchSnippetResults3;};o.prototype.getAllThreadSearchResults=function(x,y){'use strict';if(x)p(this.$MercurySearchSnippetResults1,x,m,0,y);};o.prototype.getAllThreadSearchMoreResults=function(x,y){'use strict';if(x){var z=i[x];if(z){var aa=z.getCurrentArraySize();p(this.$MercurySearchSnippetResults1,x,n,aa,y);}}};o.prototype.getSingleThreadSearchResults=function(x,y,z){'use strict';if(!x||!y)return;q.call(this,x,y,l,0,z);};o.prototype.getSingleThreadSearchMoreResults=function(x,y,z){'use strict';if(!x||!y)return;if(!j[y])return;var aa=j[y][x];if(aa){var ba=aa.num_total_snippets,ca=aa.snippets_cbm.getCurrentArraySize(),da=ba-ca;if(da>0){var ea=da>n?n:da;q.call(this,x,y,ea,ca,z);}}};o.prototype.countSnippetsMatchingQueryInThread=function(x,y){'use strict';var z=j[y][x];if(z)return z.num_total_snippets;};o.prototype.findIndexOfSnippet=function(x,y,z,aa){'use strict';var ba=v(x,y),ca=ba.getAllResources();for(var da=0;da<ca.length;da++)if(z===ca[da].message_id)return da;};o.prototype.findSnippetAtIndex=function(x,y,z,aa){'use strict';s(x,y,z);t.call(this,x,y,z,aa);};o.prototype.handleUpdate=function(x){'use strict';if(x.mercury_payload)this.$MercurySearchSnippetResults2.handleUpdate(x.mercury_payload);var y=x.search_snippets||{};Object.keys(y).filter(function(na){return !!y[na];}).forEach(function(na){Object.keys(y[na]).forEach(function(oa){y[na][oa].snippets.forEach(function(pa){pa.matched_keywords=r(pa.matched_keywords);});});});var z=x.offset,aa=[];for(var ba in y){var ca=y[ba];for(var da in ca){var ea=ca[da],fa=x.other_user_fbid||x.thread_fbid,ga=this.$MercurySearchSnippetResults3.getClientIDFromServerIDNow(da),ha=ea.snippets,ia=v(ba,ga),ja=ia.getCurrentArraySize();if(!fa){aa.push(ga);if(ja)continue;}else if(z!=ja)continue;var ka=j[ga][ba];ka.num_total_snippets=ea.num_total_snippets;ia.addResourcesWithoutSorting(ha,ja);if(!fa||x.limit>ha.length)if(ia.getCurrentArraySize()==ka.num_total_snippets)ia.setReachedEndOfArray();}if(!fa){var la=u(ba),ma=la.getCurrentArraySize();if(z==ma){la.addResourcesWithoutSorting(aa,ma);if(x.limit>aa.length)la.setReachedEndOfArray();}}}};function p(x,y,z,aa,ba){if(k)if(!k.thread_id){var ca=u(k.query);ca.unsubscribe(k.subscriber_id);k=null;}var ca=u(y),da=aa+z,ea=ca.executeOrEnqueue(0,da,function(ha){var ia={};for(var ja=0;ja<ha.length;ja++){var ka=ha[ja],la=j[ka][y];ia[ka]={num_total_snippets:la.num_total_snippets,snippets:la.snippets_cbm.getAllResources()};}var ma=ca.hasReachedEndOfArray();ba(ia,ma);}),fa=ca.getUnavailableResources(ea);if(fa.length){k={query:y,thread_id:null,subscriber_id:ea};var ga={query:y,offset:aa,limit:z+1,snippetLimit:l};ga.identifier='thread_fbid';w(ga,x);}}function q(x,y,z,aa,ba){if(k)if(k.thread_id){var ca=v(k.query,k.thread_id);ca.unsubscribe(k.subscriber_id);k=null;}var ca=v(x,y),da=aa+z,ea=ca.executeOrEnqueue(0,da,function(){var ka=ca.getAllResources(),la=j[y][x].num_total_snippets;ba(ka,la);}),fa=ca.getUnavailableResources(ea);if(fa.length){k={query:x,thread_id:y,subscriber_id:ea};var ga={query:x,snippetOffset:aa,snippetLimit:z},ha=this.getThreadIDMap().getServerIDFromClientIDNow(y),ia=c('MercuryIDs').tokenize(y),ja=ia.type;if(ja=='user'){ga.other_user_fbid=ha;}else ga.thread_fbid=ha;ga.identifier='thread_fbid';w(ga,this.getFBID());}}function r(x){if(x instanceof Array){var y={};for(var z=0;z<x.length;z++)y[z.toString()]=x[z];return y;}else return x;}function s(x,y,z){}function t(x,y,z,aa){var ba=j[y][x],ca=ba.snippets_cbm.getAllResources(),da=ba.num_total_snippets,ea=ca.length;if(z<ea){aa(ca[z].message_id);return;}var fa=da-ea,ga=fa>n?n:fa;q.call(this,x,y,ga,ea,function(ha,ia){t.call(this,x,y,z,aa);});}function u(x){if(!i[x])i[x]=new (c('RangedCallbackManager'))();return i[x];}function v(x,y){if(!j[y])j[y]={};var z=j[y][x];if(!z){z={num_total_snippets:-1,snippets_cbm:new (c('RangedCallbackManager'))()};j[y][x]=z;}return z.snippets_cbm;}function w(x,y){x.client=h;c('MercuryServerDispatcher').trySend('/ajax/mercury/search_snippets.php',x,null,y);}Object.assign(o,c('MercurySingletonMixin'));f.exports=o;}),null);
__d('MessengerThreadSearchStore',['cx','immutable','ImmutableObject','MercuryIDs','MercuryMessages','MercurySearchContextResults','MercurySearchSnippetResults','MercuryThreads','MessengerContentSearchDataTypedLogger','MessengerDispatcher','MessengerStateStore','MessengerStore','MessengerActions','MessengerThreadSearchActions','MessengerView'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('immutable').List,l=c('immutable').Record,m=l({downExhausted:null,loading:false,messages:null,query:null,results:k(),selectedIndex:0,threadID:null,totalCount:0,upExhausted:null,threads:null,threadsExhausted:null,mid:null});i=babelHelpers.inherits(n,c('MessengerStore'));j=i&&i.prototype;function n(){j.constructor.call(this);this.$MessengerThreadSearchStore3=new m();}n.prototype.getForFBID=function(o){this.$MessengerThreadSearchStore4=new (c('MercurySearchSnippetResults'))(o);this.$MessengerThreadSearchStore1=c('MercuryMessages').getForFBID(o);this.$MessengerThreadSearchStore2=c('MercuryThreads').getForFBID(o);};n.prototype.getState=function(){return this.$MessengerThreadSearchStore3;};n.prototype.__onDispatch=function(o){if(!this.$MessengerThreadSearchStore4)return;c('MessengerDispatcher').waitFor([c('MessengerStateStore').getDispatchToken()]);var p=c('MessengerStateStore').getState(),q=p.activeThreadID,r=p.masterView,s=p.mid,t=p.query,u=r===c('MessengerView').MASTER.SEARCH;switch(o.type){case c('MessengerActions').Types.REPLACE_STATE:if(s!=this.$MessengerThreadSearchStore3.mid&&q!=this.$MessengerThreadSearchStore3.activeThreadID){if(s&&q){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({threadID:q,mid:s});c('MercurySearchContextResults').getSearchContext(this.$MessengerThreadSearchStore5(),this.$MessengerThreadSearchStore3.threadID,function(y){return this.setMessages(y);}.bind(this));}else this.$MessengerThreadSearchStore3=new m();return;}else if(this.$MessengerThreadSearchStore3.query!==t||this.$MessengerThreadSearchStore3.threadID!==q){if(t&&!s){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.set('loading',true);this.$MessengerThreadSearchStore4.getSingleThreadSearchResults(t,q,function(){for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];return this.accumulateSearchResultsAndEmitChange.apply(this,[t,q,0].concat(z));}.bind(this));}else{if(this.$MessengerThreadSearchStore3.query&&this.$MessengerThreadSearchStore3.results.size===0)this.logCurrentResult(null,'no_results_found','single_thread_search');var v=this.$MessengerThreadSearchStore3.results.get(this.$MessengerThreadSearchStore3.selectedIndex);if(v!==undefined)this.logCurrentResult(v.toObject(),'search_ended','single_thread_search');this.$MessengerThreadSearchStore6();}if(u){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.set('loading',true);this.$MessengerThreadSearchStore4.getAllThreadSearchResults(t,function(y,z){return this.setAllThreadResults(y,z);}.bind(this));}else this.$MessengerThreadSearchStore7();this.emitChange();}break;case c('MessengerThreadSearchActions').Types.CHANGE_RESULT_INDEX:var w=Math.max(Math.min(this.$MessengerThreadSearchStore3.totalCount-1,this.$MessengerThreadSearchStore3.selectedIndex+o.delta),0);if(w===this.$MessengerThreadSearchStore3.selectedIndex)break;if(w>=this.$MessengerThreadSearchStore3.results.size){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.set('loading',true);this.$MessengerThreadSearchStore4.getSingleThreadSearchMoreResults(t,q,function(){for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];return this.accumulateSearchResultsAndEmitChange.apply(this,[t,q,w].concat(z));}.bind(this));}else{this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({loading:true,selectedIndex:w});c('MercurySearchContextResults').getSearchContext(this.$MessengerThreadSearchStore5(),this.$MessengerThreadSearchStore3.threadID,function(y){return this.setMessages(y);}.bind(this));}this.emitChange();var x=this.$MessengerThreadSearchStore3.results.get(w).toObject();this.logCurrentResult(x,'result_loaded','single_thread_search');break;case c('MessengerThreadSearchActions').Types.GET_MORE_CONTEXT:this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.set('loading',true);c('MercurySearchContextResults').getMoreSearchContext(this.$MessengerThreadSearchStore5(),this.$MessengerThreadSearchStore3.threadID,o.direction,function(y){return this.setMessages(y);}.bind(this));this.emitChange();break;case c('MessengerThreadSearchActions').Types.GET_MORE_THREADS:this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.set('loading',true);this.$MessengerThreadSearchStore4.getAllThreadSearchMoreResults(t,function(y,z){return this.setAllThreadResults(y,z);}.bind(this));this.emitChange();break;}};n.prototype.logCurrentResult=function(o,p,q){var r=new (c('MessengerContentSearchDataTypedLogger'))().setSearchTerm(this.$MessengerThreadSearchStore3.query).setThreadFbid(c('MercuryIDs').getThreadFBIDFromThreadID(this.$MessengerThreadSearchStore3.threadID)).setNumResults(this.$MessengerThreadSearchStore3.results.size).setSearchOutcome(p).setSearchType(q);if(o!==undefined&&o!==null)r.setMessageID(o.message_id).setMessageTimestamp(o.timestamp).setReadableTimestamp(o.timestamp_datetime).setResultIndex(this.$MessengerThreadSearchStore3.selectedIndex+1);r.log();};n.prototype.setAllThreadResults=function(o,p){var q=Object.keys(o),r=q.map(function(s){var t=this.$MessengerThreadSearchStore2.getThreadMetaNow(s);if(!t)return;var u=o[t.thread_id];if(!u)return;return new (c('ImmutableObject'))(babelHelpers['extends']({},t,{snippetCount:u.num_total_snippets}));}.bind(this)).filter(function(s){return s;});this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({threads:r,threadsExhausted:p,loading:false});this.emitChange();};n.prototype.$MessengerThreadSearchStore7=function(){this.$MessengerThreadSearchStore8(['threads','threadsExhausted','loading']);};n.prototype.accumulateSearchResultsAndEmitChange=function(o,p,q,r,s){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({query:o,threadID:p,selectedIndex:q,results:r,totalCount:s});if(this.$MessengerThreadSearchStore3.results.size){c('MercurySearchContextResults').getSearchContext(this.$MessengerThreadSearchStore5(),this.$MessengerThreadSearchStore3.threadID,function(u){return this.setMessages(u);}.bind(this));var t=this.$MessengerThreadSearchStore3.results.get(this.$MessengerThreadSearchStore3.selectedIndex);this.logCurrentResult(t.toObject(),'search_started','single_thread_search');}else this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({messages:null});this.emitChange();};n.prototype.$MessengerThreadSearchStore6=function(){this.$MessengerThreadSearchStore8(['query','threadID','selectedIndex','results','totalCount','downExhausted','loading','messages','upExhausted']);};n.prototype.$MessengerThreadSearchStore8=function(o){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.withMutations(function(p){o.forEach(function(q){return p.remove(q);});});};n.prototype.setMessages=function(o){var p=this.$MessengerThreadSearchStore1.getMessagesFromIDs([].concat(o.up_message_ids,o.message_id,o.down_message_ids)).map(function(q){var r,s=this;if(q&&q.message_id===o.message_id)if(!this.$MessengerThreadSearchStore3.results.isEmpty()){var r=function(){var t=s.$MessengerThreadSearchStore3.results.get(s.$MessengerThreadSearchStore3.selectedIndex).toJS(),u=t.matched_keywords,v=q.body.indexOf(t.body),w=Object.keys(t.matched_keywords).map(function(x){return {offset:v+Number(x),length:u[x].length,entity:{url:''},className:"__in"};});return {v:new (c('ImmutableObject'))(babelHelpers['extends']({},q,{ranges:q.ranges?q.ranges.concat(w):w}))};}();if(typeof r==="object")return r.v;}else return new (c('ImmutableObject'))(babelHelpers['extends']({},q,{isSelected:true}));return q;}.bind(this));this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({downExhausted:o.down_exhausted,loading:false,messages:p,upExhausted:o.up_exhausted});this.emitChange();};n.prototype.$MessengerThreadSearchStore5=function(){return this.$MessengerThreadSearchStore3.mid||this.$MessengerThreadSearchStore3.results.getIn([this.$MessengerThreadSearchStore3.selectedIndex,'message_id']);};f.exports=new n();}),null);
__d('MessengerURIListener',['MessengerActions','MessengerURISerializer','PageTransitions'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=false,i={start:function k(){if(!h)c('PageTransitions').registerHandler(j,6);h=true;},stop:function k(){c('PageTransitions').removeHandler(j,6);h=false;}};function j(k){var l=c('MessengerURISerializer').deserialize(k);if(l.notMessenger)return false;c('PageTransitions').transitionComplete();c('MessengerActions').changeState(l);return true;}f.exports=i;}),null);
__d('MNCommerceDialogContainer.react',['MNCommerceDialogStateStore','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'MNCommerceDialogContainer',mixins:[c('PureStoreBasedStateMixin')(c('MNCommerceDialogStateStore'))],statics:{calculateState:function i(){var j=c('MNCommerceDialogStateStore').getDialogContainer();return {dialogContainer:j};}},render:function i(){var j=this.state.dialogContainer;if(!j)return null;return c('React').createElement(j,null);}});f.exports=h;}),null);
__d('MessengerMenu.react',['cx','Keys','MenuSeparator.react','ReactXUIMenu','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();function k(m){m.isReactLegacyFactory={};m.type=m;}i=babelHelpers.inherits(l,c('ReactXUIMenu'));j=i&&i.prototype;function l(m){var n=m.className,o=babelHelpers.objectWithoutProperties(m,['className']);j.constructor.call(this,babelHelpers['extends']({className:c('joinClasses')(n,"_2i-c _150g")},o));}l.prototype.handleKeydown=function(m,n){if(m===c('Keys').DOWN||m===c('Keys').UP||m===c('Keys').SPACE)return j.handleKeydown.call(this,m,n);return true;};k(l);l.Item=c('ReactXUIMenu').Item;l.Separator=c('MenuSeparator.react');f.exports=l;}),null);
__d('MessengerPopoverMenu.react',['cx','ContextualDialogArrow','ContextualLayerAutoFlip','ContextualLayerUpdateOnScroll','PopoverMenu.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.children,n=l.isOpen,o=babelHelpers.objectWithoutProperties(l,['children','isOpen']),p=c('React').Children.only(m);return (c('React').createElement(c('PopoverMenu.react'),babelHelpers['extends']({className:!o.disableArrowKeyActivation||n?"_150g":'',enableActivationOnEnter:true,layerBehaviors:[c('ContextualLayerAutoFlip'),c('ContextualLayerUpdateOnScroll'),c('ContextualDialogArrow')]},o),p));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MessengerBugNub.react',['cx','fbt','ix','AsyncRequest','Image.react','Link.react','MessengerMenu.react','MessengerPopoverMenu.react','React','Tooltip','URI','XSettingsEmployeeBetaController','goURI'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=j('/images/mercury/clients/messenger/bug_nub/bugNub.png'),n=j('/images/mercury/clients/messenger/bug_nub/betaNub.png'),o=j('/images/mercury/clients/messenger/bug_nub/publicNub.png'),p=c('React').PropTypes,q=c('MessengerMenu.react').Item,r=c('MessengerMenu.react').Separator;k=babelHelpers.inherits(s,c('React').PureComponent);l=k&&k.prototype;s.prototype.render=function(){return (c('React').createElement('div',{className:"_4_xe"},this.$MessengerBugNub1(),c('React').createElement(c('Link.react'),babelHelpers['extends']({href:'#',ajaxify:'/ajax/bugs/employee_report',className:"_1fr8",rel:'dialog'},c('Tooltip').propsFor(i._("Reportar un error"))),c('React').createElement('div',{className:"_1gng"},c('React').createElement(c('Image.react'),{src:m})))));};s.prototype.$MessengerBugNub1=function(){var t=this.props.isBetaEnabled?n:o,u=i._("Preferencias internas");return (c('React').createElement(c('MessengerPopoverMenu.react'),babelHelpers['extends']({className:"_1fr8",menu:this.$MessengerBugNub2()},c('Tooltip').propsFor(u)),c('React').createElement(c('Link.react'),{'aria-haspopup':'true','aria-label':u,className:"_1gng",href:'#',role:'button'},c('React').createElement(c('Image.react'),{src:t}))));};s.prototype.$MessengerBugNub2=function(){var t,u=this,v=null;if(this.props.unixName)(function(){var w=u.props.unixName+'.sb';v=c('React').createElement(q,{label:'Sandbox',onclick:function(){return this.$MessengerBugNub3(w);}.bind(u)});})();return (c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(q,{label:'Public',onclick:function(){return this.$MessengerBugNub4(false);}.bind(this)}),c('React').createElement(q,{label:'Beta',onclick:function(){return this.$MessengerBugNub4(true);}.bind(this)}),c('React').createElement(r,null),c('React').createElement(q,{label:'C1 (trunkstable)',onclick:function(){return this.$MessengerBugNub3('trunkstable');}.bind(this)}),c('React').createElement(q,{label:'Latest',onclick:function(){return this.$MessengerBugNub3('latest');}.bind(this)}),c('React').createElement(q,{label:'Intern',onclick:function(){return this.$MessengerBugNub3('intern');}.bind(this)}),c('React').createElement(q,{label:'Production',onclick:function(){return this.$MessengerBugNub3('prod');}.bind(this)}),v));};s.prototype.$MessengerBugNub4=function(t){var u=c('XSettingsEmployeeBetaController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(u).setData({enabled:t}).setMethod('POST').setAllowCrossPageTransition(true).send();};s.prototype.$MessengerBugNub3=function(t){var u=c('URI').getRequestURI(),v='www'+(t?'.'+t:'')+'.messenger.com';c('goURI')(new (c('URI'))(window.location.href).setProtocol(u.getProtocol()).setDomain(v).setSubdomain(u.getSubdomain()).setPath(u.getPath()).setQueryData(u.getQueryData()).setFragment(u.getFragment()));};function s(){k.apply(this,arguments);}s.propTypes={isBetaEnabled:p.bool,unixName:p.string};f.exports=s;}),null);
__d('MercuryCanonicalGroupThreadActionTypes',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirror')({THREAD_SEARCH_UPDATED:null});}),null);
__d('MercuryCanonicalGroupThreadStore',['MercuryCanonicalGroupThreadActionTypes','FluxStore','MercuryCanonicalGroupThreadManager','MessengerDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('MessengerDispatcher'));this.$MercuryCanonicalGroupThreadStore1=c('MercuryCanonicalGroupThreadManager').get();}j.prototype.__onDispatch=function(k){var l=k.type;switch(l){case c('MercuryCanonicalGroupThreadActionTypes').THREAD_SEARCH_UPDATED:this.__emitChange();break;default:break;}};j.prototype.getOrFetch=function(k){var l=this.$MercuryCanonicalGroupThreadStore1.getNow(k);if(!l)this.$MercuryCanonicalGroupThreadStore1.getCanonicalGroupThreadIDForParticipants(k,function(){c('MessengerDispatcher').dispatch({type:c('MercuryCanonicalGroupThreadActionTypes').THREAD_SEARCH_UPDATED});});return l;};f.exports=new j();}),null);
__d('CustomColorHighlighting.react',['cssVar','csx','cx','React','UserAgent'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.$CustomColorHighlighting1=function(){var p=document.createElement('style');p.appendChild(document.createTextNode(''));document.head.appendChild(p);this.setState({styleSheet:p.sheet,styleTag:p},this.$CustomColorHighlighting3);}.bind(this);this.$CustomColorHighlighting4=function(p,q,r){if(p.insertRule){p.insertRule(q+'{'+r+'}',0);}else if(p.addRule)p.addRule(q,r,0);};this.$CustomColorHighlighting5=function(p){if('removeRule' in p){p.removeRule(0);}else if('deleteRule' in p)p.deleteRule(0);};this.$CustomColorHighlighting2=function(){if(this.state.styleSheet){if(this.state.styleSheet.rules)while(this.state.styleSheet.rules.length)this.$CustomColorHighlighting5(this.state.styleSheet);if(this.state.styleSheet.cssRules)while(this.state.styleSheet.cssRules.length)this.$CustomColorHighlighting5(this.state.styleSheet);}}.bind(this);this.$CustomColorHighlighting6=function(p){var q=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(p),r=parseInt(q[1],16),s=parseInt(q[2],16),t=parseInt(q[3],16);return 'rgba('+r+','+s+','+t+',0.2)';};this.$CustomColorHighlighting3=function(p){this.$CustomColorHighlighting2();var q=p||this.props.customColor;if(q){var r=this.$CustomColorHighlighting6(q),s='background: '+r,t=c('UserAgent').isEngine('Gecko')?"._mh6 *::-moz-selection":"._mh6 *::selection";this.$CustomColorHighlighting4(this.state.styleSheet,t,s);}}.bind(this);this.state={};}n.prototype.componentWillMount=function(){this.$CustomColorHighlighting1();};n.prototype.componentWillUnmount=function(){this.$CustomColorHighlighting2();if(this.state.styleTag)document.head.removeChild(this.state.styleTag);};n.prototype.componentWillReceiveProps=function(o){if(this.props.customColor&&!o.customColor){this.$CustomColorHighlighting2();}else if(o.customColor!==this.props.customColor)this.$CustomColorHighlighting3(o.customColor);};n.prototype.render=function(){return c('React').createElement('div',{className:"_mh6"},this.props.children);};n.propTypes={customColor:m.string};f.exports=n;}),null);
__d("XMNCommercePostbackRefSendController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messages\/commerce\/postback_ref\/",{page_id:{type:"String",required:true},ref:{type:"String",required:true},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1}});}),null);
__d('MNCommercePostbackRefSendManager',['AsyncRequest','MessengerActions','MessengerMDotMeReferralStore','XMNCommercePostbackRefSendController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.prototype.sendMDotMeRef=function(i,j){var k=this.getMdotMeRef();if(this.shouldSendRef(j,i)){var l=c('XMNCommercePostbackRefSendController').getURIBuilder().setString('page_id',i).setString('ref',k).getURI();new (c('AsyncRequest'))().setURI(l).setMethod('post').send();c('MessengerActions').changeMDotMeReferral();}};h.prototype.shouldSendRef=function(i,j){if(!j||!i)return false;return this.hasMDotMeRef(j);};h.prototype.hasMDotMeRef=function(i){var j=c('MessengerMDotMeReferralStore').getState();return !!(j.refCode&&i&&j.refThreadID&&j.refThreadID.toString()===i);};h.prototype.getMdotMeRef=function(){var i=c('MessengerMDotMeReferralStore').getState();return i.refCode;};function h(){}f.exports=new h();}),null);
__d('MercuryReadOnlyReason',['fbt','Link.react','MercuryConfig','React','URI'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={getReason:function j(){var k=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(k){var l=c('MercuryConfig').DYIDeepLink;return h._("Esta conversaci\u00f3n ya no estar\u00e1 activa porque los mensajes no se pueden enviar a la direcci\u00f3n de correo electr\u00f3nico. A partir del 1 de mayo de 2016, las conversaciones con direcciones de correo electr\u00f3nico solo estar\u00e1n disponibles en una copia de tus datos de Facebook. {download your information}",[h.param('download your information',c('React').createElement('a',{href:l},h._("M\u00e1s informaci\u00f3n")))]);}else if(c('MercuryConfig').ViewerIsReadOnly){return h._("Se te bloque\u00f3 temporalmente y no puedes enviar mensajes. {learn more about blocks}",[h.param('learn more about blocks',c('React').createElement(c('Link.react'),{href:new (c('URI'))('https://www.facebook.com/help/181183045316843'),target:'_blank'},'Learn more'))]);}else if(c('MercuryConfig').ColdOpenBlock){return h._("Se te impuso un bloqueo temporal y no puedes iniciar conversaciones nuevas. {learn more about blocks}",[h.param('learn more about blocks',c('React').createElement(c('Link.react'),{href:new (c('URI'))('https://www.facebook.com/help/181183045316843'),target:'_blank'},'Learn more'))]);}else return h._("No puedes responder a esta conversaci\u00f3n.");}};f.exports=i;}),null);
__d('MNAdsLogMessageUtils',['MercuryConfig','MessagingTag','MessengerAdsWebTypedLogger','MNAdsLoggerEventEnum','AdPageMessageTypeEnum'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('MercuryConfig').LOG_INTERVAL_MS||60000;function i(){this.$MNAdsLogMessageUtils1={};}i.prototype.isLoggedWithinInterval=function(j){if(this.$MNAdsLogMessageUtils1[j]&&this.$MNAdsLogMessageUtils1[j]-Date.now()<h)return true;return false;};i.prototype.setLoggingTime=function(j){this.$MNAdsLogMessageUtils1[j]=Date.now();};i.prototype.logAdsThreadListImpression=function(j){switch(j.folder){case c('MessagingTag').INBOX:this.logWithThreadMetaData(j,c('MNAdsLoggerEventEnum').MESSAGE_SEEN_INBOX);break;case c('MessagingTag').PENDING:this.logWithThreadMetaData(j,c('MNAdsLoggerEventEnum').MESSAGE_SEEN_REQUEST);break;default:return;}};i.prototype.logWithThreadMetaData=function(j,event){if(j.last_message_type!==c('AdPageMessageTypeEnum').NON_AD){var k=j.last_message_timestamp+String(event);if(!c('MercuryConfig').MercuryThreadListEnableImpressionLog||this.isLoggedWithinInterval(k))return;new (c('MessengerAdsWebTypedLogger'))().setEvent(event).setMessageTimestamp(j.last_message_timestamp).setPageID(j.other_user_fbid).log();this.setLoggingTime(k);}};f.exports=new i();}),null);
__d('MercuryShareAttachmentSnippet.react',['MercuryShareAttachmentReactShape','MercuryShareStyleMap','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('MercuryShareStyleMap').getStyleFactory(this.props.attachment);if(l.factory&&!!l.factory.getSnippetComponent){var m=l.factory.getSnippetComponent();return (c('React').createElement(m,babelHelpers['extends']({},this.props,{attachment:l.attachment})));}return null;};function k(){h.apply(this,arguments);}k.propTypes={attachment:c('MercuryShareAttachmentReactShape'),isSenderViewer:j.bool,senderName:j.oneOfType([j.string,j.object])};f.exports=k;}),null);
__d('MercuryAttachmentSnippet.react',['cx','ix','fbt','EmoticonsList','Image.react','MercuryAttachment','MercuryAttachmentSnippetRenderer','MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryConfig','MercuryIDs','MercuryShareAttachmentSnippet.react','MessengerTextWithEmoticons.react','MercuryParticipants','React','StickerConstants','TextWithEmoticons.react','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$MercuryAttachmentSnippet6=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').PHOTO,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5));}.bind(this),this.$MercuryAttachmentSnippet7=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').GIF,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5));}.bind(this),this.$MercuryAttachmentSnippet8=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').VIDEO,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet9=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').AUDIO_CLIP,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet15=function(v){return (c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER,this.$MercuryAttachmentSnippet18,v)));}.bind(this),this.$MercuryAttachmentSnippet10=function(v){var w=c('MercuryConfig').MessengerNewEmojiGK?c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,text:c('EmoticonsList').symbols.like}):c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:true,text:c('EmoticonsList').symbols.like});if(this.$MercuryAttachmentSnippet18){return (c('React').createElement('span',null,j._("T\u00fa: {conversation_snippet}",[j.param('conversation_snippet',w)])));}else return this.props.thread.is_canonical?c('React').createElement('span',null,j._("{conversation_snippet}",[j.param('conversation_snippet',w)])):c('React').createElement('span',null,j._("{sender name}: {conversation_snippet}",[j.param('sender name',v),j.param('conversation_snippet',w)]));}.bind(this),this.$MercuryAttachmentSnippet11=function(v){return (c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').STICKER,this.$MercuryAttachmentSnippet18,v)));}.bind(this),this.$MercuryAttachmentSnippet12=function(v){if(!!this.$MercuryAttachmentSnippet5[0].share)return (c('React').createElement(c('MercuryShareAttachmentSnippet.react'),{attachment:this.$MercuryAttachmentSnippet5[0].share,senderName:v,isViewerSender:this.$MercuryAttachmentSnippet18}));return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').SHARE,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet13=function(v){return (c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').GIFT,this.$MercuryAttachmentSnippet18,v)));}.bind(this),this.$MercuryAttachmentSnippet16=function(v){return (c('React').createElement('span',null,this.$MercuryAttachmentSnippet5.filter(function(w){return (w.attach_type===c('MercuryAttachmentType').FILE||w.attach_type===c('MercuryAttachmentType').PHOTO||w.attach_type===c('MercuryAttachmentType').VIDEO);}).map(function(w,x){return this.$MercuryAttachmentSnippet17(w.name,w.icon_type,x);}.bind(this))));}.bind(this),this.$MercuryAttachmentSnippet17=function(v,w,x){var y=c('MercuryAttachment').getAttachIconClass(w||this.$MercuryAttachmentSnippet5[0].icon_type),z=c('joinClasses')(y,"uiIconText _3l6h");return (c('React').createElement('span',{key:x},c('React').createElement('span',{className:z},c('React').createElement(c('Image.react'),{src:i('/images/messaging/docs/generic.png')})),v));}.bind(this),this.$MercuryAttachmentSnippet14=function(v){var w=c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').ERROR,this.$MercuryAttachmentSnippet18,v);return this.$MercuryAttachmentSnippet17(w);}.bind(this),this.$MercuryAttachmentSnippet2=function(v){this.$MercuryAttachmentSnippet19=v.viewer;this.$MercuryAttachmentSnippet20=v.thread.snippet_sender;this.$MercuryAttachmentSnippet5=v.thread.snippet_attachments;this.$MercuryAttachmentSnippet18=p(this.$MercuryAttachmentSnippet20,this.$MercuryAttachmentSnippet19);}.bind(this),this.$MercuryAttachmentSnippet4=function(){if(!this.$MercuryAttachmentSnippet20||this.$MercuryAttachmentSnippet18)return null;var v=c('MercuryParticipants').getNow(this.$MercuryAttachmentSnippet20);if(!v)return null;var w=c('MercuryIDs').getUserIDFromParticipantID(this.$MercuryAttachmentSnippet20),x=this.props.thread.custom_nickname&&this.props.thread.custom_nickname[w];if(x&&c('MercuryConfig').MessengerNewEmojiGK)x=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:x});return x?x:v.short_name;}.bind(this),this.$MercuryAttachmentSnippet1=function(v){if(!v)return;this.$MercuryAttachmentSnippet3();if(!c('MercuryParticipants').getNow(v))this.$MercuryAttachmentSnippet21=c('MercuryParticipants').get(v,function(w){return this.forceUpdate();}.bind(this));}.bind(this),this.$MercuryAttachmentSnippet3=function(){this.$MercuryAttachmentSnippet21&&this.$MercuryAttachmentSnippet21.remove();}.bind(this),r;}n.prototype.componentWillMount=function(){this.$MercuryAttachmentSnippet1(this.props.thread.snippet_sender);this.$MercuryAttachmentSnippet2(this.props);};n.prototype.componentWillReceiveProps=function(q){this.$MercuryAttachmentSnippet1(q.thread.snippet_sender);this.$MercuryAttachmentSnippet2(q);};n.prototype.componentWillUnmount=function(){this.$MercuryAttachmentSnippet3();};n.prototype.render=function(){var q=this.$MercuryAttachmentSnippet4(),r=c('MercuryAttachmentSnippetRenderer').getAttachmentSnippetType(this.$MercuryAttachmentSnippet5);switch(r){case c('MercuryAttachmentSnippetType').PHOTO:return this.$MercuryAttachmentSnippet6(q);case c('MercuryAttachmentSnippetType').GIF:return this.$MercuryAttachmentSnippet7(q);case c('MercuryAttachmentSnippetType').VIDEO:return this.$MercuryAttachmentSnippet8(q);case c('MercuryAttachmentSnippetType').AUDIO_CLIP:return this.$MercuryAttachmentSnippet9(q);case c('MercuryAttachmentSnippetType').LIKE_STICKER:return this.$MercuryAttachmentSnippet10(q);case c('MercuryAttachmentSnippetType').STICKER:return this.$MercuryAttachmentSnippet11(q);case c('MercuryAttachmentSnippetType').SHARE:return this.$MercuryAttachmentSnippet12(q);case c('MercuryAttachmentSnippetType').GIFT:return this.$MercuryAttachmentSnippet13(q);case c('MercuryAttachmentSnippetType').ERROR:return this.$MercuryAttachmentSnippet14(q);case c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER:return this.$MercuryAttachmentSnippet15(q);default:return this.$MercuryAttachmentSnippet16(q);}};n.propTypes={thread:m.object.isRequired,viewer:m.string.isRequired};function o(q){return (q==c('StickerConstants').LIKE_STICKER_ID||q==c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID||q==c('StickerConstants').HOT_LIKE_MEDIUM_STICKER_ID||q==c('StickerConstants').HOT_LIKE_LARGE_STICKER_ID);}function p(q,r){return !!(q&&c('MercuryIDs').getParticipantIDFromUserID(r)==q);}f.exports=n;}),null);
__d('MercuryThreadSnippet.react',['cx','fbt','immutable','ImmutableObject','MercuryAttachmentSnippet.react','MercuryConfig','MercuryIDs','MessengerTextWithEmoticons.react','MNAdsLogMessageUtils','React','TextWithEmoticons.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.shouldComponentUpdate=function(p){return (this.props.shouldRenderYou!==p.shouldRenderYou||this.props.thread!==p.thread||this.props.viewer!==p.viewer||this.props.className!==p.className||!c('immutable').is(p.participants,this.props.participants));};m.prototype.render=function(){return (c('React').createElement('span',{className:this.props.className},this.$MercuryThreadSnippet1(),this.$MercuryThreadSnippet2()));};m.prototype.$MercuryThreadSnippet1=function(){if(!this.props.thread.snippet||!n(this.props.thread))return null;return (c('React').createElement('span',{className:"_j0r"}));};m.prototype.$MercuryThreadSnippet2=function(){var p=this.props.thread,q=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),r=p.snippet,s=this.props.shouldRenderYou;if(p.snippetCount!=null)return i._({"*":"{number} resultados","268435456":"1 resultado"},[i.plural(p.snippetCount,'number')]);if(!r&&(p.snippet_attachments&&p.snippet_attachments.length>0||!p.snippet_sender))return this.$MercuryThreadSnippet3(r);var t=this.$MercuryThreadSnippet3(r),u=p.participants.length;if(p.is_subscribed)u--;c('MNAdsLogMessageUtils').logAdsThreadListImpression(p);var v=o(p);if(v)return i._("{name}: {conversation_snippet}",[i.param('name',v),i.param('conversation_snippet',t)]);if(p.snippet_sender===q){if(!s)return t;return i._("T\u00fa: {conversation_snippet}",[i.param('conversation_snippet',t)]);}if(u<=1&&!this.props.shouldAlwaysRenderSender)return t;var w=this.props.participants.get(p.snippet_sender);if(!w)return t;var x=w.short_name||w.name;if(p){var y=p.custom_nickname?p.custom_nickname:null,z=c('MercuryIDs').getUserIDFromParticipantID(w.id);if(y&&z&&y[z]){x=y[z];if(c('MercuryConfig').MessengerNewEmojiGK)x=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:x});}}if(!x)return t;return i._("{name}: {conversation_snippet}",[i.param('name',x),i.param('conversation_snippet',t)]);};m.prototype.$MercuryThreadSnippet3=function(p){if(p&&p.startsWith('?OTR'))return i._("[mensaje codificado]");if(p){var q=c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:p.replace(/\r\n|[\r\n]/g,' ')});if(c('MercuryConfig').MessengerNewEmojiGK)q=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:p.replace(/\r\n|[\r\n]/g,' ')});return q;}var r=this.props.thread;if(n(r))return (c('React').createElement(c('MercuryAttachmentSnippet.react'),{thread:r,viewer:this.props.viewer}));return null;};function m(){j.apply(this,arguments);}m.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,shouldAlwaysRenderSender:l.bool,shouldRenderYou:l.bool,thread:l.object.isRequired,viewer:l.string.isRequired};function n(p){return !!(p.snippet_attachments&&p.snippet_attachments.length>0);}function o(p){if(p&&p.snippet_attachments&&p.snippet_attachments[0]&&p.snippet_attachments[0].share&&p.snippet_attachments[0].share.target&&p.snippet_attachments[0].share.target.genie_name)return p.snippet_attachments[0].share.target.genie_name;return null;}f.exports=m;}),null);
__d("XShareScrapeAttachmentAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/message_share_attachment\/fromURI\/",{});}),null);
__d('MessengerURLUploader',['AsyncRequest','Event','SubscriptionsHandler','URLMatcher','XShareScrapeAttachmentAsyncController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('XShareScrapeAttachmentAsyncController').getURIBuilder().getURI(),i=920,j=920;function k(l,m){this.$MessengerURLUploader3=l;this.$MessengerURLUploader5=new (c('SubscriptionsHandler'))();this.initInput(m);}k.prototype.getData=function(){return this.$MessengerURLUploader2;};k.prototype.getMatchedURL=function(){return this.$MessengerURLUploader4;};k.prototype.initInput=function(l){this.$MessengerURLUploader5.addSubscriptions(c('Event').listen(l,'keyup',this.handleInputValueChange.bind(this)),c('Event').listen(l,'paste',this.handleInputValueChange.bind(this)));};k.prototype.handleInputValueChange=function(l){var m=this.$MessengerURLUploader3(),n=c('URLMatcher').match(m);if(!!n){if(this.$MessengerURLUploader4!==n){this.$MessengerURLUploader4=n;this.$MessengerURLUploader2=null;this.loadShare();}}else{this.$MessengerURLUploader4=null;this.$MessengerURLUploader2=null;}};k.prototype.loadShare=function(){if(this.$MessengerURLUploader1&&this.$MessengerURLUploader1.abort)this.$MessengerURLUploader1.abort();var l=this.$MessengerURLUploader4;if(l)this.$MessengerURLUploader1=new (c('AsyncRequest'))().setMethod('POST').setURI(h).setData({uri:l,image_width:j,image_height:i,disallow_delayed:true}).setHandler(this.handleShareLoad.bind(this,l)).send();};k.prototype.handleShareLoad=function(l,m){if(l===this.$MessengerURLUploader4)this.$MessengerURLUploader2=(m.payload||0).share_data;};f.exports=k;}),null);
__d('MessengerComposerInput.react',['cx','fbt','AtSignAllowEmptyMentionsStrategy','AbstractMentionsTextEditor.react','CompositeDraftDecorator','DraftEntity','DraftModifier','DocumentMentionsSource','DocumentCompositeMentionsSource','DOMDimensions','EditorState','EmojiFormat','EmoticonSpan.react','MessengerEmojiSpan.react','MessengerEmoticonSpan.react','MessengerSingleSectionContactList.react','Event','immutable','MentionsLayer.react','MercuryConfig','MercuryIDs','MercurySourceType','MercuryThreadIDMap','MercuryThreadSnippet.react','MercuryThreadTitle.react','MercuryTimestamp','MessengerBotsMenuButton.react','MessengerConstants','messengerDomIDsRe','MessengerEditorStateManager','MessengerTabIndices','MessengerURLUploader','React','ReactDOM','Run','SearchableEntry','StaticSearchSource','TypingDetectorController','URLMatcher','clearImmediate','debounce','getEntityMatcher','getProfileRangesForContentState','getVisibleValueForContentState','getVisibleValueForContentStateWithMessengerEmoji','handleBeforeInputForEmoticon','handleBeforeInputForMessengerEmoji','handleBeforeInputForMessengerEmoticon','handleSoftNewlineForEmoticon','handleSoftNewlineForMessengerEmoticon','insertEmoticonIntoEditorState','insertMessengerEmojiIntoContentState','isSoftNewlineEvent','setImmediate','shouldNotRenderSegoe'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('messengerDomIDsRe').ids,m=c('React').PropTypes,n=/^image\//,o='handled',p='not-handled';j=babelHelpers.inherits(q,c('React').PureComponent);k=j&&j.prototype;function q(s){k.constructor.call(this,s);this.$MessengerInput15=function(t){if(t!==this.state.editorState)this.setState({editorState:t},function(){this.$MessengerInput5();}.bind(this));}.bind(this);this.$MessengerInput16=function(event){if(c('isSoftNewlineEvent')(event)){this.setState(function(t){var u=t.editorState,v=c('MercuryConfig').MessengerNewEmojiGK?c('handleSoftNewlineForMessengerEmoticon'):c('handleSoftNewlineForEmoticon');return {editorState:v(u)};});return o;}this.setState({},function(){if(this.getValue().trim().length>0)this.$MessengerInput17();}.bind(this));return o;}.bind(this);this.getValue=function(){if(c('MercuryConfig').MessengerNewEmojiGK)return c('getVisibleValueForContentStateWithMessengerEmoji')(this.state.editorState.getCurrentContent());return c('getVisibleValueForContentState')(this.state.editorState.getCurrentContent());}.bind(this);this.focus=function(){this.refs.input.focus();}.bind(this);this.$MessengerInput22=function(t){this.props.onBeforeInput&&this.props.onBeforeInput(t);var u=this.$MessengerInput24(t),v=this.$MessengerInput25(t);return u||v?o:p;}.bind(this);this.$MessengerInput8=function(t){var u=this.props.handleOnlyImageUploads?t.filter(function(v){return v&&n.test(v.type);}):t;if(u.length){this.props.onFileUpload(u);return o;}return p;}.bind(this);this.$MessengerInput12=function(){this.$MessengerInput14();}.bind(this);this.$MessengerInput13=function(){this.setState(this.$MessengerInput9(true));}.bind(this);this.$MessengerInput8=this.$MessengerInput8.bind(this);this.state=this.$MessengerInput9();}q.prototype.$MessengerInput9=function(s){return {editorState:this.$MessengerInput10(c('MessengerEditorStateManager').get(this.props.threadID),s)};};q.prototype.componentDidMount=function(){this.$MessengerInput1=c('DOMDimensions').getElementDimensions(c('ReactDOM').findDOMNode(this)).height;this.$MessengerInput11();this.$MessengerInput2=new (c('MessengerURLUploader'))(this.getValue,c('ReactDOM').findDOMNode(this.refs.input));c('Run').onUnload(this.$MessengerInput12);this.$MessengerInput3=c('Event').listen(window,'blur',this.$MessengerInput12);this.$MessengerInput4=c('Event').listen(window,'focus',this.$MessengerInput13);this.$MessengerInput5=c('debounce')(function(){this.$MessengerInput14();}.bind(this),1000);};q.prototype.componentWillUpdate=function(s){if(this.props.threadID!==s.threadID)this.$MessengerInput14();};q.prototype.componentDidUpdate=function(s,t){this.$MessengerInput7=c('setImmediate')(function(){var u=c('DOMDimensions').getElementDimensions(c('ReactDOM').findDOMNode(this)).height;if(this.$MessengerInput1!==u)this.props.onResize&&this.props.onResize();this.$MessengerInput1=u;}.bind(this));if(this.props.threadID!==s.threadID)this.$MessengerInput11();if(t.editorState!==this.state.editorState)this.props.onChange&&this.props.onChange(this.getValue());};q.prototype.componentWillUnmount=function(){this.$MessengerInput6&&this.$MessengerInput6.destroy();this.props.threadID&&this.$MessengerInput14();this.$MessengerInput7&&c('clearImmediate')(this.$MessengerInput7);this.$MessengerInput3&&this.$MessengerInput3.remove();this.$MessengerInput4&&this.$MessengerInput4.remove();};q.prototype.insertEmoticon=function(s){var t=c('insertEmoticonIntoEditorState')(s,this.state.editorState);if(t!==this.state.editorState)this.$MessengerInput15(t);};q.prototype.insertEmoji=function(s){var t=this.state.editorState,u=c('insertMessengerEmojiIntoContentState')(c('EmojiFormat').codeArrayToCodeString(s),t.getCurrentContent(),t.getSelection(),t.getCurrentInlineStyle()),v=c('EditorState').push(t,u,'insert-characters');if(v!==this.state.editorState)this.$MessengerInput15(c('EditorState').forceSelection(v,u.getSelectionAfter()));};q.prototype.$MessengerInput11=function(){var s,t=this;this.$MessengerInput18();var u=this.$MessengerInput9();if(this.props.mentionsEnabled)(function(){var v=t.props,w=v.participants,x=v.viewer,y=v.thread,z=[];u.mentionsSource=null;if(w&&w.size>2){z=w.map(function(ca){if(ca.fbid===x)return null;var da=y&&y.custom_nickname&&y.custom_nickname[ca.fbid]?y.custom_nickname[ca.fbid]:'';return new (c('SearchableEntry'))({uniqueID:ca.fbid,title:'@'+ca.name,subtitle:ca.vanity,photo:ca.image_src,keywordString:ca.vanity+' '+da});}).toArray().filter(function(ca){return !!ca;});var aa=new (c('StaticSearchSource'))(z),ba=new (c('DocumentMentionsSource'))(c('AtSignAllowEmptyMentionsStrategy'),aa);u.mentionsSource=new (c('DocumentCompositeMentionsSource'))([ba]);}})();this.setState(u,function(){if(this.props.threadID!==c('MessengerConstants').NEW_THREAD_KEY)c('setImmediate')(function(){if(!this.props.disableAutofocus)this.focus();}.bind(this));}.bind(this));};q.prototype.$MessengerInput14=function(){if(!this.props.threadID)return;c('MessengerEditorStateManager').set(this.props.threadID,this.state.editorState);};q.prototype.$MessengerInput19=function(s){this.setState({editorState:this.$MessengerInput10(c('EditorState').createEmpty())},s);};q.prototype.$MessengerInput18=function(){this.$MessengerInput6&&this.$MessengerInput6.destroy();this.$MessengerInput6=null;var s=this.props.viewer;if(!s)return;if(this.props.threadID!==c('MessengerConstants').NEW_THREAD_KEY)this.$MessengerInput6=new (c('TypingDetectorController'))(c('MercuryIDs').getUserIDFromThreadID(this.props.threadID),c('ReactDOM').findDOMNode(this.refs.input),c('MercurySourceType').MESSENGER_WEB,null,c('MercuryThreadIDMap').getForFBID(s).getServerIDFromClientIDNow(this.props.threadID),this.getValue);};q.prototype.$MessengerInput17=function(){if(this.props.onMessageSend&&this.props.onMessageSend(this.getValue(),{shareable_attachment:this.getShareData(),profile_ranges:this.getMentions()}))this.$MessengerInput19(function(){this.$MessengerInput14();this.$MessengerInput6&&this.$MessengerInput6.resetState();}.bind(this));};q.prototype.getMentions=function(){return c('getProfileRangesForContentState')(this.state.editorState.getCurrentContent());};q.prototype.getInput=function(){return this.refs.input;};q.prototype.render=function(){var s=i._("Escribe un mensaje...").toString(),t=this.props,u=t.participants,v=t.thread,w=t.viewer,x=null;if(u&&v&&w){x=i._("Conversaci\u00f3n con {participantListAsShownInThreadList}. Actualizaci\u00f3n: {lastUpdatedTime} por {recentUpdateStringAsShownInThreadList}",[i.param('participantListAsShownInThreadList',this.$MessengerInput20(v,w)),i.param('lastUpdatedTime',c('MercuryTimestamp').getAbsoluteTimestamp(v.timestamp)),i.param('recentUpdateStringAsShownInThreadList',this.$MessengerInput21(u,v,w))]);}else x=i._("Redactando un mensaje nuevo");var y=null;if(this.props.threadID&&this.props.pageID)y=c('React').createElement('div',{ref:'botsMenuContainer',className:"_3km1"},c('React').createElement(c('MessengerBotsMenuButton.react'),{flyoutAlignment:'left',threadID:this.props.threadID,pageID:this.props.pageID,className:"_3km2"}));return c('React').createElement('div',{className:"_kmc"+(this.props.smallerEqual640?' '+"_2swd":'')+(c('shouldNotRenderSegoe')(this.state.editorState.getCurrentContent().getPlainText())?' '+"_2por":''),onClick:this.focus},this.props.showMenu?y:null,c('React').createElement('div',{className:"_3-8x"+(this.props.showMenu?' '+"_3km3":'')+(' '+"_3oh-")},c('React').createElement(c('AbstractMentionsTextEditor.react'),{handleContentReturn:this.$MessengerInput16,mentionResultsProps:{typeaheadView:c('MessengerSingleSectionContactList.react'),typeaheadViewProps:{},position:'above',autoflip:true},mentionResultsComponent:c('MentionsLayer.react'),mentionCreationFn:r,mentionsSource:this.state.mentionsSource,'aria-controls':l.CONVERSATION,ariaDescribedBy:l.COMPOSER_INPUT_DESCRIPTION,ariaLabel:s,editorState:this.state.editorState,handleBeforeInput:this.$MessengerInput22,handlePastedFiles:this.$MessengerInput8,handleReturn:this.$MessengerInput16,onChange:this.$MessengerInput15,placeholder:s,ref:'input',spellCheck:true,stripPastedStyles:true,tabIndex:this.props.threadID===c('MessengerConstants').NEW_THREAD_KEY?c('MessengerTabIndices').COMPOSER_INPUT:0,textAlignment:'left'}),c('React').createElement('div',{className:"_5ca7",id:l.COMPOSER_INPUT_DESCRIPTION},x)));};q.prototype.$MessengerInput20=function(s,t){return c('React').createElement(c('MercuryThreadTitle.react'),{thread:s,viewer:t});};q.prototype.$MessengerInput21=function(s,t,u){return c('React').createElement(c('MercuryThreadSnippet.react'),{participants:s,shouldAlwaysRenderSender:true,shouldRenderYou:true,thread:t,viewer:u});};q.prototype.$MessengerInput10=function(s,t){var u=this.$MessengerInput23(),v=c('EditorState').set(s,{decorator:u});return t||this.props.disableAutofocus?v:c('EditorState').moveFocusToEnd(v);};q.prototype.$MessengerInput23=function(){var s=c('MercuryConfig').MessengerNewEmojiGK,t=s?c('MessengerEmoticonSpan.react'):c('EmoticonSpan.react'),u=[{strategy:c('getEntityMatcher')(function(v){return v.getType()==='EMOTICON';}),component:t}];if(s)u.push({strategy:c('getEntityMatcher')(function(v){return v.getType()==='EMOJI';}),component:c('MessengerEmojiSpan.react')});return new (c('CompositeDraftDecorator'))(u);};q.prototype.$MessengerInput24=function(s){var t=c('MercuryConfig').MessengerNewEmojiGK?c('handleBeforeInputForMessengerEmoticon')(this.state.editorState,s):c('handleBeforeInputForEmoticon')(this.state.editorState,s);if(t===this.state.editorState)return false;this.setState({editorState:t});return true;};q.prototype.$MessengerInput25=function(s){if(!c('MercuryConfig').MessengerNewEmojiGK)return false;var t=c('handleBeforeInputForMessengerEmoji')(this.state.editorState,s);if(t===this.state.editorState)return false;this.setState({editorState:t});return true;};q.prototype.handleTextDropped=function(s){var t=this.state.editorState,u=t.getSelection();if(u.get('hasFocus'))return;var v=c('DraftModifier').replaceText(t.getCurrentContent(),u,s,t.getCurrentInlineStyle()),w=c('EditorState').push(t,v,'insert-fragment');this.$MessengerInput15(w);};q.prototype.getShareData=function(){var s=c('URLMatcher').match(this.getValue());if(s===this.$MessengerInput2.getMatchedURL())return this.$MessengerInput2.getData();return null;};q.prototype.exitCurrentMode=function(){this.refs.input.exitCurrentMode();};q.prototype.triggerSend=function(){if(this.getValue().trim().length>0)this.$MessengerInput17();};q.propTypes={disableAutofocus:m.bool,handleOnlyImageUploads:m.bool.isRequired,isComposing:m.bool,mentionsEnabled:m.bool,onBeforeInput:m.func,onChange:m.func,onResize:m.func,onMessageSend:m.func,participants:m.instanceOf(c('immutable').Map),thread:m.object,threadID:m.string,viewer:m.string,onFileUpload:m.func,showMenu:m.bool,pageID:m.string,smallerEqual640:m.bool};function r(s){return c('DraftEntity').create('MENTION','IMMUTABLE',{id:s.getUniqueID()});}f.exports=q;}),null);
__d('MessengerFileSizeErrorDialog.react',['fbt','MessengerActions','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerFileSizeErrorDialog2=function(){if(this.props.error==='wrong-type'){return (c('React').createElement('div',null,h._("The type of file you're trying to attach isn't allowed. Please try again with a different format.")));}else if(this.props.error==='size-exceeded')return (c('React').createElement('div',null,h._("El archivo que seleccionaste es demasiado grande. El tama\u00f1o m\u00e1ximo es de 25 MB.")));return c('React').createElement('div',null);}.bind(this),this.$MessengerFileSizeErrorDialog1=function(r){if(!r)c('MessengerActions').hideDialog();},n;}l.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerFileSizeErrorDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Error al subir los archivos")),c('React').createElement(c('MessengerDialogBody.react'),null,this.$MessengerFileSizeErrorDialog2()),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogButton.react'),{action:'cancel',label:h._("Aceptar"),type:'primary'})));};l.propTypes={error:k.string.isRequired};f.exports=l;}),null);
__d('MessengerResponsiveBlock.react',['React','shallowEqual'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k={bottom:0,left:0,overflow:'hidden',position:'absolute',right:0,top:0,visibility:'hidden',zIndex:-1},l={left:0,position:'absolute',top:0,transition:'0s'},m={height:'200%',left:0,position:'absolute',top:0,transition:'0s',width:'200%'};h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.dirty=false,this.lastWidth=null,this.lastHeight=null,this.lastBreakpointsToggles=null,this.setupWeirdScrollTracking=function(){this.refs.expandChild.style.width='10000px';this.refs.expandChild.style.height='10000px';this.refs.expand.scrollLeft=100000;this.refs.expand.scrollTop=100000;this.refs.shrink.scrollLeft=100000;this.refs.shrink.scrollTop=100000;}.bind(this),this.onScroll=function(){var t=this.refs.outer.offsetWidth,u=this.refs.outer.offsetHeight;if(t!=this.lastWidth||u!=this.lastHeight)if(!this.dirty){this.dirty=true;this.lastWidth=t;this.lastHeight=u;var v=this.props.breakpointsToggles(t,u);if(c('shallowEqual')(this.lastBreakpointsToggles,v)){this.dirty=false;}else this.forceUpdate(function(){this.dirty=false;}.bind(this));this.lastBreakpointsToggles=v;}this.setupWeirdScrollTracking();}.bind(this),p;}n.prototype.componentDidMount=function(){this.setupWeirdScrollTracking();};n.prototype.render=function(){return (c('React').createElement('div',{ref:'outer'},this.props.children(this.props.breakpointsToggles(this.lastWidth,this.lastHeight)),c('React').createElement('div',{style:k,onScroll:this.onScroll,ref:'expand'},c('React').createElement('div',{style:l,ref:'expandChild'})),c('React').createElement('div',{style:k,onScroll:this.onScroll,ref:'shrink'},c('React').createElement('div',{style:m}))));};n.propTypes={children:j.func.isRequired,breakpointsToggles:j.func.isRequired};f.exports=n;}),null);
__d('MessengerSendButton.react',['fbt','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=function j(k){var l=h._("Presiona \"Enter\" para enviar"),m=k.customColor?{color:k.customColor}:{};return (c('React').createElement(c('Link.react'),{'aria-label':l,className:k.className,style:m,title:l,onClick:k.onClick},h._("Enviar")));};f.exports=i;}),null);
__d('MessengerComposer.react',['cx','fbt','AsyncRequest','AutoFocusableLink.react','BootloadedComponent.react','MercuryBootloadOnInteraction.react','Bootloader','ChatPhotoUploader.react','ChatConfig','CustomColorHighlighting.react','EmoticonsList','immutable','JSResource','LazyComponent.react','MercuryConfig','MercuryReadOnlyReason','MercuryThreadActions','MessageRequestUtils','MessagingTag','MessengerActions','MessengerComposerInput.react','ChatPageComposerNullState.react','MessengerConfig','MessengerConstants','MessengerContextualDialog.react','MessengerFileSizeErrorDialog.react','MessengerGroupPollingButton.react','MessengerHotLikeButton.react','MessengerHotLikeUtils','MessengerQuickCamOrigins','MessengerResponsiveBlock.react','MessengerSendButton.react','MessengerView','MessengerGamesButton.react','MNCommercePostbackCTADataManager','MNCommercePostbackRefSendManager','P2PGKValues','React','MercuryShareAttachmentRenderLocations','XMNCommercePageNullStateCTAController','XMNCommerceShowStructuredMenuController','getPageIDFromThreadID'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=640,n=360,o=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;j=babelHelpers.inherits(p,c('React').PureComponent);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.handleFileUpload=function(r){this.refsUploader&&this.refsUploader.uploadFiles(r);this.exitCurrentMode();}.bind(this);this.$MessengerComposer25=function(r){var s=c('EmoticonsList').symbols[r];if(!s)return;this.refsInput&&this.refsInput.insertEmoticon(s);}.bind(this);this.$MessengerComposer32=function(){this.$MessengerComposer30()['delete'](this.props.threadID);c('MessengerActions').selectThread(null);}.bind(this);this.$MessengerComposer31=function(){this.$MessengerComposer30().archive(this.props.threadID);c('MessengerActions').selectThread(null);}.bind(this);this.$MessengerComposer28=function(r,s){if(r.platformFBID.toString()===c('MercuryConfig').MessengerAppID){this.props.onStickerSelect(r.resultID.toString());}else this.refsUploader&&this.refsUploader.uploadURL({attribution_app_id:r.platformFBID,external_image_url:r.source.url,preview_url:r.media.preview?r.media.preview.url:r.media.thumbnail.url,source:r.source});}.bind(this);this.$MessengerComposer29=function(r){this.focusInput();this.refsInput&&this.refsInput.insertEmoji(r);}.bind(this);this.$MessengerComposer12=function(r){this.setState({currentValue:r});}.bind(this);this.$MessengerComposer11=function(r,s){this.refsEmojiButton&&this.refsEmojiButton.hideFlyout();return this.props.onMessageSend&&this.props.onMessageSend(r,s);}.bind(this);this.$MessengerComposer27=function(r){this.refsInput&&this.refsInput.triggerSend();}.bind(this);this.$MessengerComposer9=function(){if(this.state.nullStateCTA!==null){this.setState({disableNullState:true});if(c('MNCommercePostbackRefSendManager').hasMDotMeRef(this.$MessengerComposer4())){c('MNCommercePostbackCTADataManager').send(this.state.nullStateCTA.id,this.$MessengerComposer1,c('MNCommercePostbackRefSendManager').getMdotMeRef());c('MessengerActions').changeMDotMeReferral();}else c('MNCommercePostbackCTADataManager').send(this.state.nullStateCTA.id,this.$MessengerComposer1);}}.bind(this);this.$MessengerComposer1=function(){this.setState({showNullState:true,disableNullState:false});}.bind(this);this.$MessengerComposer1=this.$MessengerComposer1.bind(this);this.state=this.$MessengerComposer2();}p.prototype.componentWillReceiveProps=function(q){if(q.threadID!==this.props.threadID){this.setState(this.$MessengerComposer2());if(q.thread)this.$MessengerComposer3(q.thread.message_count,c('getPageIDFromThreadID')(q.threadID));}if(q.thread&&q.thread.message_count>0)this.setState({showNullState:false});};p.prototype.componentWillMount=function(){if(this.props.thread)this.$MessengerComposer3(this.props.thread.message_count,this.$MessengerComposer4());};p.prototype.componentDidUpdate=function(q){if(q.canReply!==this.props.canReply)this.props.onResize&&this.props.onResize();if(this.props.thread)if(this.$MessengerComposer5()&&c('MessengerConfig').EnableStructuredMenu){this.$MessengerComposer6();}else this.setState({showMenu:false});};p.prototype.render=function(){if(!this.props.canReply){return this.$MessengerComposer7();}else if(this.props.thread&&c('MessageRequestUtils').isMessageRequest(this.props.thread)&&!this.state.pendingActionsBypassed)return this.$MessengerComposer8();var q=this.props.thread&&this.props.thread.message_count;c('MNCommercePostbackRefSendManager').sendMDotMeRef(this.$MessengerComposer4(),q);if(this.state.showNullState&&this.state.nullStateCTA!==null)return c('React').createElement(c('ChatPageComposerNullState.react'),{title:this.state.nullStateCTA.title,onClick:this.$MessengerComposer9,disabled:this.state.disableNullState});var r=this.$MessengerComposer10();return c('React').createElement(c('CustomColorHighlighting.react'),{customColor:this.props.thread&&this.props.thread.custom_color},c('React').createElement(c('MessengerResponsiveBlock.react'),{breakpointsToggles:function s(t){return [t!=null&&t<=m,t];}},function(s){var t=s[0],u=s[1];return c('React').createElement('div',{'aria-label':i._("Nuevo mensaje"),className:"_4rv3",role:'region'},c('React').createElement('div',{className:"_5irm"+(t?' '+"_1_73":'')},c('React').createElement(c('MessengerComposerInput.react'),{disableAutofocus:!!this.props.disableAutofocus,handleOnlyImageUploads:false,isComposing:r,mentionsEnabled:this.props.mentionsEnabled,ref:function(v){return this.refsInput=v;}.bind(this),onBeforeInput:function(){return this.refsEmojiButton&&this.refsEmojiButton.hideFlyout();}.bind(this),onResize:this.props.onResize,onMessageSend:this.$MessengerComposer11,participants:this.props.participants,smallerEqual640:t,thread:this.props.thread,threadID:r?c('MessengerConstants').NEW_THREAD_KEY:this.props.threadID,pageID:this.$MessengerComposer4(),viewer:this.props.viewer,onFileUpload:this.handleFileUpload,onChange:this.$MessengerComposer12,showMenu:this.state.showMenu}),c('React').createElement('ul',{ref:function(v){this.refsButtonsContainer=v;}.bind(this),className:"_4rv4"},this.$MessengerComposer13(u),this.$MessengerComposer14())));}.bind(this)));};p.prototype.$MessengerComposer13=function(q){if(this.props.hideActions)return null;if(q&&q<n)return c('React').createElement('div',null,c('React').createElement('div',{className:"_39bj"},this.$MessengerComposer15(),this.$MessengerComposer16(),this.$MessengerComposer17(),this.$MessengerComposer18()),c('React').createElement('div',{className:"_39bj"},this.$MessengerComposer19(),this.$MessengerComposer20(),this.$MessengerComposer21(),this.$MessengerComposer22(),this.$MessengerComposer23()));return c('React').createElement('div',{className:"_39bj"},this.$MessengerComposer15(),this.$MessengerComposer16(),this.$MessengerComposer17(),this.$MessengerComposer18(),this.$MessengerComposer19(),this.$MessengerComposer20(),this.$MessengerComposer21(),this.$MessengerComposer22(),this.$MessengerComposer23());};p.prototype.$MessengerComposer24=function(q){c('MessengerActions').showDialog(c('MessengerFileSizeErrorDialog.react'),{error:q.error});};p.prototype.handleTextDropped=function(q){this.refsInput&&this.refsInput.handleTextDropped(q);};p.prototype.focusInput=function(){this.refsInput&&this.refsInput.focus();};p.prototype.$MessengerComposer20=function(){if(!c('P2PGKValues').P2PVisible||!this.props.threadID||this.$MessengerComposer5())return null;var q="_30yy _25pc _39bk";return c('React').createElement(c('MercuryBootloadOnInteraction.react'),{component:c('React').createElement(c('LazyComponent.react'),{className:q,ContextualDialog:c('MessengerContextualDialog.react'),threadID:this.props.threadID}),loader:c('JSResource')('P2PSendMoneyContainerBootloader.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:q,role:'button'})});};p.prototype.$MessengerComposer23=function(){if(c('ChatConfig').get('messenger_www_quickcam')&&c('ChatConfig').get('messenger_www_html5_quickcam')&&this.props.threadID)return c('React').createElement(c('MercuryBootloadOnInteraction.react'),{component:c('React').createElement(c('LazyComponent.react'),{className:"_4rv5"+(' '+"_39bk")+(this.state.flyoutOpen?' '+"_5jhb":''),location:c('MessengerQuickCamOrigins').MESSENGER,threadID:this.props.threadID,viewer:this.props.viewer}),loader:c('JSResource')('MessengerQuickCamButtonHTML5.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:"_4rv5 _39bk",role:'button'})});return null;};p.prototype.$MessengerComposer19=function(){if(!o)return null;return c('React').createElement(c('MercuryBootloadOnInteraction.react'),{component:c('React').createElement(c('LazyComponent.react'),{onVoiceClipCreate:this.props.onVoiceClipCreate}),loader:c('JSResource')('MessengerVoiceClipButton.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:"_4rv7 _39bk _30yy",role:'button'})});};p.prototype.$MessengerComposer21=function(){if(c('MessengerConfig').ShowGroupPollingInterface&&this.props.thread&&!this.props.thread.is_canonical&&this.props.threadFBID)return c('React').createElement(c('MessengerGroupPollingButton.react'),{threadFBID:this.props.threadFBID});return null;};p.prototype.$MessengerComposer22=function(){return c('MercuryConfig').MessengerGamesGK&&this.props.threadFBID?c('React').createElement(c('MessengerGamesButton.react'),{threadFBID:this.props.threadFBID}):null;};p.prototype.$MessengerComposer15=function(){return c('React').createElement('div',{className:"_39bk"},c('React').createElement(c('ChatPhotoUploader.react'),{allowCrossPage:true,disabled:!(this.props.threadID||this.$MessengerComposer26()),ref:function(q){return this.refsUploader=q;}.bind(this),imageClassName:"_5vn8",imagesOnly:false,inputClassname:"_260t",linkClassName:"_30yy _260u",onAllUploadsComplete:this.props.onPhotoUploadComplete,onLastUploadFail:this.props.onPhotoUploadFail,onLastUploadCancel:this.props.onPhotoUploadCancel,onSubmit:this.props.onPhotoUploadSubmit,onUploadError:this.$MessengerComposer24}));};p.prototype.$MessengerComposer14=function(){var q=!(this.props.threadID||this.$MessengerComposer26());if(c('MessengerConfig').SendButtonEnabled&&!q&&this.state.currentValue.length)return c('React').createElement(c('MessengerSendButton.react'),{className:(this.props.threadID?"_30yy":'')+(' '+"_38lh")+(' '+"_39bl"),customColor:this.props.thread&&this.props.thread.custom_color,onClick:this.$MessengerComposer27});return c('React').createElement(c('MessengerHotLikeButton.react'),{className:"_4rv9"+(this.props.threadID?' '+"_30yy":'')+(' '+"_39bl"),disabled:q,customColor:this.props.thread&&this.props.thread.custom_color,customLike:c('MessengerHotLikeUtils').getCustomEmojiFromThread(this.props.thread)||undefined,sendSticker:this.props.onStickerSelect,sendCustomLike:this.props.onCustomLikeSelect,threadID:this.props.threadID,renderSize:24});};p.prototype.$MessengerComposer16=function(){var q=(this.props.threadID?"_30yy":'')+(' '+"_4rv6")+(' '+"_39bk");return c('React').createElement(c('MercuryBootloadOnInteraction.react'),{component:c('React').createElement(c('LazyComponent.react'),{className:q,ContextualDialogClass:c('MessengerContextualDialog.react'),disabled:!(this.props.threadID||this.$MessengerComposer26()),getInput:function(){return this.refsInput;}.bind(this),flyoutAlignment:'right',flyoutClassName:"_293j",flyoutWidth:285,onStickerSelect:this.props.onStickerSelect,onEmoticonSelect:this.$MessengerComposer25,threadID:this.props.threadID}),loader:c('JSResource')('ChatStickerButton.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:q,role:'button'})});};p.prototype.$MessengerComposer17=function(){if(!c('MessengerConfig').ContentSearchEnabled)return null;var q=(this.props.threadID?"_30yy":'')+(' '+"_yht")+(' '+"_39bk");return c('React').createElement(c('MercuryBootloadOnInteraction.react'),{component:c('React').createElement(c('LazyComponent.react'),{className:q,ContextualDialogClass:c('MessengerContextualDialog.react'),getInput:function(){return this.refsInput;}.bind(this),getQuery:function(){return this.refsInput?this.refsInput.getValue():'';}.bind(this),location:c('MercuryShareAttachmentRenderLocations').MESSENGER,onSelect:this.$MessengerComposer28}),loader:c('JSResource')('ChatContentSearchButton.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:q,role:'button'})});};p.prototype.$MessengerComposer18=function(){if(!c('MercuryConfig').WWWMessengerEmojiPickerEnabled)return null;var q=(this.props.threadID?"_30yy":'')+(' '+"_5s2p")+(' '+"_39bk");return c('React').createElement(c('MercuryBootloadOnInteraction.react'),{component:c('React').createElement(c('LazyComponent.react'),{className:q,ContextualDialogClass:c('MessengerContextualDialog.react'),flyoutAlignment:'right',getInput:function(){return this.refsInput;}.bind(this),onSelect:this.$MessengerComposer29,onMount:function(r){return this.refsEmojiButton=r;}.bind(this),sendCustomEmoji:this.props.onCustomLikeSelect,threadID:this.props.threadID}),loader:c('JSResource')('ChatEmojiButton.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:q,role:'button'})});};p.prototype.$MessengerComposer8=function(){return c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('div',{style:{height:51}}),bootloadLoader:c('JSResource')('MessengerPendingActions.react').__setRef('MessengerComposer.react'),folder:this.props.thread&&this.props.thread.folder,onAcceptClick:function(){this.$MessengerComposer30().changeFolder(this.props.threadID,c('MessagingTag').INBOX);this.setState({pendingActionsBypassed:true});}.bind(this),onDeleteClick:function(){c('Bootloader').loadModules(["MessengerDeleteDialog.react"],function(q){c('MessengerActions').showDialog(q,{onArchive:this.$MessengerComposer31,onDelete:this.$MessengerComposer32,onToggle:this.$MessengerComposer33.bind(this,q)});}.bind(this),'MessengerComposer.react');}.bind(this),onIgnoreClick:function(){this.$MessengerComposer30().changeFolder(this.props.threadID,c('MessagingTag').OTHER);c('MessengerActions').selectThread(null);}.bind(this)});};p.prototype.$MessengerComposer7=function(){return !this.props.thread||this.props.view===c('MessengerView').DETAIL.COMPOSE?null:c('React').createElement('div',{className:"_4rv3"},c('React').createElement('div',{className:"_2wy4"},c('MercuryReadOnlyReason').getReason(this.props.thread.has_email_participant)));};p.prototype.$MessengerComposer33=function(q,r){if(!r)c('MessengerActions').hideDialog(q);};p.prototype.exitCurrentMode=function(){this.refsInput&&this.refsInput.exitCurrentMode();};p.prototype.$MessengerComposer10=function(){return this.props.view===c('MessengerView').DETAIL.COMPOSE;};p.prototype.$MessengerComposer26=function(){return !!(this.$MessengerComposer10()&&this.props.recipients&&this.props.recipients.size);};p.prototype.$MessengerComposer5=function(){return !!this.$MessengerComposer4();};p.prototype.$MessengerComposer4=function(){return c('getPageIDFromThreadID')(this.props.threadID);};p.prototype.$MessengerComposer6=function(){var q=this.$MessengerComposer4(),r=c('XMNCommerceShowStructuredMenuController').getURIBuilder();new (c('AsyncRequest'))().setURI(r.getURI()).setMethod('POST').setData({page_id:q}).setHandler(function(s){return this.setState({showMenu:s&&s.payload});}.bind(this)).send();};p.prototype.$MessengerComposer3=function(q,r){var s=c('MessengerConfig').EnabledNullStateCTA&&q===0,t=c('MessengerConfig').ShouldAlwaysEnableCTAInsteadOfComposer,u=!!r;if(u&&(t||s)){var v=c('XMNCommercePageNullStateCTAController').getURIBuilder();new (c('AsyncRequest'))().setURI(v.getURI()).setMethod('POST').setData({page_id:r}).setHandler(function(w){if(w&&w.payload){this.setState({showNullState:true,nullStateCTA:w.payload});}else this.setState({showNullState:false,disableNullState:false});}.bind(this)).send();}else this.setState({showNullState:false,disableNullState:false});};p.prototype.$MessengerComposer2=function(){return {pendingActionsBypassed:false,currentValue:'',nullStateCTA:null,showMenu:false,showNullState:false,disableNullState:false};};p.prototype.$MessengerComposer30=function(){return c('MercuryThreadActions').getForFBID(this.props.viewer);};p.prototype.testUtils_renderP2PSendMoneyButton=function(){return this.$MessengerComposer20();};p.propTypes={canReply:l.bool,disableAutofocus:l.bool,hideActions:l.bool,mentionsEnabled:l.bool,onCustomLikeSelect:l.func,onMessageSend:l.func,onPhotoUploadComplete:l.func,onPhotoUploadCancel:l.func,onPhotoUploadFail:l.func,onPhotoUploadSubmit:l.func,onResize:l.func,onStickerSelect:l.func.isRequired,onVoiceClipCreate:l.func,participants:l.instanceOf(c('immutable').Map),recipients:l.instanceOf(c('immutable').List),threadID:l.string,threadFBID:l.string,thread:l.object,view:l.string,viewer:l.string};f.exports=p;}),null);
__d('MessengerSimpleDialog.react',['fbt','MessengerActions','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerDialogTitle.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerSimpleDialog1=function(r){if(!r)c('MessengerActions').hideDialog();},n;}l.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerSimpleDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogTitle.react'),null,this.props.title)),c('React').createElement(c('MessengerDialogBody.react'),null,this.props.body),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogButton.react'),{action:'cancel',label:h._("Aceptar"),type:'primary'})));};l.propTypes={title:k.string.isRequired,body:k.string.isRequired};f.exports=l;}),null);
__d('MessengerComposerContainer.react',['fbt','AsyncUploadRequest','EmojiLikeUtils','EmojiState','EmojiDispatcher','immutable','MercuryAttachment','MercuryAttachmentType','MercuryConfig','MercuryThreadIDMap','MercuryThreadInformer','MercuryIDs','MercuryLocalIDs','MercuryMessageActions','MercuryMessageObject','MercurySendMessageHandler','MercurySourceType','MercuryThreads','MercuryThreadActions','MessageRequestUtils','MessengerActions','MessengerComposer.react','MessengerComposerActions','MessengerEmojiUsageUtils','MessengerSimpleDialog.react','MessengerView','PhotosUploadID','React','ReactDOM','SubscriptionsHandler','EmojiStateStore'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerComposerContainer7=function(s,t){c('EmojiState').updateRecentlyUsed(c('MessengerEmojiUsageUtils').findAllEmojis(s));if(!this.props.canReply)return false;return this.$MessengerComposerContainer15(function(u){var v=this.$MessengerComposerContainer4.constructUserGeneratedMessageObject(s,c('MercurySourceType').MESSENGER_WEB,u);if(t){if(t.shareable_attachment)v.shareable_attachment=t.shareable_attachment;if(t.profile_ranges)v.profile_ranges=v.profile_xmd=t.profile_ranges;}return v;}.bind(this));}.bind(this),this.$MessengerComposerContainer9=function(s,t){this.$MessengerComposerContainer2.cancelAttachmentPlaceholder(t.upload_id,t);}.bind(this),this.$MessengerComposerContainer8=function(s,t){this.$MessengerComposerContainer2.confirmAttachmentPlaceholder(t.upload_id,t);}.bind(this),this.$MessengerComposerContainer10=function(s,t){this.$MessengerComposerContainer2.cancelAttachmentPlaceholder(t.upload_id,t);var u=h._("Error al subir la foto"),v=h._("Vuelve a intentarlo. Aseg\u00farate de subir una foto v\u00e1lida.");if(t.errorDialogParams){u=t.errorDialogParams.title||u;v=t.errorDialogParams.body||v;}this.$MessengerComposerContainer16(u,v);}.bind(this),this.$MessengerComposerContainer11=function(s,t){return this.$MessengerComposerContainer15(function(u){return this.$MessengerComposerContainer4.constructAttachmentMessageObject(c('MercurySourceType').MESSENGER_WEB,u);}.bind(this),function(u){this.$MessengerComposerContainer2.addAttachmentPlaceholder(u,t.upload_id,t);this.handleMessageSentToPendingThread();}.bind(this));}.bind(this),this.$MessengerComposerContainer14=function(s){var t='upload_'+c('PhotosUploadID').getNewID();this.$MessengerComposerContainer1.sendAttachment(this.props.threadID,m(t),c('MercurySourceType').MESSENGER_WEB);var u={};u[t]=s;var v=new (c('AsyncUploadRequest'))(c('MercuryConfig').upload_url).setAllowCrossOrigin(true).setRelativeTo(c('ReactDOM').findDOMNode(this)).setData({voice_clip:true}).setFiles(u);this.$MessengerComposerContainer6.addSubscriptions(v.subscribe('success',function(w,x){return this.$MessengerComposerContainer17(x);}.bind(this)));v.send();}.bind(this),this.$MessengerComposerContainer17=function(s){var t=s.getName(),u=s.getResponse().payload.metadata[0].audio_id;this.$MessengerComposerContainer2.confirmAttachmentPlaceholder(t,{upload_id:t,audio_ids:[u]});}.bind(this),this.$MessengerComposerContainer12=function(s){return this.$MessengerComposerContainer15(function(t){return (this.$MessengerComposerContainer4.constructStickerMessageObject(s,c('MercurySourceType').MESSENGER_WEB,t));}.bind(this));}.bind(this),this.$MessengerComposerContainer13=function(s,t,u){var v=this.props.threadID,w=this.$MessengerComposerContainer4.constructUserGeneratedMessageObject(s.emoji,c('MercurySourceType').MESSENGER_WEB,v);w.has_attachment=false;return this.$MessengerComposerContainer15(function(x){c('EmojiLikeUtils').setEmojiSize(w,t);return c('EmojiLikeUtils').setEmojiSource(w,u);});}.bind(this),this.$MessengerComposerContainer15=function(s,t){var u=this.props.threadID,v=this.props.recipients,w=false;if(!u&&v&&v.size>1){u=c('MercuryLocalIDs').generateThreadID();w=true;}if(!u)return false;var x=s(u);if(w){var y=v.map(function(z){return c('MercuryIDs').getParticipantIDFromUserID(z.getUniqueID());}).toArray();this.$MessengerComposerContainer3.createNewLocalThread(u,y);x.offline_threading_id=c('MercuryIDs').tokenize(u).value;x.specific_to_list=y;}if(t){t(x);}else this.$MessengerComposerContainer2.send(x,this.handleMessageSentToPendingThread);if(this.props.view===c('MessengerView').DETAIL.COMPOSE){if(c('MercuryAttachment').get(x).length>0)c('MessengerComposerActions').moveDraftToNextThread(u);c('MessengerComposerActions').exitComposeState();if(c('MercuryIDs').isLocalThread(u)){this.$MessengerComposerContainer5.subscribeOnce('messages-updated',function(z,aa){var ba=c('MercuryThreadIDMap').get();if(ba.canLinkExternally(u))c('MessengerActions').selectThread(u);});}else c('MessengerActions').selectThread(u);}this.focusInput();return true;}.bind(this),this.handleMessageSentToPendingThread=function(){if(this.props.thread&&c('MessageRequestUtils').isMessageRequest(this.props.thread))c('MercuryThreadActions').getForFBID(this.props.viewer).movePendingToInbox(this.props.threadID);}.bind(this),this.$MessengerComposerContainer16=function(s,t){c('MessengerActions').showDialog(c('MessengerSimpleDialog.react'),{title:s,body:t});},o;}l.prototype.componentWillMount=function(){this.$MessengerComposerContainer1=c('MercurySendMessageHandler').getForFBID(this.props.viewer);this.$MessengerComposerContainer2=c('MercuryMessageActions').getForFBID(this.props.viewer);this.$MessengerComposerContainer3=c('MercuryThreads').getForFBID(this.props.viewer);this.$MessengerComposerContainer4=c('MercuryMessageObject').getForFBID(this.props.viewer);this.$MessengerComposerContainer5=c('MercuryThreadInformer').getForFBID(this.props.viewer);this.$MessengerComposerContainer6=new (c('SubscriptionsHandler'))();c('EmojiDispatcher').explicitlyRegisterStores([c('EmojiStateStore')]);this.props.onMount&&this.props.onMount(this);};l.prototype.componentWillUnmount=function(){this.$MessengerComposerContainer6.release();};l.prototype.focusInput=function(){this.refsComposer&&this.refsComposer.focusInput&&this.refsComposer.focusInput();};l.prototype.render=function(){return c('React').createElement(c('MessengerComposer.react'),{canReply:this.props.canReply,mentionsEnabled:!!c('MercuryConfig').Mentions,onMessageSend:this.$MessengerComposerContainer7,onPhotoUploadComplete:this.$MessengerComposerContainer8,onPhotoUploadCancel:this.$MessengerComposerContainer9,onPhotoUploadFail:this.$MessengerComposerContainer10,onPhotoUploadSubmit:this.$MessengerComposerContainer11,onResize:this.props.onResize,onStickerSelect:this.$MessengerComposerContainer12,onCustomLikeSelect:this.$MessengerComposerContainer13,onVoiceClipCreate:this.$MessengerComposerContainer14,participants:this.props.participants,recipients:this.props.recipients,ref:function(n){return this.refsComposer=n;}.bind(this),threadID:this.props.threadID,threadFBID:this.props.threadFBID,thread:this.props.thread,view:this.props.view,viewer:this.props.viewer});};l.prototype.handleFileUpload=function(n){var o=n.reduce(function(p,q){var r=q.type.split('/')[0];if(p[r]){p[r].push(q);}else p.other.push(q);return p;},{audio:[],image:[],other:[]});o.audio.forEach(function(p){return this.$MessengerComposerContainer14(p);}.bind(this));this.refsComposer.handleFileUpload(o.image.concat(o.other));};l.prototype.handleTextDropped=function(n){this.refsComposer.handleTextDropped(n);};l.prototype.resetDrag=function(){this.refsComposer.exitCurrentMode();};l.propTypes={canReply:k.bool,onMount:k.func,onResize:k.func,participants:k.instanceOf(c('immutable').Map),recipients:k.instanceOf(c('immutable').List),threadID:k.string,threadFBID:k.string,thread:k.object,view:k.string,viewer:k.string};function m(n){return {upload_id:n,preview_attachments:[{upload_id:n,attach_type:c('MercuryAttachmentType').PHOTO,preview_uploading:true}]};}f.exports=l;}),null);
__d('MessengerCollapsedLogMessageGroup.react',['cx','fbt','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={collapsed:true},n;}l.prototype.render=function(){var m=i._("Ver m\u00e1s"),n=i._("Ver menos");return (c('React').createElement('div',{className:"_497p"},i._("New Activities in the Room."),' ',c('React').createElement(c('Link.react'),{className:"_4ea1",onClick:function(){return this.setState({collapsed:!this.state.collapsed});}.bind(this)},this.state.collapsed?m:n),!this.state.collapsed?c('React').createElement('div',null,c('React').createElement('div',{className:"_4ea2"}),this.props.children,c('React').createElement('div',{className:"_4ea2"})):null));};f.exports=l;}),null);
__d('MessengerContextBanner.react',['cx','Badge.react','ImageBlock.react','immutable','MercuryParticipantsConstants','MercuryParticipantsImage.react','MercuryThreadImage.react','React','MercuryShareAttachmentRenderLocations','requireWeak'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=void 0;c('requireWeak')('MessengerThreadImage.react',function(n){l=n;});i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerContextBanner1=function(){var s=this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER,t=null;if(this.props.thread){var u=l&&s?l:c('MercuryThreadImage.react');t=c('React').createElement(u,{showBadge:false,participants:this.props.participants,size:s?60:null,thread:this.props.thread,viewer:this.props.viewer});}else if(this.props.participantIDs)t=c('React').createElement(c('MercuryParticipantsImage.react'),{participants:this.props.participantIDs,size:c('MercuryParticipantsConstants').BIG_IMAGE_SIZE});return (c('React').createElement('div',{className:"_llk"},t));}.bind(this),this.$MessengerContextBanner2=function(){if(this.props.location!==c('MercuryShareAttachmentRenderLocations').MESSENGER)return null;var s=this.props.isVerified?c('React').createElement(c('Badge.react'),{size:'medium',type:'verified'}):null;return (c('React').createElement('div',{className:"_llq"},c('React').createElement('span',{className:"_3oh-"},this.props.contactName,s)));}.bind(this),this.$MessengerContextBanner3=function(){return (c('React').createElement('div',{className:"_1n-e _36zg"},this.props.connectionContext));}.bind(this),this.$MessengerContextBanner4=function(){if(!this.props.contextItems.length)return null;return (c('React').createElement('div',null,this.props.contextItems.map(function(s,t){return (c('React').createElement('div',{className:"_1n-e",key:'item:'+t},s));})));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('ImageBlock.react'),{className:"_llj"+(this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER?' '+"_2eu-":'')+(this.props.location===c('MercuryShareAttachmentRenderLocations').CHAT?' '+"_2eu_":'')+(this.props.location===c('MercuryShareAttachmentRenderLocations').WEB_INBOX?' '+"_2ev0":''),spacing:'large',style:this.props.style},this.$MessengerContextBanner1(),c('React').createElement('div',{className:"_lll"},this.$MessengerContextBanner2(),this.$MessengerContextBanner3(),this.$MessengerContextBanner4()));};m.propTypes={contactName:k.string,connectionContext:k.string,contextItems:k.arrayOf(k.string).isRequired,isVerified:k.bool,location:k.string.isRequired,participantIDs:k.arrayOf(k.string),participants:k.instanceOf(c('immutable').Map),thread:k.object,viewer:k.string.isRequired};f.exports=m;}),null);
__d("XMessengerContextBannerController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ajax\/messenger\/context_banner\/",{profile_id:{type:"Int",required:true},max_context_items:{type:"Int",defaultValue:3}});}),null);
__d('MessengerContextInformationStore',['AsyncRequest','EventEmitter','Map','XMessengerContextBannerController'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=new (c('Map'))(),k=new (c('Map'))();h=babelHelpers.inherits(l,c('EventEmitter'));i=h&&h.prototype;l.prototype.getOrFetch=function(m){var n=j.get(m);n||this.$MessengerContextInformationStore1(m);return n;};l.prototype.$MessengerContextInformationStore1=function(m){if(k.get(m))return;var n=c('XMessengerContextBannerController').getURIBuilder().setInt('profile_id',m).getURI(),o=new (c('AsyncRequest'))().setAllowCrossPageTransition(true).setURI(n).setHandler(this.$MessengerContextInformationStore2.bind(this,m));k.set(m,o);o.send();};l.prototype.$MessengerContextInformationStore2=function(m,n){j.set(m,{connectionContext:n.payload.connection_context||'',contextItems:n.payload.context_items||[]});k['delete'](m);this.emit('change');};function l(){h.apply(this,arguments);}f.exports=new l();}),null);
__d('MessengerContextBannerContainer.react',['DOMDimensions','immutable','MercuryIDs','MercuryParticipants','MercuryThreads','MessengerContextBanner.react','MessengerContextInformationStore','ReactComponentWithPureRenderMixin','React','ReactDOM','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerContextBannerContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'),c('MercuryThreads'),c('MessengerContextInformationStore'))],propTypes:{location:h.string.isRequired,onResize:h.func,otherUserFBIDs:h.arrayOf(h.string),threadID:h.string,viewer:h.string.isRequired},statics:{calculateState:function j(k){var l=null,m=null;if(k.threadID){l=c('MercuryThreads').getForFBID(k.viewer).getOrFetch(k.threadID);m=l&&l.participants;}else if(k.otherUserFBIDs&&k.otherUserFBIDs.length===1)m=k.otherUserFBIDs.map(function(p){return c('MercuryParticipants').getIDFromVanityOrFBID(p);});var n=c('immutable').Map();if(m)n=n.withMutations(function(p){m&&m.forEach(function(q){p.set(q,c('MercuryParticipants').getOrFetch(q));});});var o=null;if(l){o=n.get(c('MercuryIDs').getParticipantIDFromFromThreadID(l.thread_id));}else o=m&&n.get(m[0]);return babelHelpers['extends']({contact:o,participantIDs:m,participants:n,thread:l},i.getContextInformation(o&&o.fbid&&o.fbid.toString()));},getContextInformation:function j(k){var l=void 0;if(k)l=c('MessengerContextInformationStore').getOrFetch(k.toString());return l||{connectionContext:'',contextItems:[]};}},componentDidUpdate:function j(){var k=c('ReactDOM').findDOMNode(this);if(!k)return;var l=c('DOMDimensions').getElementDimensions(k).height;if(this.props.onResize)this.props.onResize(l);},render:function j(){if(!this.state.contact)return null;if(this.state.contact.type==='page'&&!this.state.connectionContext&&!this.state.contextItems.length)return null;return (c('React').createElement(c('MessengerContextBanner.react'),{contactName:this.state.contact.name,connectionContext:this.state.connectionContext,contextItems:this.state.contextItems,isVerified:this.state.contact.is_verified,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,style:this.props.style,thread:this.state.thread,viewer:this.props.viewer}));}});f.exports=i;}),null);
__d('MessengerDateBreak.react',['cx','React','formatDate','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.shouldComponentUpdate=function(m){'use strict';return this.props.date.getTime()!==m.date.getTime();};l.prototype.render=function(){'use strict';var m=c('formatDate')(this.props.date,{today:'g:ia',withinWeek:'D g:ia',thisYear:'M jS, g:ia',older:'m/d/Y g:ia'});return (c('React').createElement('h4',{className:c('joinClasses')(this.props.className,"_497p _2lpt")},c('React').createElement('time',{className:"_3oh-"},m)));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={date:k.instanceOf(Date).isRequired};f.exports=l;}),null);
__d("XMNCommercePromotionBlockController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messages\/commerce\/promotion\/block\/",{page_id:{type:"String",required:true},type:{type:"String",required:true}});}),null);
__d('MNCommercePromotionBlockDataManager',['AsyncRequest','MNCommercePromotionStateActions','XMNCommercePromotionBlockController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.prototype.block=function(i,j){var k=c('XMNCommercePromotionBlockController').getURIBuilder().setString('page_id',i).setString('type',j).getURI();new (c('AsyncRequest'))().setURI(k).setHandler(this.$MNCommercePromotionBlockDataManager1).setErrorHandler(this.$MNCommercePromotionBlockDataManager2).send();};h.prototype.$MNCommercePromotionBlockDataManager1=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c('MNCommercePromotionStateActions').stateReload(k);};h.prototype.$MNCommercePromotionBlockDataManager2=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c('MNCommercePromotionStateActions').stateLoadError(k);};function h(){}f.exports=new h();}),null);
__d('MNCommerceUnlinkDialog.react',['fbt','MNCommerceButton.react','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=h._("Cancelar"),n=h._("Desactivar");return (c('React').createElement(c('MNCommerceDialog.react'),{onToggle:this.props.onToggle,shown:this.props.shown},c('React').createElement(c('MNCommerceDialogTitle.react'),{showCloseButton:false},h._("\u00bfDesvincular la cuenta?")),c('React').createElement(c('MNCommerceDialogBody.react'),null,c('React').createElement('div',null,h._("Puedes desactivar las actualizaciones si no te registraste o si no quieres recibirlas m\u00e1s."))),c('React').createElement(c('MNCommerceDialogFooter.react'),null,c('React').createElement(c('MNCommerceButton.react'),{label:m,onClick:this.props.onCancelButtonClick,use:'default'}),c('React').createElement(c('MNCommerceButton.react'),{label:n,onClick:this.props.onTurnOffButtonClick,use:'confirm'}))));};function l(){i.apply(this,arguments);}l.propTypes={onCancelButtonClick:k.func,onTurnOffButtonClick:k.func};f.exports=l;}),null);
__d('MNCommerceUnlinkErrorDialog.react',['fbt','MNCommerceAttachmentConstants','MNCommerceErrors','React','MNCommerceButton.react','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=h._("Aceptar"),n=null,o=null;switch(this.props.errorType){case c('MNCommerceErrors').ALREADY_UNLINKED:o=c('React').createElement('div',null,h._("Las actualizaciones ya est\u00e1n desactivadas"));n=c('React').createElement('div',null,h._("No recibes actualizaciones en Messenger."));break;default:o=c('React').createElement('div',null,h._("No se pudieron desactivar las actualizaciones"));n=c('React').createElement('div',null,h._("Se produjo un error. Vuelve a intentarlo."));break;}return (c('React').createElement(c('MNCommerceDialog.react'),{onToggle:this.props.onToggle,shown:this.props.shown,width:c('MNCommerceAttachmentConstants').UNLINK_ERROR_DIALOG.WIDTH},c('React').createElement(c('MNCommerceDialogTitle.react'),null,o),c('React').createElement(c('MNCommerceDialogBody.react'),null,n),c('React').createElement(c('MNCommerceDialogFooter.react'),null,c('React').createElement(c('MNCommerceButton.react'),{label:m,onClick:this.props.onOkayButtonClick,use:'confirm'}))));};function l(){i.apply(this,arguments);}l.propTypes={errorType:k.number,onOkayButtonClick:k.func};f.exports=l;}),null);
__d('MNCommerceUnlinkDialogContainer.react',['BanzaiLogger','MNCommerceDialogStateActions','MNCommerceDialogStateStore','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceUnlinkDialog.react','MNCommerceUnlinkErrorDialog.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$MNCommerceUnlinkDialogContainer1=function(p){if(!p)this.$MNCommerceUnlinkDialogContainer2();}.bind(this),this.$MNCommerceUnlinkDialogContainer2=function(){c('MNCommerceDialogStateActions').hideDialog();},l;}j.prototype.render=function(){var k=c('MNCommerceDialogStateStore').getState();if(k&&k.errorType){c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK_ERROR})});return c('React').createElement(c('MNCommerceUnlinkErrorDialog.react'),{onToggle:this.$MNCommerceUnlinkDialogContainer1,shown:!!k,errorType:k.errorType,onOkayButtonClick:this.$MNCommerceUnlinkDialogContainer2});}else{c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK})});return c('React').createElement(c('MNCommerceUnlinkDialog.react'),{onToggle:this.$MNCommerceUnlinkDialogContainer1,shown:!!k,onCancelButtonClick:this.$MNCommerceUnlinkDialogContainer2,onTurnOffButtonClick:k&&k.onTurnOffButtonClick});}};f.exports=j;}),null);
__d("XMNCommerceUnlinkController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messages\/commerce\/unlink\/",{page_id:{type:"String",required:true},user_id:{type:"String",required:true}});}),null);
__d('MNCommerceUnlinkDataManager',['AsyncRequest','MNCommerceDialogStateActions','MNCommerceUnlinkDialogContainer.react','XMNCommerceUnlinkController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.prototype.unlink=function(i,j){var k=c('XMNCommerceUnlinkController').getURIBuilder().setString('page_id',i).setString('user_id',j).getURI();new (c('AsyncRequest'))().setURI(k).setErrorHandler(this.$MNCommerceUnlinkDataManager1).send();};h.prototype.$MNCommerceUnlinkDataManager1=function(i){c('MNCommerceDialogStateActions').showDialog(c('MNCommerceUnlinkDialogContainer.react'),{errorType:i.error});};function h(){}f.exports=new h();}),null);
__d('MNCommerceLogMessageUtils',['cx','fbt','invariant','BanzaiLogger','Link.react','MercuryConfig','MercuryIDs','MercuryThreads','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceDialogStateActions','MNCommerceReplyTypes','MNCommercePromotionBlockDataManager','MNCommercePromotionManageBlockDialogContainer.react','MNCommerceUnlinkDataManager','MNCommerceUnlinkDialogContainer.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('MercuryThreads').get();l.prototype.isCommercePageAdminMessage=function(m){return !!(m&&m.log_message_data&&(m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_LINK||m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_UNLINK));};l.prototype.getCommercePageManage=function(m,n){var o=null;if(c('MercuryConfig').WWWMessengerManageAdminGK){var p=function r(){var s=c('MercuryIDs').getUserIDFromParticipantID(m.author),t=function u(v,w){return c('MNCommercePromotionBlockDataManager').block(v,w);};c('MNCommerceDialogStateActions').showDialog(c('MNCommercePromotionManageBlockDialogContainer.react'),{pageID:s,onConfirmButtonClick:t});c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.MANAGE})});};o=c('React').createElement(c('Link.react'),{className:(!n?"_2w2m":'')+(n?' '+"_1jvn":''),onClick:p},i._("Administrar"));}else if(m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_LINK){var q=function r(){var s=c('MercuryIDs').getUserIDFromParticipantID(m.author),t=k.getThreadMetaNow(m.thread_id);!t?j(0):void 0;var u=null;t.participants.every(function(w){if(w!==m.author){u=c('MercuryIDs').getUserIDFromParticipantID(w);return false;}return true;});var v=function w(){c('MNCommerceDialogStateActions').hideDialog();c('MNCommerceUnlinkDataManager').unlink(s,u);};c('MNCommerceDialogStateActions').showDialog(c('MNCommerceUnlinkDialogContainer.react'),{onTurnOffButtonClick:v});c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK})});};o=c('React').createElement(c('Link.react'),{className:(!n?"_2w2m":'')+(n?' '+"_1jvn":''),onClick:q},i._("Desactivar"));}return (c('React').createElement('span',null,m.log_message_body,' ',o));};function l(){}f.exports=new l();}),null);
__d('MNAdsMessageUtils',['cx','fbt','AdPageMessageTypeEnum','Bootloader','FBJSON','Link.react','MercuryConfig','MercuryIDs','MessagingGenericAdminTextType','MessagingTag','MNCommerceDialogStateActions','MNCommercePromotionBlockDataManager','React','getPageIDFromThreadID'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j='offsite_ad';k.prototype.isAdsMessageRequest=function(l){return l.folder==c('MessagingTag').PENDING&&l.last_message_type!==c('AdPageMessageTypeEnum').NON_AD;};k.prototype.renderAdsMessageRequestStatus=function(){var l=i._("Publicidad");return (c('React').createElement('span',null,l));};k.prototype.isAdsAdminMessage=function(l){return l&&l.log_message_data&&l.log_message_data.message_type&&l.log_message_data.message_type===c('MessagingGenericAdminTextType').AD_MANAGE_MESSAGE;};k.prototype.isOffsiteAd=function(l){if(l.log_message_data&&l.log_message_data.untypedData&&l.log_message_data.untypedData.ad_properties){var m=c('FBJSON').parse(l.log_message_data.untypedData.ad_properties);for(var n=m,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q;if(r===j)return true;}}return false;};k.prototype.getadPreferencesUrl=function(l){if(l.log_message_data&&l.log_message_data.untypedData&&l.log_message_data.untypedData.ad_preferences_url)return l.log_message_data.untypedData.ad_preferences_url;return '';};k.prototype.getAdsPageManage=function(l,m){var n=null;if(c('MercuryConfig').WWWMessengerManageAdminGK){var o=function(){var p=this.isOffsiteAd(l),q=c('getPageIDFromThreadID')(l.thread_id);if(!q)q=c('MercuryIDs').getUserIDFromParticipantID(l.author);var r=this.getadPreferencesUrl(l),s=function t(u,v){return c('MNCommercePromotionBlockDataManager').block(u,v);};c('Bootloader').loadModules(["MNAdsMessagesManageBlockDialogContainer.react"],function(t){c('MNCommerceDialogStateActions').showDialog(t,{adPreferencesUrl:r,isOffsiteAd:p,onConfirmButtonClick:s,pageID:q});},'MNAdsMessageUtils');}.bind(this);n=c('React').createElement(c('Link.react'),{className:(!m?"_3kyk":'')+(m?' '+"_3kyl":''),onClick:o},i._("Administrar"));return (c('React').createElement('span',{className:!m?"_3kym":''},l.log_message_body,' ','\u00B7',' ',n));}return (c('React').createElement('span',{className:!m?"_3kym":''},l.log_message_body));};function k(){}f.exports=new k();}),null);
__d('MessengerHorizontalScroll.react',['ix','cx','fbt','Animation','Image.react','Link.react','React','ReactComponentWithPureRenderMixin','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=250,m='left',n='right',o=c('React').createClass({displayName:'MessengerHorizontalScroll',_rightArrowBoundOnClick:Function,_leftArrowBoundOnClick:Function,mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{batchScroll:k.bool.isRequired,childPadding:k.number.isRequired,childWidth:k.number.isRequired,freeScroll:k.bool.isRequired,leftOffset:k.number.isRequired,numChildrenVisible:k.number.isRequired,width:k.number.isRequired},getInitialState:function p(){var q=this._calculateState();return babelHelpers['extends']({index:0,scrollLeft:0},q);},getDefaultProps:function p(){return {batchScroll:false,childPadding:0,freeScroll:false,leftOffset:0,numChildrenVisible:1};},componentWillMount:function p(){this._rightArrowBoundOnClick=this._updatePosition.bind(this,n);this._leftArrowBoundOnClick=this._updatePosition.bind(this,m);},componentWillReceiveProps:function p(q){this.setState(this._calculateState(q));},render:function p(){var q=this.props;if(this.refs&&this.refs.childContainer&&!q.freeScroll)new (c('Animation'))(this.refs.childContainer).to('scrollLeft',this.state.scrollLeft).duration(l).go();var r=this._calculateVisibleWidth(),s=this.state.scrollLeft===0||q.freeScroll||r<q.width,t=this.state.scrollLeft===this.state.maxScrollLeft||q.freeScroll||r<q.width,u=q.freeScroll?'scroll':'hidden',v={overflow:u,width:q.width};return (c('React').createElement('div',{className:"_5agf",style:{width:q.width}},c('React').createElement(c('Link.react'),{'aria-label':j._("Ver m\u00e1s resultados de la izquierda"),className:(s?"hidden_elem":'')+(' '+"_5agg"),onClick:this._leftArrowBoundOnClick,role:'button'},c('React').createElement(c('Image.react'),{className:"_5agh",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/chevron-left_20_bluegray-40.png")})),c('React').createElement(c('Link.react'),{'aria-label':j._("Ver m\u00e1s resultados de la derecha"),className:(t?"hidden_elem":'')+(' '+"_5agi"),onClick:this._rightArrowBoundOnClick,role:'button'},c('React').createElement(c('Image.react'),{className:"_5agh",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/chevron-right_20_bluegray-40.png")})),c('React').createElement('div',{className:"_5agj",ref:'childContainer',style:v},c('React').createElement('div',{className:"_5agk"},this._renderChildren()))));},_calculateState:function p(q){if(!q||q.children!==this.props.children)var r=c('React').Children.map(this.props.children,function(s,t){return this._onChildClick.bind(null,t);}.bind(this));return {maxScrollLeft:this._getMaxScrollLeft(),boundChildOnClicks:r||this.state.boundChildOnClicks};},_updatePosition:function p(q){var r=c('React').Children.count(this.props.children)-this.props.numChildrenVisible,s=this.state.scrollLeft,t=s,u=this.state.index;switch(q){case n:if(this.props.batchScroll){u+=this.props.numChildrenVisible;if(u>r)u=r;}else u+=1;t=Math.min(this._getNextScrollLeft(u),this.state.maxScrollLeft);break;case m:if(this.props.batchScroll){u-=this.props.numChildrenVisible;if(u<0)u=0;}else u-=1;t=Math.max(0,this._getNextScrollLeft(u));break;}this.setState({scrollLeft:t,index:u});},_onChildClick:function p(q){if(this._isVisibleChild(q))return;var r=q<this.state.index?m:n;this._updatePosition(r);},_getNextScrollLeft:function p(q){if(q===0)return 0;var r=this.props,s=r.width,t=r.childWidth,u=r.childPadding,v=r.leftOffset,w=r.numChildrenVisible,x=t*w,y=u*(w-1),z=(s-(x+y))/2,aa=q*(u+t)-z;return aa+v;},_calculateVisibleWidth:function p(){var q=this.props,r=c('React').Children.count(q.children);return (q.childWidth*r+q.childPadding*(r-1)+q.leftOffset);},_getMaxScrollLeft:function p(){var q=this._calculateVisibleWidth();return q-this.props.width;},_renderChildren:function p(){var q=this.props,r=c('React').Children.count(q.children);return c('React').Children.map(q.children,function(s,t){var u={};u.width=q.childWidth;if(t<r-1)u.paddingRight=q.childPadding;if(t===0&&q.leftOffset)u.paddingLeft=q.leftOffset;var v=this._isVisibleChild(t),w=q.freeScroll?null:this.state.boundChildOnClicks[t];return (c('React').createElement('div',{className:"_5agl"+(v||q.freeScroll?' '+"_5agm":''),key:t,onClick:w,style:u},s));}.bind(this));},_isVisibleChild:function p(q){var r=this.props,s=r.children,t=r.numChildrenVisible,u=c('React').Children.count(s),v=this.state.index,w=v===u-1,x=w?v:v+t-1,y=w?v-(t-1):v;return q<=x&&q>=y;}});f.exports=o;}),null);
__d('MessengerGameAdminMessage.react',['fbt','ImmutableObject','Link.react','MercuryIDs','MessengerGamesExpandedAdminContainer.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state=this.$MessengerGameAdminMessage1(),this.$MessengerGameAdminMessage3=function(){this.setState({isExpanded:true});}.bind(this),this.$MessengerGameAdminMessage2=function(){this.setState({isExpanded:false});}.bind(this),n;}l.prototype.$MessengerGameAdminMessage1=function(){return {isExpanded:this.props.isLastOfType};};l.prototype.componentWillReceiveProps=function(m){if(this.props.isLastOfType!==m.isLastOfType)this.setState({isExpanded:m.isLastOfType});};l.prototype.getXMATData=function(){return this.props.message.log_message_data&&this.props.message.log_message_data.untypedData?new (c('ImmutableObject'))(this.props.message.log_message_data.untypedData):new (c('ImmutableObject'))();};l.prototype.render=function(){var m=this.getXMATData();switch(m.update_type){case 'game_score':return this.state.isExpanded?c('React').createElement(c('MessengerGamesExpandedAdminContainer.react'),{gameID:m.game_id,hideAdmin:this.$MessengerGameAdminMessage2,threadFBID:c('MercuryIDs').getThreadFBIDFromThreadID(this.props.message.thread_id),messageID:this.props.message.message_id}):c('React').createElement('span',null,c('React').createElement('span',null,this.props.text,' '),c('React').createElement(c('Link.react'),{onClick:this.state.isExpanded?this.$MessengerGameAdminMessage2:this.$MessengerGameAdminMessage3},h._("Vern")));default:return c('React').createElement('span',null,this.props.text);}};l.propTypes={message:k.instanceOf(c('ImmutableObject')).isRequired,text:k.string.isRequired,isLastOfType:k.bool.isRequired};f.exports=l;}),null);
__d('MercuryXMATRenderer',['fbt','invariant','MercuryConfig','MercuryIDs','MercuryParticipants','MessagingGenericAdminTextType','MessengerGameAdminMessage.react','MessengerGroupPollingAdminMessage.react','MessengerTextWithEntities.react','MNAdsMessageUtils','React','TextWithEntities.react','FacepileRounded.react'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={renderText:function k(l,m){var n=null;if(c('MercuryConfig').MessengerNewEmojiGK){n=c('React').createElement(c('MessengerTextWithEntities.react'),{renderEmoji:true,renderEmoticons:true,text:l.log_message_body});}else n=c('React').createElement(c('TextWithEntities.react'),{renderEmoji:true,renderEmoticons:true,text:l.log_message_body});switch(l.log_message_data.message_type){case c('MessagingGenericAdminTextType').TURN_ON_PUSH:var o=l.log_message_data.untypedData&&l.log_message_data.untypedData.recipient_id,p=o&&c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(o)),q=c('MercuryIDs').getUserIDFromParticipantID(l.author);!!!q?i(0):void 0;var r=c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(q));if(q!==l.other_user_fbid){if(p){n=h._("Pediste a {admin-text-message} que active las notificaciones para Messenger en el celular.",[h.param('admin-text-message',p.name)]);}else n=h._("Le solicitaste a un contacto que active las notificaciones para Messenger en el celular.");}else if(r){n=h._("{admin-text-message} te pidi\u00f3 que actives las notificaciones para Messenger en el celular.",[h.param('admin-text-message',r.name)]);}else n=h._("Un contacto te solicit\u00f3 que actives las notificaciones para Messenger en el celular.");break;case c('MessagingGenericAdminTextType').JOURNEY_PROMPT_COLOR:n=h._("Debes tener la \u00faltima versi\u00f3n de Messenger en el dispositivo m\u00f3vil para seleccionar un color para esta conversaci\u00f3n.");break;case c('MessagingGenericAdminTextType').JOURNEY_PROMPT_NICKNAME:var s=null,t=c('MercuryIDs').getUserIDFromParticipantID(l.author);if(l.other_user_fbid&&t!==l.other_user_fbid){var u=c('MercuryIDs').getParticipantIDFromUserID(l.other_user_fbid);s=c('MercuryParticipants').getOrFetch(u);}if(s&&s.short_name){n=h._("Debes tener la \u00faltima versi\u00f3n de Messenger en el dispositivo m\u00f3vil para elegir un apodo para {admin-text-message}.",[h.param('admin-text-message',s.short_name)]);}else n=h._("Debes tener la \u00faltima versi\u00f3n de Messenger en el dispositivo m\u00f3vil para elegir un apodo para ti.");break;case c('MessagingGenericAdminTextType').JOURNEY_PROMPT_LIKE:n=h._("Debes tener la \u00faltima versi\u00f3n de Messenger en el dispositivo m\u00f3vil para seleccionar un emoji para esta conversaci\u00f3n.");break;case c('MessagingGenericAdminTextType').JOURNEY_PROMPT_BOT:n=h._("Debes tener la \u00faltima versi\u00f3n de Messenger en el dispositivo m\u00f3vil para agregar una suscripci\u00f3n a esta conversaci\u00f3n.");break;case c('MessagingGenericAdminTextType').INSTANT_GAME_UPDATE:if(c('MercuryConfig').MessengerGamesGK)n=c('React').createElement(c('MessengerGameAdminMessage.react'),{message:l,text:l.log_message_body,isLastOfType:m});break;case c('MessagingGenericAdminTextType').ADS_WELCOME_MSG:break;case c('MessagingGenericAdminTextType').AD_MANAGE_MESSAGE:if(c('MNAdsMessageUtils').isAdsAdminMessage(l))n=c('MNAdsMessageUtils').getAdsPageManage(l,false);break;case c('MessagingGenericAdminTextType').CONFIRM_FRIEND_REQUEST:var v=l.log_message_data.untypedData.friend_request_recipient,w=l.log_message_data.untypedData.friend_request_sender,x=c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(v)),y=c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(w));if(y!=null&&x!=null)n=c('React').createElement(c('FacepileRounded.react'),{profiles:[x,y],message:l.log_message_body});break;case c('MessagingGenericAdminTextType').THREAD_JOINABLE_PROMOTION_TEXT:n=h._("Want more people to join? Share your room.");break;case c('MessagingGenericAdminTextType').GROUP_POLL:n=c('React').createElement(c('MessengerGroupPollingAdminMessage.react'),{message:l,isLastOfType:m});break;default:break;}return c('React').createElement('span',null,n);}};f.exports=j;}),null);
__d('P2PMercuryLogMessage.react',['cx','fbt','CurrentEnvironment','CurrentUser','Link.react','MercuryIDs','P2PGroupPaymentRequestReceiptDialog.react','P2PGroupSendReceiptDialog.react','P2PPaymentLogMessageSubtype','React','ReactLayeredComponentMixin_DEPRECATED','XP2PPaymentRequestReceiptController','XP2PTransactionDetailController'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'P2PMercuryLogMessage',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{amount:j.string,receiver:j.object.isRequired,sender:j.object.isRequired,subtype:j.oneOf(Object.keys(c('P2PPaymentLogMessageSubtype')).map(function(l){return c('P2PPaymentLogMessageSubtype')[l];})),transferID:j.string.isRequired,threadFBID:j.string,threadID:j.string},getDefaultProps:function l(){return {amount:'',sender:null,receiver:null,subtype:null};},getInitialState:function l(){return {groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false};},handleGroupDetailsLinkClicked:function l(){this.setState({groupSendReceiptDetailsShown:true});},handleGroupPaymentRequestDetailsLinkClicked:function l(){this.setState({groupPaymentRequestReceiptDetailsShown:true});},handleThirdPartyReceiptDialogClosed:function l(){this.setState({groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false});},isViewerSender:function l(){return (c('MercuryIDs').getUserIDFromParticipantID(this.props.sender.id)===c('CurrentUser').getID());},isViewerReceiver:function l(){return (c('MercuryIDs').getUserIDFromParticipantID(this.props.receiver.id)===c('CurrentUser').getID());},renderPaymentRequestDetailsLink:function l(){var m=c('XP2PPaymentRequestReceiptController').getURIBuilder().setString('id',this.props.transferID).getURI();return (c('React').createElement(c('Link.react'),{className:"_kiq",href:m,target:'_blank'},i._("Ver detalles")));},renderTransferDetailsLink:function l(){var m=c('XP2PTransactionDetailController').getURIBuilder().setString('id',this.props.transferID).getURI();return (c('React').createElement(c('Link.react'),{className:"_kiq",href:m,target:'_blank'},i._("Ver detalles")));},renderGroupDetailsLink:function l(){return (c('React').createElement(c('Link.react'),{className:"_kiq",href:'#',onClick:this.handleGroupDetailsLinkClicked},i._("Ver detalles")));},renderGroupPaymentRequestDetailsLink:function l(){return (c('React').createElement(c('Link.react'),{className:"_kiq",href:'#',onClick:this.handleGroupPaymentRequestDetailsLinkClicked},i._("Ver detalles")));},renderLayers:function l(){var m={},n={full_name:this.props.receiver.name,id:this.props.receiver.id,picture:this.props.receiver.image_src,profile_uri:this.props.receiver.href},o={full_name:this.props.sender.name,id:this.props.sender.id,picture:this.props.sender.image_src,profile_uri:this.props.sender.href};if(this.state.groupSendReceiptDetailsShown){m.groupSendReceiptDetailsDialog=c('React').createElement(c('P2PGroupSendReceiptDialog.react'),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,receiver:n,sender:o});}else if(this.state.groupPaymentRequestReceiptDetailsShown)m.groupPaymentRequestReceiptDetailsDialog=c('React').createElement(c('P2PGroupPaymentRequestReceiptDialog.react'),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,requestee:n,requester:o});return m;},render:function l(){var m=null,n=this.props.amount,o=this.props.subtype,p=this.isViewerSender(),q=this.isViewerReceiver(),r=void 0;if(!p&&!q){r=this.renderGroupDetailsLink();}else r=this.renderTransferDetailsLink();switch(o){case c('P2PPaymentLogMessageSubtype').SENT_IN_GROUP:m=i._("{sendername} envi\u00f3 {amount} a {receivername}. {details}",[i.param('sendername',this.props.sender.name),i.param('amount',n),i.param('receivername',this.props.receiver.name),i.param('details',r)]);break;case c('P2PPaymentLogMessageSubtype').CANCELED_EXPIRED:case c('P2PPaymentLogMessageSubtype').CANCELED_SAME_CARD:case c('P2PPaymentLogMessageSubtype').CANCELED_SENDER_RISK:case c('P2PPaymentLogMessageSubtype').CANCELED_RECIPIENT_RISK:case c('P2PPaymentLogMessageSubtype').CANCELED_CUSTOMER_SERVICE:if(p){m=i._("Se cancel\u00f3 tu pago de {amount}. {details}",[i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else if(q){m=i._("Se cancel\u00f3 el pago de {amount} de {name}. {details}",[i.param('name',this.props.sender.name),i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else m=i._("Se cancel\u00f3 el pago de {amount} de {sender_name} a {receiver_name}. {details}",[i.param('sender_name',this.props.sender.name),i.param('amount',n),i.param('receiver_name',this.props.receiver.name),i.param('details',r)]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').CANCELED_DECLINED:if(p){m=i._("{name} no acept\u00f3 tu pago de {amount}. {details}",[i.param('name',this.props.receiver.name),i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else if(q){m=i._("No aceptaste el pago de {amount} de {name}. {details}",[i.param('name',this.props.sender.name),i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else m=i._("{receiver_name} no acept\u00f3 el pago de {amount} de {sender_name}. {details}",[i.param('receiver_name',this.props.receiver.name),i.param('sender_name',this.props.sender.name),i.param('amount',n),i.param('details',r)]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').REQUEST_CANCELED_BY_REQUESTER:if(p){m=i._("Cancelaste tu solicitud de {payment request amount}. {details}",[i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(q){m=i._("{sender's name} cancel\u00f3 su solicitud de {payment request amount}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else m=i._("{sender's name} cancel\u00f3 su solicitud de {payment request amount} de {receiver's name}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('receiver\'s name',this.props.receiver.name),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').REQUEST_DECLINED_BY_REQUESTEE:if(p){m=i._("{receiver's name} rechaz\u00f3 tu solicitud de {payment request amount}. {details}",[i.param('receiver\'s name',this.props.receiver.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(q){m=i._("Rechazaste la solicitud de {sender's name} de {payment request amount}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else m=i._("{receiver's name} rechaz\u00f3 la solicitud de {sender's name} de {payment request amount}. {details}",[i.param('receiver\'s name',this.props.receiver.name),i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').REQUEST_EXPIRED:if(p){m=i._("Tu solicitud de {payment request amount} caduc\u00f3, por lo que se cancel\u00f3. {details}",[i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(q){m=i._("La solicitud de {sender's name} de {payment request amount} caduc\u00f3, por lo que se cancel\u00f3. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else m=i._("La solicitud de {sender's name} a {receiver's name} de {payment request amount} caduc\u00f3, por lo que se cancel\u00f3. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('receiver\'s name',this.props.receiver.name),i.param('payment request amount',n),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);m=c('React').createElement('span',{className:"_5rdx"},m);break;}return (c('React').createElement('div',{className:c('CurrentEnvironment').messengerdotcom?"_5rdy":''},m));}});f.exports=k;}),null);
__d('MessengerLogMessageBody.react',['fbt','immutable','ImmutableObject','MercuryIDs','MercuryParticipants','MercuryLogMessageType','MessengerAdminGroupUtils','P2PMercuryLogMessage.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerLogMessageBody',_viewer:'',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{thread:i.instanceOf(c('ImmutableObject')),message:i.instanceOf(c('ImmutableObject')).isRequired,viewer:i.string.isRequired},statics:{calculateState:function k(l){var m=[],n=l.message,o=n.log_message_data,p=n.log_message_type;switch(p){case c('MercuryLogMessageType').SUBSCRIBE:m=o.added_participants;break;case c('MercuryLogMessageType').UNSUBSCRIBE:m=o.removed_participants;break;case c('MercuryLogMessageType').ORION:m.push(o.senderId,o.receiverId);break;}if(!m||!m.length)return {};var q=c('immutable').Map().withMutations(function(r){m.forEach(function(s){r.set(s,c('MercuryParticipants').getOrFetch(s)||{});});});return {extraParticipants:q};}},render:function k(){var l=this.props.message.log_message_type;this._viewer=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer);if(this._viewer!==this.props.message.author&&l!==c('MercuryLogMessageType').ORION)return null;var m=c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread);switch(l){case c('MercuryLogMessageType').SUBSCRIBE:return (c('React').createElement('span',null,this._renderSubscribeMessage(this.props.message)));case c('MercuryLogMessageType').UNSUBSCRIBE:if(m)return (c('React').createElement('span',null,this._renderUnsubscribeMessageForRoom(this.props.message)));return (c('React').createElement('span',null,this._renderUnsubscribeMessage(this.props.message)));case c('MercuryLogMessageType').THREAD_NAME:var n=this.props.message.log_message_data;if(m){if(!n.name)return (c('React').createElement('span',null,h._("Eliminaste el nombre de la sala.")));return (c('React').createElement('span',null,h._("Asignaste a la sala el nombre {the new name of the group}.",[h.param('the new name of the group',n.name)])));}if(!n.name)return (c('React').createElement('span',null,h._("Eliminaste el nombre del grupo.")));return (c('React').createElement('span',null,h._("Asignaste al grupo el nombre {the new name of the group}.",[h.param('the new name of the group',n.name)])));case c('MercuryLogMessageType').THREAD_IMAGE:if(m)return (c('React').createElement('span',null,h._("Cambiaste la foto de la sala.")));return (c('React').createElement('span',null,h._("Cambiaste la foto del grupo.")));case c('MercuryLogMessageType').ORION:return this._renderP2PLogMessage(this.props.message);default:return null;}},_renderP2PLogMessage:function k(l){var m=l.log_message_data,n=m.senderId,o=m.receiverId,p=this.state.extraParticipants,q=p.get(n),r=p.get(o);return (c('React').createElement(c('P2PMercuryLogMessage.react'),{amount:m.formattedAmount,receiver:r,sender:q,subtype:m.subtype,threadFBID:l.thread_fbid,threadID:l.thread_id,transferID:m.transfer_id}));},_renderSubscribeMessage:function k(l){var m=this._moveCurrentUserToFront(l.log_message_data.added_participants),n=this.state.extraParticipants;switch(m.length){case 1:return h._("Agregaste a {subscriber1}.",[h.param('subscriber1',n.get(m[0]).name)]);case 2:return h._("Agregaste a {subscriber1} y {subscriber2}.",[h.param('subscriber1',n.get(m[0]).name),h.param('subscriber2',n.get(m[1]).name)]);case 3:return h._("Agregaste a {subscriber1}, {subscriber2} y {subscriber3}.",[h.param('subscriber1',n.get(m[0]).name),h.param('subscriber2',n.get(m[1]).name),h.param('subscriber3',n.get(m[2]).name)]);default:var o=m.map(function(p){return n.get(p);});return h._("Agregaste a {subscriber1}, {subscriber2} y {num} personas m\u00e1s.",[h.param('subscriber1',o[0].name),h.param('subscriber2',o[1].name),h.param('num',o.slice(2).length)]);}},_renderUnsubscribeMessage:function k(l){var m=this.state.extraParticipants,n=l.log_message_data.removed_participants[0],o=m.get(n);if(!n||n===l.author){return h._("Abandonaste la conversaci\u00f3n.");}else return h._("Eliminaste a {name} de la conversaci\u00f3n.",[h.param('name',o.name)]);},_renderUnsubscribeMessageForRoom:function k(l){var m=this.state.extraParticipants,n=l.log_message_data.removed_participants[0],o=m.get(n);if(!n||n===l.author){return h._("Abandonaste la sala.");}else return h._("Eliminaste a {name} de la sala.",[h.param('name',o.name)]);},_moveCurrentUserToFront:function k(l){var m=this._viewer,n=l.indexOf(m);if(n>0){var o=l.filter(function(p){return p!==m;});return [m].concat(o);}return l;}});f.exports=j;}),null);
__d('MessengerLogMessage.react',['cx','ix','Image.react','ImmutableObject','MercuryLogMessageType','MercuryMessageInfo','MercuryXMATRenderer','MessengerLogMessageBody.react','MNCommerceLogMessageUtils','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=i('/images/mercury/clients/messenger/message/messageStateFailed.png');j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessengerLogMessage4=function(){var t=this.props.message;if(c('MNCommerceLogMessageUtils').isCommercePageAdminMessage(t))return c('MNCommerceLogMessageUtils').getCommercePageManage(t,true);return null;}.bind(this),this.$MessengerLogMessage2=function(){if(!c('MercuryMessageInfo').hasError(this.props.message))return null;return (c('React').createElement(c('Image.react'),{className:"_41-9",src:m}));}.bind(this),this.$MessengerLogMessage1=function(){var t=void 0,u=this.props.message,v=u.log_message_type===c('MercuryLogMessageType').UNSUBSCRIBE&&u.log_message_data.removed_participants.indexOf(u.author)!==-1,w=this.props.viewer;switch(u.log_message_type){case c('MercuryLogMessageType').SUBSCRIBE:t="_uwb";break;case c('MercuryLogMessageType').UNSUBSCRIBE:t=v?"_uwc":"_uwe";break;case c('MercuryLogMessageType').PHONE_CALL:t=u.log_message_data.caller.indexOf(w)!==-1?"_uwf":"_uwg";break;case c('MercuryLogMessageType').VIDEO_CALL:t=u.log_message_data.caller.indexOf(w)!==-1?"_uwh":"_uwi";break;case c('MercuryLogMessageType').THREAD_NAME:t="_uwj";break;case c('MercuryLogMessageType').THREAD_IMAGE:t="_uwk";break;case c('MercuryLogMessageType').SERVER_ERROR:t="_uwl";break;case c('MercuryLogMessageType').LIVE_LISTEN:t="_uwm";break;case c('MercuryLogMessageType').WALLPAPER:t="_uwn";break;case c('MercuryLogMessageType').ORION:t="_uwo";break;case c('MercuryLogMessageType').SWITCH_TO_WORK:t="_uwp";break;case c('MercuryLogMessageType').PAGE_REPLY:t="_uwq";break;}return c('joinClasses')("_497p"+((u.log_message_type===c('MercuryLogMessageType').PHONE_CALL||u.log_message_type===c('MercuryLogMessageType').VIDEO_CALL)&&!u.log_message_data.answered?' '+"_3no3":''),t);}.bind(this),p;}n.prototype.render=function(){return c('React').createElement('div',{className:this.$MessengerLogMessage1()},this.$MessengerLogMessage2(),c('React').createElement('i',{className:"_uwa"}),c('React').createElement('span',{className:"_3oh-"},this.$MessengerLogMessage3()));};n.prototype.$MessengerLogMessage3=function(){var o=void 0;if(this.props.message.log_message_type!==c('MercuryLogMessageType').ORION)o=c('MercuryXMATRenderer').renderText(this.props.message,this.props.isLastOfType);return this.$MessengerLogMessage4()||o||c('React').createElement(c('MessengerLogMessageBody.react'),{message:this.props.message,viewer:this.props.viewer,thread:this.props.thread});};n.propTypes={message:l.instanceOf(c('ImmutableObject')).isRequired,viewer:l.string.isRequired,isLastOfType:l.bool};f.exports=n;}),null);
__d('MercuryAttachmentAttribution.react',['cx','Image.react','ImmutableObject','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MercuryAttachmentAttribution1=function(){return this.props.attachment&&this.props.attachment.app_attribution;}.bind(this),n;}l.prototype.render=function(){var m=this.$MercuryAttachmentAttribution1();if(!m)return null;return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_29ew")},c('React').createElement(c('Image.react'),{src:m.icon_url,className:"_29ex"}),c('React').createElement('span',{className:"_29ey"},m.name));};l.propTypes={attachment:k.instanceOf(c('ImmutableObject'))};f.exports=l;}),null);
__d('MessengerAttachmentAttribution.react',['cx','ImmutableObject','MercuryAttachmentAttribution.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('MercuryAttachmentAttribution.react'),{attachment:this.props.attachment,className:"_2f5n _4br2"}));};function l(){i.apply(this,arguments);}l.propTypes={attachment:k.instanceOf(c('ImmutableObject'))};f.exports=l;}),null);
__d('MessengerBubbleBlock.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return (c('React').createElement('div',{className:"_52mr _4h13 _3058"},this.props.children));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MessengerCodeBubble.react',['Bootloader','immutable','MessengerCodePasteUtils','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.componentDidMount=function(){c('Bootloader').loadModules(["Prism.Complete"],function(l){for(var m in this.refs){var n=c('ReactDOM').findDOMNode(this.refs[m]);l.highlightElement(n);}}.bind(this),'MessengerCodeBubble.react');};k.prototype.render=function(){var l=c('MessengerCodePasteUtils').getCodeAndMessageBubbles(this.props.body,this.props.ranges,this.props.threadID,this.props.customColor);return c('React').createElement('div',{className:this.props.className},l);};function k(){h.apply(this,arguments);}k.propTypes={attachments:j.instanceOf(c('immutable').List),body:j.string.isRequired,customColor:j.string,ranges:j.array.isRequired,threadID:j.string.isRequired};f.exports=k;}),null);
__d('MessengerContextualActions.react',['cx','ContextualLayerUpdateOnScroll','LayerHideOnBlur','Link.react','React','ReactAbstractContextualDialog','ReactLayer'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes,n=c('ReactLayer').createClass(c('ReactAbstractContextualDialog').createSpec({displayName:'MessengerContextualActionsDialog',theme:{wrapperClassName:"_hw2",arrowDimensions:{offset:12,length:12}}}));i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;o.prototype.render=function(){var q=this.props,r=q.children,s=babelHelpers.objectWithoutProperties(q,['children']);return (c('React').createElement(n,babelHelpers['extends']({alignment:'center',behaviors:{ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll'),LayerHideOnBlur:c('LayerHideOnBlur')}},s,{onToggle:this.props.onToggle}),c('React').createElement('ul',{className:"_hw3"},r)));};function o(){i.apply(this,arguments);}o.propTypes={onToggle:m.func};o.Item=p;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;p.prototype.render=function(){return (c('React').createElement('li',{className:"_hw4"},c('React').createElement(c('Link.react'),{className:"_hw5",onClick:this.props.onClick},this.props.children)));};function p(){k.apply(this,arguments);}p.propTypes={onClick:m.func};f.exports=o;}),null);
__d('MessengerDeleteMessageDialog.react',['fbt','MercuryConfig','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerDeleteMessageDialog1=function(){if(c('MercuryConfig').MessengerGlobalDeleteGK)if(this.props.isFromViewer){return h._("\u00bfEliminar mensaje?");}else return h._("\u00bfOcultar mensaje?");return h._("Eliminar mensaje");}.bind(this),this.$MessengerDeleteMessageDialog2=function(){if(c('MercuryConfig').MessengerGlobalDeleteGK)if(this.props.isFromViewer){return h._("Si eliminas este mensaje, ya no podr\u00e1 verlo ning\u00fan participante de la conversaci\u00f3n. Esta acci\u00f3n no se puede deshacer.");}else return h._("Si ocultas tu copia de este mensaje, no podr\u00e1s recuperarla. El otro participante de la conversaci\u00f3n podr\u00e1 seguir vi\u00e9ndolo.");return h._("\u00bfSeguro que quieres eliminar este mensaje?");}.bind(this),this.$MessengerDeleteMessageDialog4=function(){if(!this.props.isFromViewer&&c('MercuryConfig').MessengerGlobalDeleteGK)return h._("Ocultar");return h._("Eliminar");}.bind(this),this.$MessengerDeleteMessageDialog5=function(){this.props.onToggle&&this.props.onToggle(false);this.props.onDelete&&this.props.onDelete();}.bind(this),this.$MessengerDeleteMessageDialog3=function(){this.props.onCancel&&this.props.onCancel();}.bind(this),n;}l.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,this.$MessengerDeleteMessageDialog1()),c('React').createElement(c('MessengerDialogBody.react'),null,this.$MessengerDeleteMessageDialog2()),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),{onClick:this.$MessengerDeleteMessageDialog3}),c('React').createElement(c('MessengerDialogButton.react'),{label:this.$MessengerDeleteMessageDialog4(),onClick:this.$MessengerDeleteMessageDialog5,type:'primary',use:'danger'})));};l.propTypes={isFromViewer:k.bool,onDelete:k.func,onToggle:k.func};f.exports=l;}),null);
__d('MessengerSaveMessageDialog.react',['fbt','CollectionCurationReferrerTags','CollectionCurationReferrerParamNames','Link.react','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogHeader.react','React','URI','setTimeout','clearTimeout'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={closeTimeout:null},n;}l.prototype.render=function(){var m={};m[c('CollectionCurationReferrerParamNames').CLICK_REF]=c('CollectionCurationReferrerTags').MESSENGER_DOT_COM_SAVE_CONFIRMATION;var n=new (c('URI'))('https://www.facebook.com/saved/').setQueryData(m);return (c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Guardando en Facebook")),c('React').createElement(c('MessengerDialogBody.react'),null,c('React').createElement(c('Link.react'),{href:n,target:'_blank'},h._("Ver tus elementos guardados")))));};l.prototype.componentDidMount=function(){var m=c('setTimeout')(function(){this.props.onToggle(false);}.bind(this),2000);this.setState({closeTimeout:m});};l.prototype.componentWillUnmount=function(){c('clearTimeout')(this.state.closeTimeout);};l.propTypes={onToggle:k.func.isRequired};f.exports=l;}),null);
__d("XMessengerDotComSaveController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/save\/message\/",{});}),null);
__d('MessengerMessageActionsWrapper.react',['csx','cx','fbt','invariant','DOMQuery','FBClipboardLink.react','ImmutableObject','ReactLayeredComponentMixin_DEPRECATED','MercuryAttachmentType','MercuryConfig','MercuryMessageActions','MercuryMessageInfo','MessengerActions','MessengerContextualActions.react','MessengerDeleteMessageDialog.react','Parent','React','ReactDOM','AsyncRequest','CollectionsDisplaySurface','CollectionCurationMechanisms','List.react','MessengerConfig','MessengerDotComSaveModule','MessengerSaveMessageDialog.react','messengerURIUtilsRe','SaveMessageUtils','SavedStateActions','URLMatcher','XMessengerDotComSaveController','setImmediate'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=c('MessengerContextualActions.react').Item,m=c('React').PropTypes,n="_ui9",o="._ui9",p=c('React').createClass({displayName:'MessengerMessageActionsWrapper',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{isActive:m.bool,isDeletable:m.bool,isFromViewer:m.bool,message:m.instanceOf(c('ImmutableObject')).isRequired,onDeselect:m.func.isRequired,onSelect:m.func.isRequired},getDefaultProps:function q(){return {isDeletable:true};},render:function q(){return (c('React').createElement('div',babelHelpers['extends']({onContextMenu:this._handleContextMenu},this.props),this.props.children));},renderLayers:function q(){if(!this.props.isDeletable||!this.props.isActive)return {};var r=c('ReactDOM').findDOMNode(this),s=r&&c('DOMQuery').scry(r,o)[0];if(!s)return {};var t=[];t.push(c('React').createElement(l,{key:'delete',onClick:this._handleDelete},this._renderActionItemMsg()));if(this._canSaveMessage())t.push(c('React').createElement(l,{key:'save',onClick:this._handleSave},this._renderSaveItemMsg()));if(c('MessengerConfig').ShowMessageLinks)t.push(c('React').createElement(l,{key:'perma-link',onClick:this._handleLink},this._renderLinkItemMsg()));return {contextualDialog:c('React').createElement(c('MessengerContextualActions.react'),{context:s,onToggle:this._handleActionsToggle,shown:this.props.isActive},this._renderRetry(),t)};},_renderActionItemMsg:function q(){if(!this.props.isFromViewer&&c('MercuryConfig').MessengerGlobalDeleteGK)return j._("Ocultar");return j._("Eliminar");},_renderSaveItemMsg:function q(){return j._("Guardar en Facebook");},_renderLinkItemMsg:function q(){var r=c('messengerURIUtilsRe').getURIForMessageID(this.props.message.message_id).getQualifiedURIBase().toString(),s=j._("Copiar enlace");return (c('React').createElement(c('FBClipboardLink.react'),{suppress:true,tooltip:'',value:r},s));},_renderRetry:function q(){if(!c('MercuryMessageInfo').hasError(this.props.message))return null;return (c('React').createElement(l,{onClick:this._handleRetry},j._("Intentar de nuevo")));},_handleActionsToggle:function q(r){!r&&this._handleDeselect();},_handleDeselect:function q(){this.props.onDeselect(this.props.message.message_id);},_handleDelete:function q(){var r=this.props.message;c('MessengerActions').showDialog(c('MessengerDeleteMessageDialog.react'),{onDelete:function s(){c('MercuryMessageActions').get()['delete'](r.thread_id,[r.message_id]);},onToggle:this._handleDialogToggle,onCancel:this._handleDeselect,isFromViewer:this.props.isFromViewer});},_canSaveMessage:function q(){var r=this.props.message;if(c('MessengerDotComSaveModule').enabled_attachment_save&&this._isSavableMessageAttachment())return true;if(c('MessengerDotComSaveModule').enabled_video_save&&r.attachments&&r.attachments.length>0&&r.attachments[0].share&&r.attachments[0].share.media.playable)return true;if(c('MessengerDotComSaveModule').enabled_inline_save){var s=c('URLMatcher').match(r.body);if(s!=null&&s.length>0)return true;}return false;},_handleLink:function q(){this._handleActionsToggle(false);},_isSavableMessageAttachment:function q(){var r=this.props.message.attachments;if(!r||r.length===0)return false;for(var s=0;s<r.length;s++){var t=r[s],u=false;if(t.share&&t.share.style_list){var v=t.share.style_list;u=c('SaveMessageUtils').isSavableMessageAttachment(v);}else u=t.attach_type===c('MercuryAttachmentType').VIDEO;if(!u)return false;}return true;},_handleSave:function q(){var r=this.props.message,s=c('CollectionsDisplaySurface').MESSENGER_DOT_COM_MESSAGE,t=c('CollectionCurationMechanisms').RIGHT_CLICK;new (c('AsyncRequest'))().setURI(c('XMessengerDotComSaveController').getURIBuilder().getURI()).setData({action:c('SavedStateActions').SAVE,surface:s,mechanism:t,message_id:r.message_id}).send();c('MessengerActions').showDialog(c('MessengerSaveMessageDialog.react'),{onToggle:this._handleDialogToggle});this._handleActionsToggle(false);},_handleDialogToggle:function q(r){if(!r)c('MessengerActions').hideDialog();},_handleRetry:function q(){this._handleDeselect();c('MercuryMessageActions').get().resend(this.props.message);},_handleContextMenu:function q(r){if(!this._shouldAllowNativeContextMenu(r))r.preventDefault();c('setImmediate')(function(){this.props.onSelect(this.props.message.message_id);}.bind(this));},_shouldAllowNativeContextMenu:function q(r){!(r.target instanceof HTMLElement)?k(0):void 0;return (r.target.nodeName.toLowerCase()==='a'||window.getSelection().toString()!==''||!c('Parent').byClass(r.target,n));}});f.exports=p;}),null);
__d('MessengerMessageSeenHeads.react',['cssVar','cx','fbt','Image.react','immutable','ImmutableObject','MercuryMessageInfo','MercuryTimestamp','MessengerConfig','React','getViewportDimensions','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes,n=c('MessengerConfig').MaxSeenHeadCount||8;k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;o.prototype.render=function(){var q=this.props,r=q.message,s=q.nextTimestamp,t=q.participants,u=q.readReceipts;if(c('MercuryMessageInfo').isSending(r)||u.isEmpty()||c('MercuryMessageInfo').hasError(r))return null;var v=c('immutable').Seq(u).filter(function(da,ea){return (da.watermark>=r.timestamp&&da.watermark<s);}).sort(function(da,ea){return da.action-ea.action;});if(v.isEmpty())return null;var w=this.props.isFromViewer?n:p(),x=v.count()>w+1,y=x?v.slice(0,w):v,z=y.map(function(da,ea){var fa=t.get(ea);if(!fa)return null;var ga=da?j._("Seen by {full name} at {seen time}",[j.param('full name',fa.name),j.param('seen time',c('MercuryTimestamp').getPreciseTimestamp(da.action))]):j._("Visto por {full name}",[j.param('full name',fa.name)]);return (c('React').createElement(c('Image.react'),{alt:ga,className:"_jf2",key:ea,src:fa.image_src,title:ga}));}).toArray(),aa=z.length;if(!aa)return null;var ba=x?v.slice(w).count():0;if(ba>0){var ca=v.slice(w).map(function(da,ea){var fa=t.get(ea);return fa?fa.name:null;}).filter(function(da){return !!da;}).join('\n')+' ';z.unshift(c('React').createElement('span',{className:"_jf3",key:'overflow',title:ca},'+'+ba));}return (c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_jf4"+(aa+ba===1?' '+"_jf5":''))},z));};function o(){k.apply(this,arguments);}o.propTypes={isFromViewer:m.bool,message:m.instanceOf(c('ImmutableObject')).isRequired,nextTimestamp:m.number.isRequired,participants:m.instanceOf(c('immutable').Map).isRequired,readReceipts:m.instanceOf(c('immutable').OrderedMap).isRequired};function p(){var q=c('getViewportDimensions')().width;if(q<parseInt("920px".replace('px',''),10))return Math.min(n,8);if(q<parseInt("1211px".replace('px',''),10))return Math.min(n,3);return n;}f.exports=o;}),null);
__d('messengerRTLClasses',['cx','isRTL'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=c('isRTL')(j||'');return k?l?"_4pv0":'':(!l?"direction_ltr":'')+(l?' '+"direction_rtl":'')+(!l?' '+"text_align_ltr":'')+(l?' '+"text_align_rtl":'')+(l?' '+"_4pv0":'');}f.exports=i;}),null);
__d('MessengerMessage.react',['cssVar','cx','fbt','EmojiLikeUtils','MercuryDisplayTimeFilterMessageRenderer','FluxContainer','immutable','ImmutableObject','MercuryAttachment','MercuryConfig','MercuryMessageDeliveryState','MercuryMessageError.react','MercuryMessageInfo','MercuryTimestamp','MessengerAttachmentAttribution.react','MessengerAttachmentRenderer','MessengerBubble.react','MessengerBubbleBlock.react','MessengerCodeBubble.react','MessengerCodePasteUtils','MessengerConfig','MessengerDecorator','MessengerMessageActionsWrapper.react','MessengerMessageSeenHeads.react','messengerURIUtilsRe','MessengerVideoAutoplayStore','MNCommerceMessageType','React','TooltipData','emptyFunction','getViewportDimensions','joinClasses','messengerRTLClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;function n(q){switch(q){case c('MercuryMessageDeliveryState').SENDING:return j._("Enviando");case c('MercuryMessageDeliveryState').SENT:return j._("Enviado");case c('MercuryMessageDeliveryState').DELIVERED:return j._("Entregado");case c('MercuryMessageDeliveryState').ERROR:return j._("Error");}return null;}k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.state={isVisible:false},this.$MessengerMessage8=function(v){v.stopPropagation();this.props.onSelect(this.props.message.message_id);}.bind(this),r;}o.getStores=function(){return [c('MessengerVideoAutoplayStore')];};o.calculateState=function(q,r){return {isVisible:c('MessengerVideoAutoplayStore').isVisible(r.message.thread_id,r.message.message_id)};};o.prototype.shouldComponentUpdate=function(q,r){return q.isActive!==this.props.isActive||q.isFromViewer!==this.props.isFromViewer||q.message!==this.props.message||q.nextTimestamp!==this.props.nextTimestamp||q.showDeliveryState!==this.props.showDeliveryState||q.deliveryTimestamp!==this.props.deliveryTimestamp||!c('immutable').is(q.readReceipts,this.props.readReceipts)||!c('immutable').is(q.participants,this.props.participants)||q.customColor!==this.props.customColor||r.isVisible!==this.state.isVisible;};o.prototype.render=function(){var q=this.props,r=q.isActive,s=q.isFromViewer,t=q.message,u=q.participants,v=j._("{time}",[j.param('time',c('MercuryTimestamp').getPreciseTimestamp(t.timestamp))]),w=c('MessengerConfig').SentTimestampEnabled&&s?Object.assign({'data-tooltip-alignh':r?'right':'center'},c('TooltipData').propsFor(v,p())):null,x=c('MercuryConfig').MessengerGroupColors,y=[],z=this.props.message,aa=s||false;if(z&&!this.props.hideBeforeDecorator)c('MessengerDecorator').getBeforeDecorators().forEach(function(ba){if(ba.check(z))y.push(ba.render(z,aa));});return c('React').createElement(c('MessengerMessageActionsWrapper.react'),{className:c('joinClasses')("clearfix"+(' '+"_o46")+(' '+"_3erg")+(r?' '+"_-5k":'')+(s?' '+"_3i_m":'')+(s?' '+"_nd_":'')+(!s?' '+"_29_7":'')+(t.isSelected?' '+"_3xsz":'')+(x&&!!this.props.customColor?' '+"_34_4":''),c('messengerRTLClasses')(t.body)),isActive:r,isDeletable:!this.$MessengerMessage1()&&!this.props.isPageMessage,isFromViewer:s,message:t,onDeselect:this.props.onDeselect,onSelect:this.props.onSelect},y,this.$MessengerMessage2(w),this.$MessengerMessage3(w),this.$MessengerMessage4(z,aa,u),this.$MessengerMessage5(),this.$MessengerMessage6(),c('React').createElement(c('MessengerMessageSeenHeads.react'),{className:"_4jzq",isFromViewer:s,message:t,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts}));};o.prototype.$MessengerMessage4=function(q,r,s){var t;if(q&&!this.props.hideAfterExternalDecorator){var t=function(){var u=[],v=[];c('MessengerDecorator').getAfterExternalDecorators().forEach(function(x){if(q&&x.check(q)){u.push(x.render(q,r,s));v.push(x.getAdditionalClassNames());}});var w=v.join(' ');return {v:c('React').createElement('span',{className:c('joinClasses')(w,"_31gm"+(!r?' '+"isFromOther":''))},u)};}();if(typeof t==="object")return t.v;}return null;};o.prototype.$MessengerMessage7=function(q){return q.every(function(r){return !r||!c('MessengerAttachmentRenderer').isRenderedShareAttachment(r);});};o.prototype.$MessengerMessage3=function(q){var r,s=this;if(this.props.message.is_filtered_content)return null;if(this.props.message.commerce_message_type===c('MNCommerceMessageType').RIDE_INTENT)return null;var t=c('MessengerAttachmentRenderer').getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,this.props.customColor,null,this.state.isVisible);if(!t||!t.length)return null;if(q){var u=t.some(function(x){return !!x&&c('MessengerAttachmentRenderer').isPhotosGroupAttachment(x);});t=this.$MessengerMessage7(t)?c('React').createElement('div',babelHelpers['extends']({},q,{className:"_3zvs"+(u?' '+"_2-x3":'')}),t):t.map(function(x){return x&&c('React').cloneElement(x,q);});}var v=c('MercuryConfig').MessengerSharedVideoNewDesign&&c('MessengerAttachmentRenderer').isSharedVideoAttachmentMessage(this.props.message),w=c('React').createElement('div',{key:'renderedAttachments',className:"_3058"+(' '+"_15gf")+(v?' '+"_3duc":'')},t);if(this.props.message.attachments.length===1&&c('MercuryAttachment').hasAttribution(this.props.message.attachments[0])){var r=function(){var x=[w,c('React').createElement(c('MessengerAttachmentAttribution.react'),{attachment:new (c('ImmutableObject'))(s.props.message.attachments[0]),key:'attribution'})],y=[],z=s.props.message,aa=s.props.isFromViewer||false;if(z)c('MessengerDecorator').getAfterDecorators().forEach(function(ba){if(ba.check(z))y.push(ba.render(z,aa));});if(y.length)x.push.apply(x,y);return {v:c('React').createElement(c('MessengerBubbleBlock.react'),null,x)};}();if(typeof r==="object")return r.v;}return w;};o.prototype.$MessengerMessage1=function(){return c('MessengerAttachmentRenderer').isP2PAttachment(this.props.message);};o.prototype.$MessengerMessage2=function(q){var r=this.props.message,s=c('immutable').List(c('MessengerAttachmentRenderer').getAttachmentsInsideBubble(r,this.props.onAttachmentLoad)),t=r.ranges;if(r.profile_ranges&&r.profile_ranges.length)t=(t||[]).concat(r.profile_ranges.map(function(v){return babelHelpers['extends']({},v,{url:c('messengerURIUtilsRe').getURIForUserID(v.id)});}));if(c('MessengerCodePasteUtils').containsCodeBlock(r.body))return c('React').createElement(c('MessengerCodeBubble.react'),{attachments:s,body:r.body,customColor:this.props.isFromViewer?this.props.customColor:'',className:(this.props.isFromViewer?"_3uhm":'')+(!this.props.isFromViewer?' '+"_3uhn":''),ranges:t,threadID:r.thread_id||''});if(r.is_filtered_content)return c('React').createElement('div',{className:"_3058 _wiu _52mr uiBoxYellow clearfix"},c('MercuryDisplayTimeFilterMessageRenderer').renderFilteredContent(r));var u=r.body&&!c('EmojiLikeUtils').isEmojiLike(r);if(u||!s.isEmpty())return c('React').createElement(c('MessengerBubble.react'),babelHelpers['extends']({attachments:s,body:r.body,className:"_3058 _ui9",customColor:this.props.customColor,customLike:r.customLike,isP2PAttachment:this.$MessengerMessage1(),ranges:t,message:r,metaRanges:r.meta_ranges,threadID:r.thread_id},q||{}));return null;};o.prototype.$MessengerMessage6=function(){if(!this.props.isFromViewer||!this.props.showDeliveryState||this.props.message.is_like_preview)return null;var q=c('MercuryMessageInfo').getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(q===c('MercuryMessageDeliveryState').UNKNOWN)return null;var r={};if(this.props.customColor&&(q===c('MercuryMessageDeliveryState').SENT||q===c('MercuryMessageDeliveryState').SENDING||q===c('MercuryMessageDeliveryState').DELIVERED))r.color=this.props.customColor;return c('React').createElement('span',{className:"_2her"+(q===c('MercuryMessageDeliveryState').SENDING?' '+"_4jzp":'')+(q===c('MercuryMessageDeliveryState').SENT?' '+"_3zzf":'')+(q===c('MercuryMessageDeliveryState').DELIVERED?' '+"_9ah":'')+(q===c('MercuryMessageDeliveryState').ERROR?' '+"_5ei9":''),onClick:this.$MessengerMessage8,style:r,title:n(q)},c('React').createElement('i',{className:"_57e_"}));};o.prototype.$MessengerMessage5=function(){var q=this.props.message;if(!c('MercuryMessageInfo').hasError(q))return null;return c('React').createElement(c('MercuryMessageError.react'),{className:"_3058 _2ygi",message:q,authorFBID:this.props.authorFBID});};o.propTypes={customColor:m.string,deliveryTimestamp:m.number.isRequired,hideAfterExternalDecorator:m.bool,hideBeforeDecorator:m.bool,isActive:m.bool,isFromViewer:m.bool,isPageMessage:m.bool,message:m.instanceOf(c('ImmutableObject')).isRequired,nextTimestamp:m.number.isRequired,onAttachmentLoad:m.func.isRequired,onDeselect:m.func.isRequired,onSelect:m.func.isRequired,participants:m.instanceOf(c('immutable').Map).isRequired,readReceipts:m.instanceOf(c('immutable').OrderedMap).isRequired,showDeliveryState:m.bool,authorFBID:m.string};o.defaultProps={onAttachmentLoad:c('emptyFunction')};function p(){if(c('getViewportDimensions')().width<=parseInt("700px".replace('px',''),10))return 'above';return 'right';}f.exports=c('FluxContainer').create(o,{withProps:true});}),null);
__d('MessengerPageAdminNoteList.react',['cx','fbt','LeftRight.react','MessengerBubble.react','PagesMessengerCreatorInfo.react','ReactComponentWithPureRenderMixin','React','enumerate','classWithMixins','immutable','mixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('classWithMixins')(c('React').Component,c('mixin')(c('ReactComponentWithPureRenderMixin'))));k=j&&j.prototype;m.prototype.render=function(){var n=[],o=this.calculateGroups(this.props.notes);o.forEach(function(p,q){n.push(c('React').createElement('li',{className:"_4kd2",key:'group:'+q},this.$MessengerPageAdminNoteList1(p)));}.bind(this));return (c('React').createElement('ul',{className:"_4kd3"},n));};m.prototype.$MessengerPageAdminNoteList1=function(n){var o=[];n.forEach(function(p,q){o.push(c('React').createElement('div',{className:"_4kd4",key:'note:'+q},this.$MessengerPageAdminNoteList2(p,n)));}.bind(this));return o;};m.prototype.$MessengerPageAdminNoteList2=function(n,o){var p=c('immutable').List([c('React').createElement(c('LeftRight.react'),{className:"_561k"},c('React').createElement('div',{className:"_561l"},i._("Nota privada")),c('React').createElement(c('PagesMessengerCreatorInfo.react'),{key:'creator_info',creator_info:o[0].creator_info,isNote:true}))]);return (c('React').createElement('div',{className:"_o46 _3i_m _nd_"},c('React').createElement('div',{className:'clearfix'},c('React').createElement(c('MessengerBubble.react'),{body:n.body.text,attachments:p,className:"_3058 _4kd5"}))));};m.prototype.calculateGroups=function(n){var o=[],p=null,q=null,r=c('enumerate')(n),s=void 0;while(!(s=r.next()).done){var t=q&&q.value.creator_info.creatorID===s.value.creator_info.creatorID;if(!t){p=[];o.push(p);}if(p)p.push(s.value);q=s;}return o;};function m(){j.apply(this,arguments);}m.propTypes={notes:l.arrayOf(l.shape({id:l.string,body:l.object.isRequired,creator_info:l.shape({creatorID:l.string.isRequired,creatorName:l.string.isRequired,creatorType:l.string.isRequired,labelType:l.string.isRequired,pageID:l.string.isRequired,profileURI:l.string}),timestamp:l.number.isRequired})).isRequired};f.exports=m;}),null);
__d('MessengerMessageGroup.react',['cx','fbt','immutable','ImmutableObject','Image.react','Link.react','MercuryConfig','MercuryIDs','MercuryParticipants','MercuryParticipantSilhouettes','MercuryTimestamp','MessagingThreadCustomizationConfig','MessengerActions','MessengerConfig','MessengerDateBreak.react','MessengerMessage.react','MessengerPageAdminNoteList.react','MessengerProfileImageWrapper.react','MessengerStickerUtils','MessengerTextWithEmoticons.react','messengerURIUtilsRe','PagesMessengerCreatorInfo.react','React','ReactDOM','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('MessagingThreadCustomizationConfig').randomColor,k=c('MessagingThreadCustomizationConfig').colorChoices.filter(function(t){return t!==j;}),l=c('immutable').List,m=c('immutable').OrderedMap,n=c('React').PropTypes,o=32,p=new (c('ImmutableObject'))({image_src:c('MercuryParticipantSilhouettes').neutralSilhouette,is_messenger_user:true,name:''}),q=c('React').createClass({displayName:'MessengerMessageGroup',mixins:[c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{activeMessageID:n.string,deliveryTimestamp:n.number.isRequired,hasDateBreak:n.bool,isCanonical:n.bool,isFromViewer:n.bool,isPageMessage:n.bool,lastReadTimestamp:n.number.isRequired,messages:n.instanceOf(c('immutable').List).isRequired,nextTimestamp:n.number.isRequired,onAttachmentLoad:n.func,onMessageDeselect:n.func.isRequired,onMessageSelect:n.func.isRequired,readReceipts:n.instanceOf(m).isRequired,thread:n.object,pageCustomAction:n.func},statics:{calculateState:function t(u){return {participants:r(u)};}},shouldComponentUpdate:function t(u,v){return (this.props.activeMessageID!==u.activeMessageID||this.props.isFromViewer!==u.isFromViewer||this.props.deliveryTimestamp!==u.deliveryTimestamp||this.props.lastReadTimestamp!==u.lastReadTimestamp||!c('immutable').is(this.props.messages,u.messages)||!c('immutable').is(this.props.readReceipts,u.readReceipts)||!c('immutable').is(this.state.participants,v.participants)||!!(u.thread&&this.props.thread&&this.props.thread!==u.thread));},render:function t(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_1t_p"+(' '+"clearfix")+(c('MessengerStickerUtils').isStickerMessageGroup(this.props.messages)?' '+"_5tx1":'')+(this._hasSeenHeadsAtBottom()?' '+"_35fy":'')},this._renderProfileColumn(),c('React').createElement('div',{className:"_41ud"},this._renderName(),this._renderMessages())),this.props.isPageMessage?this._renderNotes():null));},_renderProfileColumn:function t(){if(this.props.isFromViewer)return null;var u=this.props.messages.last(),v=this.state.participants.get(u.author)||p,w=i._("{name} {time}",[i.param('name',v.name),i.param('time',c('MercuryTimestamp').getPreciseTimestamp(u.timestamp))]),x=c('React').createElement(c('MessengerProfileImageWrapper.react'),{className:"_1t_r",isMessengerUser:v.is_messenger_user,size:o,showBadge:true,tooltipContent:w},c('React').createElement(c('Image.react'),{alt:v.name,src:v.image_src,height:o,width:o}));if(!this.props.isCanonical&&v.fbid){var y=c('messengerURIUtilsRe').getURIForUserID(v.fbid);x=c('React').createElement(c('Link.react'),{className:"_5f0v",href:y.toString(),onClick:this._handleContactSelect.bind(this,v),tabIndex:-1},x);}return (c('React').createElement('div',{className:"_1t_q"},x));},_renderMessages:function t(){var u=this.props.messages.size,v=[];this.props.messages.forEach(function(w,x,y){var z=w.message_id===this.props.activeMessageID;if(z&&!(x===0&&this.props.hasDateBreak)&&!c('MessengerConfig').SentTimestampEnabled)v.push(c('React').createElement(c('MessengerDateBreak.react'),{className:"_5r8z",date:new Date(w.timestamp),key:'db:'+w.message_id}));var aa=this.props.isPageMessage&&this.props.pageCustomAction?this.props.pageCustomAction:null;if(aa)v.push(c('React').createElement('h4',{key:'page_action'+w.message_id},c('React').createElement(aa,{message:w})));var ba=c('MercuryIDs').getUserIDFromParticipantID(this.props.author),ca=function ha(ia,ja,ka){var la=Number(ia.substring(5))*17,ma=Number(ja.split(':')[1].substring(5));return (la+ma)%ka.length;},da=this.props.thread?this.props.thread.custom_color:'',ea=c('MercuryConfig').MessengerGroupColors,fa=da===j&&ea;if(this.props.thread&&ba&&fa){var ga=ca(ba,this.props.thread.thread_id,k);da=k[ga];}v.push(c('React').createElement(c('MessengerMessage.react'),{customColor:this.props.isFromViewer||fa?da:'',deliveryTimestamp:this.props.deliveryTimestamp,isActive:z,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,key:w.message_id,message:w,messageActionsWrapper:this.props.messageActionWrapper,onAttachmentLoad:this.props.onAttachmentLoad,participants:this.state.participants,nextTimestamp:this._getNextTimestamp(y,u,x),onDeselect:this.props.onMessageDeselect,onSelect:this.props.onMessageSelect,readReceipts:this.props.readReceipts,showDeliveryState:w.timestamp>this.props.lastReadTimestamp,ref:w.message_id,authorFBID:ba==null?undefined:ba}));if(s(this.props.isPageMessage,y,x,w))v.push(c('React').createElement(c('PagesMessengerCreatorInfo.react'),{key:'creator_info:'+x,creator_info:w.creator_info}));}.bind(this));return v;},_renderNotes:function t(){var u=[];this.props.messages.forEach(function(v,w,x){if(this.props.isPageMessage&&v.page_admin_notes)u.push(c('React').createElement(c('MessengerPageAdminNoteList.react'),{key:'notes:'+v.message_id,notes:v.page_admin_notes}));}.bind(this));return u;},_renderName:function t(){var u=this.state.participants.get(this.props.messages.first().author);if(!u)return null;var v=u.short_name;if(this.props.thread){var w=this.props.thread.custom_nickname?this.props.thread.custom_nickname:null,x=c('MercuryIDs').getUserIDFromParticipantID(u.id);if(w&&x&&w[x]){v=w[x];if(c('MercuryConfig').MessengerNewEmojiGK)v=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:v});}}return (c('React').createElement('h5',{className:"_ih3"+(this.props.isCanonical||this.props.isFromViewer?' '+"_-ne":'')},c('React').createElement('span',{className:"_3oh-"},v)));},getMessageElement:function t(u){return c('ReactDOM').findDOMNode(this.refs[u]);},_hasSeenHeadsAtBottom:function t(){var u=this.props,v=u.messages,w=u.nextTimestamp,x=u.readReceipts,y=v.last().timestamp,z=0;x.forEach(function(aa){if(aa>=y&&aa<w)if(++z===2)return false;});return z===2;},_getNextTimestamp:function t(u,v,w){return w<v-1?u.get(w+1).timestamp:this.props.nextTimestamp;},_handleContactSelect:function t(u,v){v&&v.preventDefault();var w=c('MercuryIDs').getThreadIDFromParticipantID(u.id);w&&c('MessengerActions').selectThread(w);}});function r(t){var u=t.messages.first().author;return c('immutable').Map().withMutations(function(v){t.readReceipts.forEach(function(w,x){v.set(x,c('MercuryParticipants').getOrFetch(x));});v.set(u,c('MercuryParticipants').getOrFetch(u));});}function s(t,u,v,w){if(!t||!w.creator_info)return false;if(v===u.size-1)return true;var x=u.get(v+1).creator_info;if(!x)return true;return w.creator_info.creatorID!==x.creatorID;}f.exports=q;}),null);
__d('MessengerNewMessagesNotice.react',['cx','fbt','ix','Image.react','Link.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes,n=j('/images/mercury/clients/messenger/threadlist/newMessageIndicator.png');k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;o.prototype.render=function(){return (c('React').createElement('div',{'aria-hidden':!this.props.isOpen,className:"_4wzq"+(this.props.isOpen?' '+"_4wzr":'')+(!this.props.isOpen?' '+"_4-je":'')},c('React').createElement(c('Link.react'),{className:"_5f0v _4wzs",onClick:this.props.onClick,tabIndex:this.props.isOpen?0:-1},c('React').createElement(c('Image.react'),{className:"_4wzt",src:n}),c('React').createElement('div',{className:"_1bqr"},this.props.label))));};function o(){k.apply(this,arguments);}o.propTypes={isOpen:m.bool.isRequired,label:m.node,onClick:m.func};o.defaultProps={label:i._("Nuevos mensajes")};f.exports=o;}),null);
__d('MessengerTypingIndicator.react',['cx','Image.react','immutable','MercuryParticipants','MercuryTypingAnimation.react','MessengerProfileImageWrapper.react','MessengerBubble.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=32,k=c('React').createClass({displayName:'MessengerTypingIndicator',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{userID:i.string,showName:i.bool},statics:{calculateState:function l(m){return {author:c('MercuryParticipants').getOrFetch(m.userID)};}},render:function l(){if(!this.state.author)return null;var m=this.state.author;return (c('React').createElement('div',{className:"_1t_p _1hbw"},c('React').createElement('div',{className:"_1t_q"},c('React').createElement(c('MessengerProfileImageWrapper.react'),{className:"_1t_r",isMessengerUser:m.is_messenger_user,size:j,showBadge:true},c('React').createElement(c('Image.react'),{alt:'',src:m.image_src,height:j,width:j}))),c('React').createElement('div',{className:"_41ud"},c('React').createElement('div',{className:"_o46 _3erg _29_7"},c('React').createElement(c('MessengerBubble.react'),{attachments:c('immutable').List([c('React').createElement(c('MercuryTypingAnimation.react'),{key:'animation'})]),body:'',className:"_3058",ref:'bubble'})))));},getBubble:function l(){return this.refs.bubble;}});f.exports=k;}),null);
__d('MessengerConversation.react',['cx','csx','fbt','BootloadOnRender.react','ChatTypingIndicators.react','CSS','DOM','DOMDimensions','Event','FluxContainer','Focus','immutable','ImmutableObject','JSResource','KeyEventController','LazyComponent.react','MercuryConfig','MercuryIDs','MercuryDeliveryReceipts','MercuryRoger','MercuryShareAttachmentRenderLocations','MessageList.react','MessengerAttachmentRenderer','MessengerButton.react','MessengerCollapsedLogMessageGroup.react','MessengerConfig','MessengerContextBannerContainer.react','MessengerDateBreak.react','MessengerFlexScrollableArea.react','MessengerLogMessage.react','MessengerMessageGroup.react','MessengerNewMessagesNotice.react','MessengerQuickCamButtonHTML5.react','MessengerQuickCamOrigins','MessengerSpinner.react','MessengerTypingIndicator.react','MessengerVideoAutoplayActions','MessengerVideoAutoplayStore','MNOmniMConstants','OmniMStore','Parent','React','ReactDOM','Set','SubscriptionsHandler','UserActivity','WebMessengerConstants','convertMIGColorToFIGColor','joinClasses','setImmediate','throttle'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('MercuryDeliveryReceipts').get(),n=c('MercuryRoger').get(),o=c('immutable').OrderedMap,p=c('React').PropTypes,q=20,r=100;function s(event,x){return !!(c('KeyEventController').filterEventTypes(event,x)&&c('KeyEventController').filterEventModifiers(event,x)&&c('Parent').bySelector(event.target,"._4_j4"));}k=babelHelpers.inherits(t,c('React').PureComponent);l=k&&k.prototype;function t(){var x,y;for(var z=arguments.length,aa=Array(z),ba=0;ba<z;ba++)aa[ba]=arguments[ba];return y=(x=l.constructor).call.apply(x,[this].concat(aa)),this.state={readReceipts:u(this.props),deliveryTimestamp:0,scrollingToUnreadMessage:false,showUnreadNotice:false,unreadCount:this.props.thread?this.props.thread.unread_count:0,width:0,suggestions:null,omniMPrefs:null},this.$MessengerConversation1=null,this.$MessengerConversation2=0,this.$MessengerConversation3=0,this.$MessengerConversation4=null,this.isScrolledToBottom=function(){return !!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottom());}.bind(this),this.isScrolledToBottomWithHeight=function(ca){return !!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottomWithHeight(ca));}.bind(this),this.$MessengerConversation20=function(){return (c('React').createElement(c('MessengerNewMessagesNotice.react'),{isOpen:this.state.showUnreadNotice,label:j._({"*":"{number} mensajes no le\u00eddos","268435456":"1 mensaje no le\u00eddo"},[j.plural(this.state.unreadCount,'number')]),onClick:this.$MessengerConversation24}));}.bind(this),this.$MessengerConversation21=function(){if(!this.props.isLoaded||!c('MessengerConfig').ShowContextBanner)return null;return (c('React').createElement(c('MessengerContextBannerContainer.react'),{location:c('MercuryShareAttachmentRenderLocations').MESSENGER,threadID:this.props.threadID,viewer:this.props.viewer}));}.bind(this),this.$MessengerConversation22=function(){if(this.props.isLoaded)return null;return (c('React').createElement('div',{className:"_2k8v"},this.props.isLoading?c('React').createElement(c('MessengerSpinner.react'),null):null));}.bind(this),this.$MessengerConversation19=function(){return (c('React').createElement('div',{className:"_4xu0"},c('React').createElement(c('MessengerSpinner.react'),{className:"_4xu1",size:c('MessengerSpinner.react').Sizes.LARGE})));},this.trackBottomIfRequired=function(){this.refs.scrollable&&this.refs.scrollable.trackBottomIfRequired();}.bind(this),this.scrollToBottom=function(){this.refs.scrollable&&this.refs.scrollable.scrollToBottom();}.bind(this),this.scrollToTop=function(ca){this.refs.scrollable&&this.refs.scrollable.scrollToTop(ca);}.bind(this),this.$MessengerConversation6=function(){var ca=this.$MessengerConversation14();ca&&ca.pageUp();return false;}.bind(this),this.$MessengerConversation7=function(){var ca=this.$MessengerConversation14();ca&&ca.pageDown();return false;}.bind(this),this.$MessengerConversation8=function(ca){if(ca.target===document.body){this.scrollToTop();return false;}return null;}.bind(this),this.$MessengerConversation9=function(ca){if(ca.target===document.body){this.scrollToBottom();return false;}return null;}.bind(this),this.$MessengerConversation12=function(){if(!this.refs.scrollable)return;var ca=this.$MessengerConversation14(),da=this.refs.quickReply;da&&c('CSS').conditionClass(da,"_1mzg",!this.isScrolledToBottom());this.$MessengerConversation10();this.$MessengerConversation11();if(ca&&this.state.unreadCount&&this.$MessengerConversation18(ca))this.setState({showUnreadNotice:false,unreadCount:0});this.$MessengerConversation25(ca);}.bind(this),this.$MessengerConversation24=function(ca){ca.preventDefault();this.setState({showUnreadNotice:false});this.$MessengerConversation16();}.bind(this),this.$MessengerConversation23=function(ca){return function(){if(this.props.threadID!==ca)return;this.trackBottomIfRequired();}.bind(this);}.bind(this),this.$MessengerConversation15=function(){c('DOM').scry(c('ReactDOM').findDOMNode(this),'img').forEach(function(ca){if(ca.complete)return;var da=this.props.threadID,ea=c('Event').listen(ca,'load',function(){if(this.props.threadID===da)this.trackBottomIfRequired();ea.remove();}.bind(this));}.bind(this));}.bind(this),this.$MessengerConversation26=function(){var ca=this.props.messages,da=this.state.unreadCount;if(!da||da>ca.size)return null;return ca.get(ca.size-da);}.bind(this),this.$MessengerConversation18=function(ca){var da=this.$MessengerConversation26();if(!da)return false;var ea=this.refs.messageList.getMessageElement(da.message_id);if(!ea)return false;var fa=ea.getBoundingClientRect().top,ga=ca.getElement().getBoundingClientRect().top;if(fa-ga<0)return false;return true;}.bind(this),this.$MessengerConversation27=function(ca){return !!this.props.messages.find(function(da){return da.message_id===ca;});}.bind(this),this.$MessengerConversation16=function(){if(!this.state.unreadCount)return;this.setState({scrollingToUnreadMessage:true});var ca=this.$MessengerConversation26();if(!ca){this.scrollToTop(false);return;}this.$MessengerConversation28(ca.message_id,function(){this.setState({scrollingToUnreadMessage:false,unreadCount:0});}.bind(this));}.bind(this),this.$MessengerConversation28=function(ca,da){var ea=this.refs.messageList.getMessageElement(ca,true),fa=this.$MessengerConversation14();if(!ea||!fa)return;var ga=ea.getBoundingClientRect().top,ha=c('ReactDOM').findDOMNode(this.refs.messageList).getBoundingClientRect().top,ia=fa.getElement().getBoundingClientRect().top,ja=ga+Math.abs(ha)+ia;fa.setScrollTop(ja,true,{callback:da});}.bind(this),this.$MessengerConversation11=function(){if(!this.isScrolledToBottom()||this.props.messages.size===0)return;if(c('UserActivity').isOnTab()&&c('UserActivity').isActive()){this.props.onRead(this.props.threadID);}else if(!this.$MessengerConversation4)this.$MessengerConversation4=c('UserActivity').subscribe(function(){if(c('UserActivity').isOnTab()){this.$MessengerConversation13();this.props.onRead(this.props.threadID);}}.bind(this));}.bind(this),this.handleResize=function(){if(this.refs.scrollable){this.refs.scrollable.handleResize();var ca=c('DOMDimensions').getElementDimensions(c('ReactDOM').findDOMNode(this.refs.scrollable)).width;if(ca!==this.state.width)this.setState({width:ca});}var da=this.refs.quickReply;da&&c('CSS').conditionClass(da,"_1mzg",!this.isScrolledToBottom());this.trackBottomIfRequired();}.bind(this),this.$MessengerConversation14=function(){return this.refs.scrollable&&this.refs.scrollable.getArea();}.bind(this),this.$MessengerConversation13=function(){this.$MessengerConversation4&&this.$MessengerConversation4.unsubscribe();this.$MessengerConversation4=null;}.bind(this),y;}t.getStores=function(){return [c('OmniMStore')];};t.calculateState=function(x,y){if(!c('MercuryIDs').isValid(y.threadID))return null;return {suggestions:c('OmniMStore').suggestionsForThread(y.threadID),omniMPrefs:c('OmniMStore').prefs()};};t.prototype.componentDidMount=function(){var x=new (c('SubscriptionsHandler'))();x.addSubscriptions(c('Event').listen(window,'resize',c('throttle')(this.handleResize,50)),c('KeyEventController').registerKey('PAGE_UP',this.$MessengerConversation6,s),c('KeyEventController').registerKey('PAGE_DOWN',this.$MessengerConversation7,s),c('KeyEventController').registerKey('HOME',this.$MessengerConversation8,s),c('KeyEventController').registerKey('END',this.$MessengerConversation9,s),n.subscribe('change',function(y,z){z[this.props.threadID]&&this.setState({readReceipts:u(this.props)});}.bind(this)),m.subscribe('change',function(y,z){this.setState({deliveryTimestamp:this.props.threadID?m.getDeliveryTime(this.props.threadID):0});}.bind(this)));this.$MessengerConversation1=x;this.$MessengerConversation10();this.handleResize();this.$MessengerConversation11();this.$MessengerConversation5=c('throttle')(this.$MessengerConversation12,r);};t.prototype.componentWillReceiveProps=function(x){var y=x.threadID!==this.props.threadID;if(y){this.$MessengerConversation13();this.setState({scrollingToUnreadMessage:false,showUnreadNotice:false,unreadCount:x.thread?x.thread.unread_count:0});}if(y||x.messages!==this.props.messages)this.setState({readReceipts:u(x),deliveryTimestamp:x.threadID?m.getDeliveryTime(x.threadID):0});};t.prototype.componentWillUnmount=function(){this.$MessengerConversation13();this.$MessengerConversation1&&this.$MessengerConversation1.release();};t.prototype.componentWillUpdate=function(){var x=this.$MessengerConversation14();if(x){this.$MessengerConversation2=x.getScrollHeight();this.$MessengerConversation3=x.getScrollTop();}};t.prototype.componentDidUpdate=function(x){if(!this.refs.scrollable)return;if(this.props.threadID!==x.threadID||v(x,this.props)){this.scrollToBottom();this.$MessengerConversation15();}else{var y=this.$MessengerConversation14();if(y){var z=y.getScrollHeight();if(z!==this.$MessengerConversation2){var aa=y.getScrollHeight()-this.$MessengerConversation2+this.$MessengerConversation3;this.refs.scrollable.scrollToPosition(aa);}else this.$MessengerConversation15();}}if(this.props.messages!==x.messages){this.$MessengerConversation11();if(this.state.scrollingToUnreadMessage)this.$MessengerConversation16();c('MessengerVideoAutoplayActions').updateStore(this.props.threadID,this.$MessengerConversation17());}setTimeout(function(){var ba=this.$MessengerConversation14();this.trackBottomIfRequired();if(ba&&this.state.unreadCount&&!this.state.scrollingToUnreadMessage&&!this.props.isLoading)if(this.$MessengerConversation18(ba)){this.setState({showUnreadNotice:false,unreadCount:0});}else this.setState({showUnreadNotice:true});this.$MessengerConversation10();}.bind(this),0);};t.prototype.render=function(){if(this.props.isLoading&&this.props.messages.isEmpty())return this.$MessengerConversation19();var x=c('MercuryConfig').MessengerPlatformPinProtectionGK&&this.props.thread&&this.props.thread.is_pin_protected,y=this.props.messages.last(),z=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),aa=null,ba=null,ca=this.state.suggestions||{},da=ca.quickReplies,ea=ca.agentSuggestions;if(da&&da.length&&y.author!==z){aa=da;ba=c('MNOmniMConstants').QUICKREPLIES;}else if(ea&&ea.length&&c('MercuryConfig').EnableOmniM){aa=ea;ba=c('MNOmniMConstants').OMNIM;}var fa=c('MercuryConfig').EnableQuickReply&&aa&&aa.length&&aa.filter(function(oa){return !oa.dismissed;}).length?c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{options:aa,threadID:y.thread_id,source:ba,omniMPrefs:this.state.omniMPrefs}),loader:c('JSResource')('MessengerBotsQuickReplyButtonList.react').__setRef('MessengerConversation.react'),placeholder:c('React').createElement('div',null)}):null,ga=null;if(y&&y.message_source&&y.author!==z&&c('MercuryConfig').WebCamQuickReply){var ha=y.message_source;if(ha==='camera'){var ia=this.props.thread?c('convertMIGColorToFIGColor')(this.props.thread.custom_color):null,ja=c('React').createElement('div',{className:"_1gc5",style:ia&&{color:ia}},j._("Enviar respuesta con foto"));ga=c('React').createElement('div',{className:"_1gc6"},c('React').createElement(c('MessengerQuickCamButtonHTML5.react'),{className:"_4rv5"+(' '+"_1gcb"),location:c('MessengerQuickCamOrigins').MESSENGER,threadID:this.props.threadID,viewer:this.props.viewer,textChild:ja}));}}var ka=null,la=null;if(ga||fa){ka=c('React').createElement('div',{className:"_51op"},c('React').createElement('div',{className:"_51oq",onResize:this.handleResize}));la=c('React').createElement('div',{ref:'quickReply'},c('React').createElement('div',{className:"_1mzb",onResize:this.handleResize},ga,fa));}var ma=j._("Mensajes"),na=j._("Cargar m\u00e1s...");return c('React').createElement(c('MessengerFlexScrollableArea.react'),{className:this.props.className,flexChildren:this.$MessengerConversation20(),footerChildren:la,onMount:function(){return c('setImmediate')(this.$MessengerConversation11);}.bind(this),onScroll:this.props.useManualFetch?undefined:this.$MessengerConversation5,ref:'scrollable',shouldStickToBottom:true,tabIndex:0,useScrollProtection:c('MessengerConfig').ChatScrollInterval},c('React').createElement('div',{'aria-label':ma,className:c('joinClasses')("__i_",this.props.innerClassName),role:'region'},c('React').createElement('h3',{className:"accessible_elem"},ma),this.$MessengerConversation21(),this.props.useManualFetch&&!this.props.upExhausted?c('React').createElement(c('MessengerButton.react'),{className:"_41jf",label:na,onClick:function(){return this.props.fetchMessages(c('WebMessengerConstants').MORE_SEARCH_CONTEXT_UP);}.bind(this),type:'primary',use:'default'}):null,this.$MessengerConversation22(),x?w():c('React').createElement(c('MessageList.react'),{DateBreak:c('MessengerDateBreak.react'),deliveryTimestamp:this.state.deliveryTimestamp,isCanonical:this.props.isCanonical,LogMessage:c('MessengerLogMessage.react'),CollapsedLogMessageGroup:c('MessengerCollapsedLogMessageGroup.react'),MessageGroup:c('MessengerMessageGroup.react'),messages:this.props.messages,onAttachmentLoad:this.$MessengerConversation23(this.props.threadID),readReceipts:this.state.readReceipts,ref:'messageList',location:c('MercuryShareAttachmentRenderLocations').MESSENGER,viewer:this.props.viewer,thread:this.props.thread}),this.props.useManualFetch&&!this.props.downExhausted?c('React').createElement(c('MessengerButton.react'),{className:"_41jf",label:na,onClick:function(){return this.props.fetchMessages(c('WebMessengerConstants').MORE_SEARCH_CONTEXT_DOWN);}.bind(this),type:'primary',use:'default'}):null,c('React').createElement(c('ChatTypingIndicators.react'),{indicatorClass:c('MessengerTypingIndicator.react'),indicatorsDidShow:function(){this.trackBottomIfRequired();}.bind(this),rootClassName:"clearfix _17pz",threadID:this.props.threadID,viewer:this.props.viewer}),ka));};t.prototype.$MessengerConversation10=function(){if(this.props.useManualFetch)return;var x=this.$MessengerConversation14();if(x&&x.getScrollTop()<q){this.props.fetchMessages(c('WebMessengerConstants').MORE_SEARCH_CONTEXT_UP);c('MessengerVideoAutoplayActions').updateStore(this.props.threadID,this.$MessengerConversation17());}};t.prototype.$MessengerConversation17=function(){return this.props.messages.filter(function(x){return (c('MessengerAttachmentRenderer').isSingleVideoAttachment(x)||c('MessengerAttachmentRenderer').isSharedVideoAttachmentMessage(x));}).reverse().map(function(x){return x.message_id;});};t.prototype.$MessengerConversation25=function(x){var y=this.refs.messageList;if(!y||!x)return;var z=[],aa=x.getElement().getBoundingClientRect(),ba=c('MessengerVideoAutoplayStore').getMessageIDs(this.props.threadID),ca=ba||this.$MessengerConversation17()||c('immutable').List();ca.map(function(da){var ea=c('MessengerAttachmentRenderer').getVideoElem(da,y);if(ea)z.push([da,ea.getBoundingClientRect()]);});if(z.length)c('MessengerVideoAutoplayActions').onScroll(this.props.threadID,ba?null:ca,c('immutable').Map(z),aa);};t.propTypes={contact:p.instanceOf(c('ImmutableObject')),downExhausted:p.bool,fetchMessages:p.func.isRequired,innerClassName:p.string,isCanonical:p.bool,isLoaded:p.bool,isLoading:p.bool,messages:p.instanceOf(c('immutable').List).isRequired,participants:p.instanceOf(c('immutable').Map),thread:p.object,threadID:p.string.isRequired,upExhausted:p.bool,useManualFetch:p.bool,viewer:p.string.isRequired};function u(x){var y=c('MercuryIDs').getParticipantIDFromUserID(x.viewer),z=n.getSeenTimestamps(x.threadID),aa=new (c('Set'))(x.thread?x.thread.participants:z.keys());aa['delete'](y);return z.withMutations(function(ba){c('immutable').Seq(x.messages).reverse().forEach(function(ca){if(aa.size===0)return false;if(!aa.has(ca.author))return;ba.update(ca.author,function(da){if(!da||da.watermark<=ca.timestamp)return {watermark:ca.timestamp,action:ca.timestamp};return da;});aa['delete'](ca.author);});});}function v(x,y){var z=c('MercuryIDs').getParticipantIDFromUserID(y.viewer);return (y.threadID===x.threadID&&y.messages!==x.messages&&!y.messages.isEmpty()&&y.messages.last()!==x.messages.last()&&y.messages.last().author===z);}function w(){return (c('React').createElement('div',null,'This conversation is protected by PIN. Use your pin on device to unlock the conversation.'));}f.exports=c('FluxContainer').create(t,{withProps:true});}),null);
__d('MessengerConversationContainer.react',['immutable','ImmutableObject','MercuryIDs','MercuryMessageStore','MessengerConfig','MessengerConversation.react','MessengerHotLikePreviewEvents','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={isLoaded:false,isLoading:true,messages:c('immutable').List()},this.$MessengerConversationContainer1=undefined,this.$MessengerConversationContainer2=undefined,this.$MessengerConversationContainer3=false,this.$MessengerConversationContainer4=undefined,this.$MessengerConversationContainer5=undefined,this.$MessengerConversationContainer6=undefined,this.handleResize=function(){this.refs.conversation.handleResize();}.bind(this),this.isScrolledToBottom=function(){return !!(this.refs.conversation&&this.refs.conversation.isScrolledToBottom());}.bind(this),this.$MessengerConversationContainer8=function(){if(this.state.isLoading||this.state.isLoaded)return;this.setState({isLoading:true});if(!this.$MessengerConversationContainer1.fetchMoreMessages())this.setState({isLoading:false,isLoaded:true});}.bind(this),this.$MessengerConversationContainer7=function(q){if(!q)return;this.setState({isLoaded:false});this.$MessengerConversationContainer1&&this.$MessengerConversationContainer1.destroy();this.$MessengerConversationContainer1=new (c('MercuryMessageStore'))(q,c('MessengerConfig').MessageLoadCount);clearTimeout(this.$MessengerConversationContainer6);this.$MessengerConversationContainer6=setTimeout(function(){if(this.props.thread&&this.props.thread.message_count<1)this.setState({isLoaded:true,isLoading:false});}.bind(this),6000);this.$MessengerConversationContainer2&&this.$MessengerConversationContainer2.release();this.$MessengerConversationContainer2=new (c('SubscriptionsHandler'))();this.$MessengerConversationContainer2.addSubscriptions(this.$MessengerConversationContainer1.subscribe(function(r){this.setState({messages:this.$MessengerConversationContainer9(c('immutable').List(r.messages)),isLoading:false});}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').START,function(r){this.$MessengerConversationContainer3=true;this.$MessengerConversationContainer4=r;this.setState({messages:this.$MessengerConversationContainer9(this.state.messages)});clearInterval(this.$MessengerConversationContainer5);this.$MessengerConversationContainer5=setInterval(this.refs.conversation.scrollToBottom,50);}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').FINISH_ANIMATION,function(r){clearInterval(this.$MessengerConversationContainer5);}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').FINISH_EMOJI_ANIMATION,function(r){clearInterval(this.$MessengerConversationContainer5);}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP,function(){this.$MessengerConversationContainer3=false;this.$MessengerConversationContainer4=null;}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP_EMOJI,function(){this.$MessengerConversationContainer3=false;this.$MessengerConversationContainer4=null;}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').REMOVE,function(){clearInterval(this.$MessengerConversationContainer5);this.$MessengerConversationContainer3=false;this.setState({messages:this.$MessengerConversationContainer9(this.state.messages)});}.bind(this)));}.bind(this),this.$MessengerConversationContainer9=function(q){if(this.$MessengerConversationContainer3){q=q.set(q.size,this.$MessengerConversationContainer4);}else{q=q.filterNot(function(r){return r.is_like_preview;});this.$MessengerConversationContainer4=null;}return q;}.bind(this),m;}k.prototype.componentWillUnmount=function(){this.$MessengerConversationContainer2&&this.$MessengerConversationContainer2.release();clearTimeout(this.$MessengerConversationContainer6);};k.prototype.componentDidMount=function(){this.$MessengerConversationContainer7(this.props.threadID);};k.prototype.componentWillReceiveProps=function(l){if(this.props.threadID!==l.threadID){this.setState({isLoading:true,messages:c('immutable').List()});this.$MessengerConversationContainer7(l.threadID);}};k.prototype.render=function(){return c('React').createElement(c('MessengerConversation.react'),{className:this.props.className,contact:this.props.contact,fetchMessages:this.$MessengerConversationContainer8,isCanonical:c('MercuryIDs').isCanonical(this.props.threadID),isLoading:this.state.isLoading,isLoaded:this.state.isLoaded,messages:this.state.messages,onRead:this.props.onMarkRead,participants:this.props.participants,ref:'conversation',thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer});};k.propTypes={contact:j.instanceOf(c('ImmutableObject')),onMarkRead:j.func.isRequired,participants:j.instanceOf(c('immutable').Map),thread:j.object,threadID:j.string.isRequired,viewer:j.string.isRequired};f.exports=k;}),null);
__d('ArchiveWarning.react',['cx','ix','Image.react','React','TooltipData'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=c('TooltipData').propsFor('All employee-to-employee conversations will be archived','above'),o=this.props,p=o.isFBAtWork,q=o.shown,r=o.useCSS,s=babelHelpers.objectWithoutProperties(o,['isFBAtWork','shown','useCSS']);if(!p&&r){if(!q)return null;return (c('React').createElement('div',babelHelpers['extends']({className:"_3a61"},n,s),c('React').createElement('i',{className:"_3olv _14lt"})));}var t=p?i('images/chat/tab/archive-grey.png'):i('images/chat/tab/archive.png');return (c('React').createElement(c('Image.react'),babelHelpers['extends']({src:t,className:"titanArchiveWarning"+(' '+"button")+(!q?' '+"hidden_elem":'')},n)));};function m(){j.apply(this,arguments);}m.propTypes={isFBAtWork:l.bool,shown:l.bool,useCSS:l.bool};f.exports=m;}),null);
__d('MessengerInfoPanelButton.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j={width:'32px',height:'32px'};function k(n){return (c('React').createElement('svg',{viewBox:'0 0 64 64'},c('React').createElement('g',null,c('React').createElement('g',null,c('React').createElement('path',{style:{fill:n},d:'M32,10c-12.2,0-22,9.8-22,22s9.8,22,22,22s22-9.8,22-22S44.2,10,32,10z M32,19c1.6,0,3,1.4,3,3s-1.4,3-3,3 c-1.6,0-3-1.4-3-3S30.4,19,32,19z M36,45h-2h-4h-2v-1h2V29h-2v-1h2h4v1v15h2V45z'})))));}function l(n){var o={fill:n};return (c('React').createElement('svg',{viewBox:'0 0 64 64',style:{stroke:n}},c('React').createElement('g',null,c('React').createElement('polygon',{style:o,points:'34,44 34,29 34,28 30,28 28,28 28,29 30,29 30,44 28,44 28,45 30,45 34,45 36,45 36,44'}),c('React').createElement('circle',{style:o,cx:'32',cy:'22',r:'3'})),c('React').createElement('path',{style:{strokeWidth:2,strokeMiterlimit:10,stroke:n,fill:'none'},d:'M32,11c11.6,0,21,9.4,21,21s-9.4,21-21,21s-21-9.4-21-21S20.4,11,32,11z'})));}h=babelHelpers.inherits(m,c('React').PureComponent);i=h&&h.prototype;m.prototype.render=function(){var n=this.props,o=n.infoPanelCollapsed,p=n.customColor;return (c('React').createElement('div',{style:j},o?l(p):k(p)));};function m(){h.apply(this,arguments);}f.exports=m;}),null);
__d('MessengerPresenceStatus.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=void 0;if(this.props.isUserActive){m=h._("Activo(a) en {platform}",[h.param('platform',this.props.platform)]);}else if(this.props.lastActive){m=h._("Activo(a) hace {time}",[h.param('time',this.props.lastActive)]);}else m=this.props.platform;return (c('React').createElement('span',{className:this.props.className},m));};function l(){i.apply(this,arguments);}l.propTypes={isUserActive:k.bool.isRequired,lastActive:k.string,platform:k.string};f.exports=l;}),null);
__d('MessengerRTCGroupCallContactListItem.react',['cx','fbt','ix','Image.react','ImmutableObject','Link.react','MessengerContactImage.react','React','MultiwayTypes'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k;if(c.__markCompiled)c.__markCompiled();var l=c('MultiwayTypes').ParticipantCallState,m=c('React').PropTypes,n=(k={},k[l.DISCONNECTED]=i._("Desconectado"),k[l.NO_ANSWER]=i._("Sin respuesta"),k[l.REJECTED]=i._("Rechazada"),k[l.UNREACHABLE]=i._("Inaccesible"),k[l.CONNECTION_DROPPED]=i._("Conexi\u00f3n perdida"),k[l.PARTICIPANT_LIMIT_REACHED]=i._("Se alcanz\u00f3 el l\u00edmite de participantes"),k),o=32,p=function s(t){var u=t.participant,v=t.participantState,w=t.isSelected,x=t.onClick;return (c('React').createElement('div',{className:"_4nvn",onClick:x},c('React').createElement(c('Link.react'),{className:"_4nvq"},c('React').createElement(c('MessengerContactImage.react'),{className:"_4nvr",isMessengerUser:u.is_messenger_user,size:o,src:u.image_src}),c('React').createElement('div',{className:"_4nvs"},c('React').createElement('div',{className:"_4nvt"},c('React').createElement('div',{className:"_4nv_"},u.name),c('React').createElement(q,{participant:u,participantState:v})),c('React').createElement(r,{isSelected:w})))));},q=function s(t){var u=t.participant.vanity,v=t.participantState;if(!v){if(!u)return null;return (c('React').createElement('div',{className:"_4nw0"},'@',u));}var w=n[v.state]||i._("Desconocida");return (c('React').createElement('div',{className:"_4nw0"},w));},r=function s(t){var u=t.isSelected;if(!u)return null;return (c('React').createElement('div',{className:"_5jdo"},c('React').createElement(c('Image.react'),{src:j('/images/mercury/clients/messenger/core/Checkmark.png')})));};p.propTypes={participant:m.instanceOf(c('ImmutableObject')).isRequired,participantState:m.object,isSelected:m.bool.isRequired,onClick:m.func.isRequired};f.exports=p;}),null);
__d('MessengerRTCGroupCallContactList.react',['cx','immutable','ImmutableObject','React','MessengerScrollableArea.react','MessengerRTCGroupCallContactListItem.react'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=function k(l){var m=l.participants,n=l.participantStates,o=n===undefined?c('immutable').Map():n,p=l.isParticipantSelected,q=l.onClick,r=m.map(function(s){return (c('React').createElement(c('MessengerRTCGroupCallContactListItem.react'),{key:s.id,participant:s,participantState:o.get(s.fbid||''),isSelected:p.get(s.id),onClick:function(t){function u(){return t.apply(this,arguments);}u.toString=function(){return t.toString();};return u;}(function(){return q(s.id);})}));});return (c('React').createElement('div',{className:"_12zw"},c('React').createElement(c('MessengerScrollableArea.react'),null,r)));};j.propTypes={participants:i.arrayOf(i.instanceOf(c('ImmutableObject'))).isRequired,participantStates:i.instanceOf(c('immutable').Map),isParticipantSelected:i.instanceOf(c('immutable').Map).isRequired,onClick:i.func.isRequired};f.exports=j;}),null);
__d('MessengerRTCGroupCallRingParticipantsRow.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=function l(m){var n=m.names;return (c('React').createElement('div',{className:"_1wsd"},c('React').createElement('div',{className:"_1wse"},i._("Llamar:")),c('React').createElement('div',{className:"_1wsg"},n.join(', '))));};k.propTypes={names:j.arrayOf(j.string).isRequired};f.exports=k;}),null);
__d('MessengerRTCGroupCallThreadRow.react',['cx','immutable','ImmutableObject','MercuryThreadTitle.react','MessengerThreadImage.react','React'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=function k(l){var m=l.participants,n=l.thread,o=l.viewerID;return (c('React').createElement('div',{className:"_5y31"},c('React').createElement(c('MessengerThreadImage.react'),{className:"_5y32",participants:m,thread:n,viewer:o}),c('React').createElement('div',{className:"_5y34"},c('React').createElement(c('MercuryThreadTitle.react'),{className:"_5y37",thread:n,viewer:o}))));};j.propTypes={participants:i.instanceOf(c('immutable').Map).isRequired,thread:i.instanceOf(c('ImmutableObject')).isRequired,viewerID:i.string.isRequired};f.exports=j;}),null);
__d('MessengerRTCGroupCallParticipantsPickerDialog.react',['cx','fbt','FBRTCCore','immutable','ImmutableObject','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerRTCGroupCallContactList.react','MessengerRTCGroupCallRingParticipantsRow.react','MessengerRTCGroupCallThreadRow.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=460;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={isParticipantSelected:this.props.participants.mapEntries(function(t){var u=t[0],v=t[1];return [u,this.props.participants.size<=5];}.bind(this))},this.$MessengerRTCGroupCallParticipantsPickerDialog1=function(){var t=this.$MessengerRTCGroupCallParticipantsPickerDialog2().map(function(u){return u.fbid;});if(this.props.handleCall){this.props.handleCall(t);}else c('FBRTCCore').startGroupCall({clickSource:this.props.clickSource,conferenceName:this.props.conferenceName,hasVideo:this.props.hasVideo,usersToRing:t});this.props.onUnmount();}.bind(this),this.$MessengerRTCGroupCallParticipantsPickerDialog2=function(){return this.props.participants.filter(function(t,u){return this.state.isParticipantSelected.get(u);}.bind(this)).toArray();}.bind(this),p;}n.prototype.render=function(){var o=this.props,p=o.participants,q=o.thread,r=o.viewerID;return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onUnmount,type:'default',width:m},c('React').createElement('div',{className:"_2m1r"},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Llamar a miembros del grupo")),c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Llamar"),onClick:this.$MessengerRTCGroupCallParticipantsPickerDialog1,disabled:this.$MessengerRTCGroupCallParticipantsPickerDialog2().length===0,type:'primary'})),c('React').createElement(c('MessengerRTCGroupCallThreadRow.react'),{participants:p,thread:q,viewerID:r}),c('React').createElement(c('MessengerRTCGroupCallRingParticipantsRow.react'),{names:this.$MessengerRTCGroupCallParticipantsPickerDialog2().map(function(s){var t=s.name;return t;}).sort(function(s,t){return s.localeCompare(t);})}),c('React').createElement(c('MessengerRTCGroupCallContactList.react'),{participants:p.toArray().sort(function(s,t){return s.name.localeCompare(t.name);}),isParticipantSelected:this.state.isParticipantSelected,onClick:function(s){return this.setState({isParticipantSelected:this.state.isParticipantSelected.set(s,!this.state.isParticipantSelected.get(s))});}.bind(this)})));};n.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,thread:l.instanceOf(c('ImmutableObject')).isRequired,viewerID:l.string.isRequired,clickSource:l.string.isRequired,conferenceName:l.string.isRequired,hasVideo:l.bool.isRequired,onUnmount:l.func.isRequired};f.exports=n;}),null);
__d('MessengerRTCGroupCallParticipantsPickerDialogController',['DOM','immutable','MessengerRTCGroupCallParticipantsPickerDialog.react','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={_container:c('DOM').create('div'),render:function i(j){var k=j.participants,l=j.thread,m=j.viewerID,n=j.clickSource,o=j.conferenceName,p=j.hasVideo,q=j.handleCall;c('ReactDOM').render(c('React').createElement(c('MessengerRTCGroupCallParticipantsPickerDialog.react'),{participants:k,thread:l,viewerID:m,clickSource:n,conferenceName:o,hasVideo:p,handleCall:q,onUnmount:function(){return this._onUnmount();}.bind(this)}),this._container);},_onUnmount:function i(){c('ReactDOM').unmountComponentAtNode(this._container);}};f.exports=h;}),null);
__d('MessengerRTCUnavailableDialog.react',['fbt','MessengerActions','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerRTCUnavailableDialog2=function(){return (c('React').createElement('div',null,h._("{name} no est\u00e1 disponible en este momento.",[h.param('name',this.props.name)])));}.bind(this),this.$MessengerRTCUnavailableDialog1=function(r){if(!r)c('MessengerActions').hideDialog();},n;}l.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerRTCUnavailableDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("No se puede llamar")),c('React').createElement(c('MessengerDialogBody.react'),null,this.$MessengerRTCUnavailableDialog2()),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogButton.react'),{action:'cancel',label:h._("Aceptar"),type:'primary'})));};l.propTypes={name:k.string.isRequired};f.exports=l;}),null);
__d('MessengerRTCVideoCallButton.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k={width:'32px',height:'32px'},l={fillRule:'evenodd',clipRule:'evenodd',fill:'none',strokeWidth:'2',strokeMiterlimit:'10'},m=babelHelpers['extends']({},l,{stroke:'#888888'}),n=h._("Iniciar una videollamada");i=babelHelpers.inherits(o,c('React').PureComponent);j=i&&i.prototype;o.prototype.render=function(){var p=this.props.isAvailable?babelHelpers['extends']({},l,{stroke:this.props.customColor}):m;return (c('React').createElement('div',{style:k,title:n},c('React').createElement('svg',{viewBox:'0 0 64 64',style:p},c('React').createElement('title',null,n),c('React').createElement('g',null,c('React').createElement('g',null,c('React').createElement('path',{d:'M47,27.8v7.5l9,4.5V23.2L47,27.8z M37.2,17H13.8C10.6,17,8,19.6,8,22.8v17.4c0,3.2,2.6,5.8,5.8,5.8h23.3 c3.2,0,5.8-2.6,5.8-5.8V22.8C43,19.6,40.4,17,37.2,17z'}))))));};function o(){i.apply(this,arguments);}f.exports=o;}),null);
__d('MessengerRTCVoiceCallButton.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k={width:'32px',height:'32px'},l={fillRule:'evenodd',clipRule:'evenodd',fill:'none',strokeWidth:'2',strokeMiterlimit:'10'},m=babelHelpers['extends']({},l,{stroke:'#888888'}),n=h._("Iniciar una llamada de voz");i=babelHelpers.inherits(o,c('React').PureComponent);j=i&&i.prototype;o.prototype.render=function(){var p=this.props.isAvailable?babelHelpers['extends']({},l,{stroke:this.props.customColor}):m;return (c('React').createElement('div',{style:k,title:n},c('React').createElement('svg',{viewBox:'0 0 64 64',style:p},c('React').createElement('title',null,n),c('React').createElement('path',{d:'M48.3,50.5c-7.7,6.5-24.2-10-24.5-10.3C23.5,39.9,7,23.4,13.5,15.7c4.8-5.7,6.3-3.4,7-2.7 c0.6,0.5,5.7,7.8,6,9.2c0.3,1.4-2.4,4.6-2.2,5.9c0.2,1.2,3.6,5,5.1,6.5c1.5,1.5,5.3,4.9,6.5,5.1c1.2,0.2,4.4-2.5,5.9-2.2 c1.4,0.3,8.7,5.4,9.2,6C51.6,44.2,54,45.7,48.3,50.5z'}))));};function o(){i.apply(this,arguments);}f.exports=o;}),null);
__d('MessengerRTCCallButton.react',['invariant','immutable','ImmutableObject','MercuryIDs','MessengerActions','MessengerRTCUnavailableDialog.react','MessengerRTCVideoCallButton.react','MessengerRTCVoiceCallButton.react','MNRTCCallabilityStore','React','StoreAndPropBasedStateMixin','Link.react'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerRTCCallButton',mixins:[c('StoreAndPropBasedStateMixin')(c('MNRTCCallabilityStore'))],statics:{calculateState:function k(l){if(c('MercuryIDs').isGroupChat(l.threadID))return {isCallable:true};var m=c('MercuryIDs').getUserIDFromThreadID(l.threadID);!m?h(0):void 0;return {isCallable:c('MNRTCCallabilityStore').isCallable(m)};}},propTypes:{className:i.string.isRequired,customColor:i.string.isRequired,isVideo:i.bool.isRequired,participants:i.instanceOf(c('immutable').Map).isRequired,thread:i.instanceOf(c('ImmutableObject')).isRequired,threadID:i.string.isRequired,viewer:i.string.isRequired,calleeName:i.string.isRequired},render:function k(){var l={customColor:this.props.customColor,isAvailable:this.state.isCallable};return (c('React').createElement(c('Link.react'),{className:this.props.className,onClick:this._handleStartCall},this.props.isVideo?c('React').createElement(c('MessengerRTCVideoCallButton.react'),l):c('React').createElement(c('MessengerRTCVoiceCallButton.react'),l)));},_handleStartCall:function k(l){l.preventDefault();if(this.state.isCallable){if(c('MercuryIDs').isGroupChat(this.props.threadID)){e(['FBRTCSupport','MessengerRTCGroupCallUnsupportedBrowserDialogController','MessengerRTCGroupCallParticipantsPickerDialogController'],function(m,n,o){if(!m.isGroupCallWebtrcSupported()){n.render();return;}o.render({participants:this.props.participants.filter(function(p){var q=p.fbid;return q!==this.props.viewer;}.bind(this)),thread:this.props.thread,viewerID:this.props.viewer,clickSource:'multiway_messenger_dot_com',conferenceName:'GROUP:'+this.props.thread.thread_fbid,hasVideo:this.props.isVideo});}.bind(this));}else e(['FBRTCCore'],function(m){m.startOutgoingCall(c('MercuryIDs').getUserIDFromThreadID(this.props.threadID),'messenger_dot_com',!this.props.isVideo);}.bind(this));}else c('MessengerActions').showDialog(c('MessengerRTCUnavailableDialog.react'),{name:this.props.calleeName});}});f.exports=j;}),null);
__d('messengerCalculateTruncationState',['Style'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l,m){if(!l||!j)return;var n=m?m.offsetWidth:0,o=Math.ceil(.5*(i.offsetWidth+l.offsetWidth)),p=i.offsetWidth-k.offsetWidth-12;if(o<=p){c('Style').set(i,'text-align','center');c('Style').set(j,'width','auto');c('Style').set(j,'margin-left','auto');}else{if(document.body.dir==='rtl'){c('Style').set(i,'text-align','right');}else{c('Style').set(i,'text-align','left');c('Style').set(j,'margin-left',n+'px');}var q=Math.max(i.offsetWidth-n-k.offsetWidth-11,0);c('Style').set(j,'width',q+'px');}}f.exports=h;}),null);
__d('MessengerDetailViewHeaderContainer.react',['immutable','ImmutableObject','MercuryIDs','MercuryThreadIDMap','MercuryTypeaheadConstants','MessengerActions','MessengerComposerActions','MessengerComposeViewHeader.react','messengerDetailViewHeaderReact','MessengerView','React','shallowEqual'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('messengerDetailViewHeaderReact').comp,k=c('React').PropTypes;h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$MessengerDetailViewHeaderContainer1=function(r){var s=r.getUniqueID(),t=r.getType();if(t===c('MercuryTypeaheadConstants').THREAD_TYPE){var u=c('MercuryThreadIDMap').getForFBID(this.props.viewer);u.getClientIDFromServerID(s,function(v){c('MessengerComposerActions').moveDraftToNextThread(v);c('MessengerActions').selectThread(v);});c('MessengerComposerActions').exitComposeState();}else if(s===this.props.viewer||t===c('MercuryTypeaheadConstants').PAGE_TYPE){c('MessengerComposerActions').moveDraftToNextThread(c('MercuryIDs').getThreadIDFromUserID(s));c('MessengerComposerActions').exitComposeState();c('MessengerActions').selectThread(c('MercuryIDs').getThreadIDFromUserID(s));}else c('MessengerComposerActions').addToken(r);}.bind(this),this.$MessengerDetailViewHeaderContainer2=function(r){c('MessengerComposerActions').removeToken(r);},n;}l.prototype.shouldComponentUpdate=function(m){var n=m.contactData,o=babelHelpers.objectWithoutProperties(m,['contactData']),p=this.props,q=p.contactData,r=babelHelpers.objectWithoutProperties(p,['contactData']);return !c('shallowEqual')(o,r)||!c('shallowEqual')(n,q);};l.prototype.render=function(){return this.props.view===c('MessengerView').DETAIL.COMPOSE?c('React').createElement(c('MessengerComposeViewHeader.react'),{forceHideClearButton:true,onAddRecipient:this.$MessengerDetailViewHeaderContainer1,onRemoveRecipient:this.$MessengerDetailViewHeaderContainer2,onResize:this.props.onResize,recipients:this.props.recipients,viewer:this.props.viewer}):c('React').createElement(j,{contactData:this.props.contactData,infoPanelCollapsed:this.props.infoPanelCollapsed,onInfoPanelToggle:this.props.onInfoPanelToggle,participants:this.props.participants,thread:this.props.thread,viewer:this.props.viewer});};l.propTypes={contactData:k.object,infoPanelCollapsed:k.bool.isRequired,onInfoPanelToggle:k.func.isRequired,onResize:k.func.isRequired,participants:k.instanceOf(c('immutable').Map).isRequired,recipients:k.instanceOf(c('immutable').List).isRequired,thread:k.instanceOf(c('ImmutableObject')),view:k.string,viewer:k.string.isRequired};f.exports=l;}),null);
__d('MessengerPresenceStatusUtils',['fbt','AvailableListConstants','LastActiveTimes','MercuryIDs','PresenceStatus'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={getStatusFromCanonicalThread:function j(k,l){var m=null;if(l&&l.is_canonical){var n=k.get(c('MercuryIDs').getParticipantIDFromFromThreadID(l.thread_id));if(n){var o=c('PresenceStatus').get(n.fbid),p=void 0,q=void 0,r=n.is_messenger_user?h._("Messenger"):h._("Facebook");if(o!==c('AvailableListConstants').ACTIVE){p=c('LastActiveTimes').get(n.fbid);q=c('LastActiveTimes').getShortDisplay(n.fbid);}m={contact:n,platform:r,isUserActive:o===c('AvailableListConstants').ACTIVE,lastActiveTS:p,lastActive:q};}}return m;}};f.exports=i;}),null);
__d('MessengerConfirmLeaveGroupDialog.react',['ImmutableObject','MessengerActions','MessengerAdminGroupUtils','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$MessengerConfirmLeaveGroupDialog2=function(q){q.stopPropagation();this.props.onLeave();c('MessengerActions').hideDialog();}.bind(this),this.$MessengerConfirmLeaveGroupDialog1=function(q){if(!q)c('MessengerActions').hideDialog();},m;}k.prototype.render=function(){var l=this.props.isViewerAdmin,m=c('MessengerAdminGroupUtils').getLeaveGroupBodyText(l,this.props.thread),n=c('MessengerAdminGroupUtils').getLeaveGroupButtonText(l,this.props.thread),o=c('MessengerAdminGroupUtils').getLeaveGroupTitleText(l,this.props.thread);return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerConfirmLeaveGroupDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,o),c('React').createElement(c('MessengerDialogBody.react'),null,m),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:n,onClick:this.$MessengerConfirmLeaveGroupDialog2,type:'primary',use:'danger'})));};k.propTypes={isViewerAdmin:j.bool.isRequired,onCancel:j.func,onLeave:j.func.isRequired,thread:j.instanceOf(c('ImmutableObject')).isRequired};f.exports=k;}),null);
__d('MessengerApprovalRequester.react',['cx','fbt','Link.react','MercuryConfig','MercuryThreadActions','MessengerContactImage.react','MessengerTextWithEmoticons.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('MercuryThreadActions').get(),m=32;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){var o=this.props,p=o.isMessengerUser,q=o.imageSRC,r=o.name,s=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:r});if(c('MercuryConfig').MessengerNewEmojiGK)s=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:r});return (c('React').createElement('div',{className:"_3szn _3szo"},c('React').createElement('div',{className:"_3szq _4fq"},c('React').createElement(c('MessengerContactImage.react'),{className:"_5l39 _5rmm",isMessengerUser:p,size:m,src:q}),c('React').createElement('span',{className:"_3tkx"},s)),c('React').createElement('div',{className:"_3ihq _4fs"},c('React').createElement(c('Link.react'),{className:"_5a73",href:'#',onClick:this.$MessengerApprovalRequester1.bind(this)},i._("Aceptar")),c('React').createElement(c('Link.react'),{className:"_5a73",href:'#',onClick:this.$MessengerApprovalRequester2.bind(this)},i._("Ignorar")))));};n.prototype.$MessengerApprovalRequester1=function(event){var o=this.props,p=o.threadFBID,q=o.userID;l.acceptToJoinableGroup(p,q);};n.prototype.$MessengerApprovalRequester2=function(event){var o=this.props,p=o.threadFBID,q=o.userID;l.rejectToJoinableGroup(p,q);};function n(){j.apply(this,arguments);}f.exports=n;}),null);
__d('MessengerInfoPanelSection.react',['cx','fbt','CustomColorHighlighting.react','Link.react','MessengerMenu.react','MessengerPopoverMenu.react','MessengerWebDriverTestIDs','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=c('MessengerMenu.react').Item;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){var o=this.props,p=o.isCollapsible,q=o.isCollapsed;return (c('React').createElement('div',{className:"_1lix"+(p?' '+"_1liy":'')+(p&&q?' '+"_1liz":'')},c('React').createElement('div',{className:"_1li-"}),this.$MessengerInfoPanelSection1(),c('React').createElement('div',{className:"_1li_"},c('React').createElement(c('CustomColorHighlighting.react'),{customColor:this.props.customColor},this.props.children))));};n.prototype.$MessengerInfoPanelSection1=function(){var o=this.props.title;if(!o)return null;return (c('React').createElement('h4',{className:"_1lj0"},o,this.$MessengerInfoPanelSection2()));};n.prototype.$MessengerInfoPanelSection2=function(){if(!this.props.isCollapsible)return null;return (c('React').createElement(c('MessengerPopoverMenu.react'),{menu:this.$MessengerInfoPanelSection3()},c('React').createElement(c('Link.react'),{'aria-haspopup':'true','aria-label':i._("Opciones del panel de informaci\u00f3n"),className:"_1lj1",role:'button'})));};n.prototype.$MessengerInfoPanelSection3=function(){var o=this.props,p=o.isCollapsed,q=o.onToggle,r=p?i._("Mostrar secci\u00f3n"):i._("Ocultar secci\u00f3n");return (c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(m,{'data-testid':c('MessengerWebDriverTestIDs').INFO_PANEL_TOGGLER_OPTION,label:r,onclick:q})));};function n(){j.apply(this,arguments);}n.propTypes={customColor:l.string,isCollapsible:l.bool,isCollapsed:l.bool,onToggle:l.func,title:l.node};f.exports=n;}),null);
__d('MessengerTurnOnJoinableConfirmationDialog.react',['fbt','MercuryThreadActions','MessengerActions','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerJoinableModeType','React','ImmutableObject'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('MercuryThreadActions').get(),l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerTurnOnJoinableConfirmationDialog2=function(s){k.setJoinableMode(c('MessengerJoinableModeType').JOINABLE,this.props.thread);c('MessengerActions').hideDialog();}.bind(this),this.$MessengerTurnOnJoinableConfirmationDialog1=function(s){s.preventDefault();c('MessengerActions').hideDialog();},o;}m.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerTurnOnJoinableConfirmationDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("\u00bfQuieres que el grupo sea p\u00fablico?")),c('React').createElement(c('MessengerDialogBody.react'),null,h._("Al convertir este grupo en p\u00fablico, te convertir\u00e1s en su propietario y podr\u00e1s asignar a otros propietarios del grupo. Solo los propietarios pueden eliminar a las personas de la conversaci\u00f3n.")),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Continuar"),onClick:this.$MessengerTurnOnJoinableConfirmationDialog2,type:'primary',use:'danger'})));};m.propTypes={thread:l.instanceOf(c('ImmutableObject')).isRequired};f.exports=m;}),null);
__d('MessengerInfoPanelGroupSection.react',['cx','fbt','FBToggleSwitch.react','immutable','MercuryIDs','MercuryParticipants','MercuryThreadActions','MessengerAdminGroupUtils','MessengerApprovalModeTypes','MessengerApprovalRequester.react','MessengerInfoPanelSection.react','MessengerJoinableModeType','MessengerTurnOnJoinableConfirmationDialog.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('MercuryThreadActions').get();j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.state={approvalQueue:c('immutable').Map()};}m.prototype.componentDidMount=function(){this.$MessengerInfoPanelGroupSection1(this.props.thread);};m.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement(c('MessengerInfoPanelSection.react'),{customColor:this.props.thread.custom_color,isCollapsible:true,isCollapsed:this.props.isOptionsCollapsed,onToggle:this.props.onOptionsToggle,title:i._("Opciones del grupo")},c('React').createElement('div',{className:"_3iho"},this.$MessengerInfoPanelGroupSection2(),this.$MessengerInfoPanelGroupSection3())),this.$MessengerInfoPanelGroupSection4()));};m.prototype.componentWillReceiveProps=function(n){this.$MessengerInfoPanelGroupSection1(n.thread);};m.prototype.$MessengerInfoPanelGroupSection1=function(n){var o=n&&n.approval_queue_ids&&n.approval_queue_ids;if(o)c('MercuryParticipants').getMulti(o,function(p){this.setState({approvalQueue:c('immutable').Map(p)});}.bind(this));};m.prototype.$MessengerInfoPanelGroupSection5=function(n,o){var p=c('MessengerAdminGroupUtils').isAdmin(o.admin_ids,c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer));if(n===c('MessengerJoinableModeType').JOINABLE&&!p){e(['MessengerActions'],function(q){q.showDialog(c('MessengerTurnOnJoinableConfirmationDialog.react'),{thread:o});});}else l.setJoinableMode(n,o);};m.prototype.$MessengerInfoPanelGroupSection2=function(){var n=this.props.thread,o=n.joinable_mode.link;if(!c('MessengerAdminGroupUtils').showJoinableLink(n))return null;return (c('React').createElement('div',{className:"_3szn _3szo"},c('React').createElement('div',{className:"_3szq"},i._("Compartir el enlace"),c('React').createElement('div',{className:"_3ihp _3oh-"},o))));};m.prototype.$MessengerInfoPanelGroupSection3=function(){var n=this.props,o=n.viewer,p=n.thread,q=c('MessengerAdminGroupUtils').isApprovalOpenThread(p);if(!c('MessengerAdminGroupUtils').showJoinableApprovalToggle(p,o))return null;return (c('React').createElement('div',{className:"_3szn _3szo"},c('React').createElement('div',{className:"_3szq"},i._("Aprobaci\u00f3n de nuevos miembros"),c('React').createElement('div',{className:"_3ihp"},i._("Aprueba qui\u00e9n puede unirse al grupo"))),c('React').createElement('div',{className:"_3ihq"},c('React').createElement(c('FBToggleSwitch.react'),{animate:true,checked:!q,onToggle:function r(s){return (l.setApprovalMode(s?c('MessengerApprovalModeTypes').APPROVALS:c('MessengerApprovalModeTypes').OPEN,p));}}))));};m.prototype.$MessengerInfoPanelGroupSection4=function(){var n=this.props,o=n.viewer,p=n.thread,q=0;if(p&&p.approval_queue_ids&&p.approval_queue_ids.length)q=p.approval_queue_ids.length;if(!c('MessengerAdminGroupUtils').showApprovalQueue(p,o))return null;return (c('React').createElement(c('MessengerInfoPanelSection.react'),{customColor:this.props.thread.custom_color,isCollapsible:true,isCollapsed:this.props.isApprovalsCollapsed,onToggle:this.props.onApprovalToggle,title:i._("Solicitudes pendientes ({pendingRequestCount})",[i.param('pendingRequestCount',q)])},c('React').createElement('div',{className:"_3iho _3oh-"},this.state.approvalQueue.map(function(r){return (c('React').createElement(c('MessengerApprovalRequester.react'),{key:r.id,imageSRC:r.image_src,isMessengerUser:r.is_messenger_user,name:r.name,threadFBID:this.props.thread.thread_fbid,userID:c('MercuryIDs').getUserIDFromParticipantID(r.id)}));}.bind(this)).toArray())));};f.exports=m;}),null);
__d('MessengerMakeAsOwnerDialog.react',['MessengerAdminGroupUtils','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$MessengerMakeAsOwnerDialog1=function(q){this.props.onToggle&&this.props.onToggle(false);this.props.onMakeOwner&&this.props.onMakeOwner(q);}.bind(this),m;}k.prototype.render=function(){var l=c('MessengerAdminGroupUtils').getMakeOwnerTitleText(this.props.isUserViewer,this.props.name),m=c('MessengerAdminGroupUtils').getMakeOwnerBodyText(this.props.isUserViewer,this.props.name),n=c('MessengerAdminGroupUtils').getMakeOwnerButtonText(this.props.isUserViewer,this.props.name);return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,l),c('React').createElement(c('MessengerDialogBody.react'),null,m),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:n,onClick:this.$MessengerMakeAsOwnerDialog1,type:'primary',use:'danger'})));};k.propTypes={onMakeOwner:j.func,onToggle:j.func.isRequired,name:j.string.isRequired,isUserViewer:j.bool.isRequired};f.exports=k;}),null);
__d('MessengerRemoveAsOwnerDialog.react',['fbt','MessengerAdminGroupUtils','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerRemoveAsOwnerDialog1=function(r){this.props.onToggle&&this.props.onToggle(false);this.props.onRemove&&this.props.onRemove(r);}.bind(this),n;}l.prototype.render=function(){var m=c('MessengerAdminGroupUtils').getRemoveOwnerBodyText(this.props.isUserViewer,this.props.isLastAdminInThread,this.props.name);return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("\u00bfEliminar de la lista de propietarios del grupo?")),c('React').createElement(c('MessengerDialogBody.react'),null,m),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Eliminar propietario"),onClick:this.$MessengerRemoveAsOwnerDialog1,type:'primary',use:'danger'})));};l.propTypes={onRemove:k.func,onToggle:k.func.isRequired,name:k.string.isRequired,isLastAdminInThread:k.bool.isRequired,isUserViewer:k.bool.isRequired};f.exports=l;}),null);
__d('MessengerRemoveFromGroupDialog.react',['fbt','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerRemoveFromGroupDialog1=function(r){this.props.onToggle&&this.props.onToggle(false);this.props.onRemove&&this.props.onRemove(r);}.bind(this),n;}l.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Eliminar del grupo")),c('React').createElement(c('MessengerDialogBody.react'),null,h._("\u00bfSeguro que quieres eliminar a esta persona del grupo? Ya no podr\u00e1 enviar ni recibir mensajes.")),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Eliminar"),onClick:this.$MessengerRemoveFromGroupDialog1,type:'primary',use:'danger'})));};l.propTypes={onRemove:k.func,onToggle:k.func};f.exports=l;}),null);
__d('MessengerInfoPanelContactActions.react',['cx','fbt','ImmutableObject','MercuryIDs','MercuryParticipants','MercuryThreads','MessengerActions','MessengerAdminGroupUtils','MessengerContactActions','MessengerMakeAsOwnerDialog.react','MessengerMenu.react','MessengerPopoverMenu.react','MessengerRemoveAsOwnerDialog.react','MessengerRemoveFromGroupDialog.react','MessengerStateStore','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('MessengerMenu.react').Item,k=c('MessengerMenu.react').Separator,l=c('React').PropTypes,m=c('React').createClass({displayName:'MessengerInfoPanelContactActions',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MessengerStateStore'))],propTypes:{adminIds:l.arrayOf(l.string),extrasEnabled:l.bool.isRequired,contact:l.instanceOf(c('ImmutableObject')).isRequired,isOpen:l.bool,onAction:l.func.isRequired,onToggle:l.func.isRequired,viewer:l.string.isRequired},statics:{calculateState:function n(o){var p=c('MercuryThreads').getForFBID(o.viewer),q=c('MessengerStateStore').getState().activeThreadID,r=q?p.getOrFetch(q):null;return {thread:r};}},render:function n(){var o=this._isViewerAdmin(),p=c('MessengerAdminGroupUtils').isAdmin(this.props.adminIds,this.props.contact.uid),q=this._isUserViewer(),r=c('MessengerAdminGroupUtils').canRemoveAdmin(o,p,this.state.thread)?c('React').createElement(j,{label:i._("Eliminar de la lista de administradores"),onclick:this._handleRemoveAsOwnerClick}):null,s=null,t=c('MessengerAdminGroupUtils').canMakeOthersAdmins(o,p,this.state.thread),u=c('MessengerAdminGroupUtils').canMakeSelfAdmin(q,this.state.thread);if(t||u)s=c('React').createElement(j,{label:i._("Nombrar administrador"),onclick:this._hanleMakeOwnerClick});var v=void 0;if(q){if(s||r){v=c('React').createElement(c('MessengerMenu.react'),null,s,r);}else return null;}else v=c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(j,{label:i._("Enviar mensaje"),onclick:this._makeActionHandler(c('MessengerContactActions').MESSAGE)}),this.props.contact.href?c('React').createElement(j,{label:i._("Ver perfil"),onclick:this._makeActionHandler(c('MessengerContactActions').PROFILE)}):null,s,r,this._renderExtras());return (c('React').createElement(c('MessengerPopoverMenu.react'),{menu:v,onHide:function(){return this.props.onToggle(false);}.bind(this),onShow:function(){return this.props.onToggle(true);}.bind(this)},c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_57gs"+(this.props.isOpen?' '+"_57gt":'')),onClick:this._handleClick,role:'button',tabIndex:0})));},_renderExtras:function n(){if(!this.props.extrasEnabled)return null;var o=[c('React').createElement(k,{key:'separator'})],p=this._isViewerAdmin();if(c('MessengerAdminGroupUtils').canRemoveFromGroup(p,this.state.thread))o.push(c('React').createElement(j,{key:'remove-from-group',label:i._("Eliminar del grupo"),onclick:this._handleRemoveClick}));return o.length>=2?o:null;},_handleClick:function n(o){o.stopPropagation();o.preventDefault();},_makeActionHandler:function n(o){return function(p){this._handleClick(p);this.props.onAction(o,p);}.bind(this);},_handleRemoveClick:function n(o){this._handleClick(o);c('MessengerActions').showDialog(c('MessengerRemoveFromGroupDialog.react'),{onToggle:this._handleDialogToggle,onRemove:this._handleDialogRemoveClick});},_handleRemoveAsOwnerClick:function n(o){this._handleClick(o);var p=c('MercuryParticipants').getNow(this.props.contact.uid);c('MessengerActions').showDialog(c('MessengerRemoveAsOwnerDialog.react'),{onToggle:this._handleDialogToggle,onRemove:this._handleOwnerRemoveClick,name:p&&p.name,isUserViewer:this._isUserViewer(),isLastAdminInThread:this.props.adminIds&&this.props.adminIds.length===1});},_handleDialogRemoveClick:function n(o){this.props.onAction(c('MessengerContactActions').REMOVE,o);},_handleOwnerRemoveClick:function n(o){this.props.onAction(c('MessengerContactActions').REMOVE_OWNER,o);},_hanleMakeOwnerClick:function n(o){this._handleClick(o);var p=c('MercuryParticipants').getNow(this.props.contact.uid);c('MessengerActions').showDialog(c('MessengerMakeAsOwnerDialog.react'),{onToggle:this._handleDialogToggle,onMakeOwner:this._handleOwnerAddClick,name:p&&p.name,isUserViewer:this._isUserViewer()});},_handleOwnerAddClick:function n(o){this.props.onAction(c('MessengerContactActions').ADD_OWNER,o);},_handleDialogToggle:function n(o){if(!o)c('MessengerActions').hideDialog();},_isUserViewer:function n(){return c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer)===this.props.contact.uid;},_isViewerAdmin:function n(){return c('MessengerAdminGroupUtils').isViewerAdmin(this.props.adminIds,this.props.viewer);}});f.exports=m;}),null);
__d("MessengerSortParticipants",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={sortAlphabeticalWithAdmins:function i(j,k){var l=k.filter(function(n){return !!n&&j&&j.indexOf(n.id)!==-1;}).toArray().sort(function(n,o){return n.name.localeCompare(o.name);}),m=k.filter(function(n){return !!n&&(!j||j.indexOf(n.id)===-1);}).toArray().sort(function(n,o){return n.name.localeCompare(o.name);});return l.concat(m);}};f.exports=h;}),null);
__d('MessengerInfoPanelPeopleSection.react',['cssVar','cx','fbt','immutable','ImmutableObject','Link.react','MessengerAddIconSVG.react','MessengerAdminGroupUtils','MessengerContactList.react','MessengerInfoPanelContactActions.react','MessengerInfoPanelSection.react','MessengerSortParticipants','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;n.prototype.render=function(){var o=this.props,p=o.adminIds,q=o.contactAdapter,r=o.isCollapsed,s=o.isViewerSubscribed,t=o.onContactAction,u=o.onContactSelect,v=o.onToggle,w=o.participants,x=o.thread,y=o.viewer;return (c('React').createElement(c('MessengerInfoPanelSection.react'),{customColor:this.props.thread.custom_color,isCollapsible:true,isCollapsed:r,onToggle:v,title:j._("Personas")},this.$MessengerInfoPanelPeopleSection1(),c('React').createElement(c('MessengerContactList.react'),{actionsClass:c('MessengerInfoPanelContactActions.react'),className:"_4wc-",contactAdapter:q,disableRole:true,extraActionsEnabled:s,listSections:c('immutable').OrderedMap([[null,c('MessengerSortParticipants').sortAlphabeticalWithAdmins(p,w)]]),onSelect:u,onAction:t,viewer:y,adminIds:p,thread:x})));};n.prototype.$MessengerInfoPanelPeopleSection1=function(){if(!this.props.canViewerReply)return null;var o=c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread)?j._("Invitar"):j._("Agregar personas"),p=this.props.thread.custom_color||"#0084ff";return (c('React').createElement(c('Link.react'),{className:"_4rph",onClick:this.props.onAddPeopleClick},c('React').createElement(c('MessengerAddIconSVG.react'),{className:"_4rpi",customColor:p}),c('React').createElement('div',{className:"_4rpj"},o)));};function n(){k.apply(this,arguments);}n.propTypes={adminIds:m.arrayOf(m.string),canViewerReply:m.bool.isRequired,contactAdapter:m.func.isRequired,isCollapsed:m.bool.isRequired,isViewerSubscribed:m.bool.isRequired,onAddPeopleClick:m.func.isRequired,onContactAction:m.func.isRequired,onContactSelect:m.func.isRequired,onToggle:m.func.isRequired,participants:m.instanceOf(c('immutable').Map).isRequired,thread:m.instanceOf(c('ImmutableObject')).isRequired,viewer:m.string.isRequired};f.exports=n;}),null);
__d('MessengerInfoPanelEmoji.react',['cx','fbt','Bootloader','EmojiLikeConstants','EmojiLikeCxData','Image.react','ImmutableObject','Keys','MercuryConfig','MessengerActions','MessengerHotLikeOutlineSVG.react','React','MercuryShareAttachmentRenderLocations'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MessengerInfoPanelEmoji2=function(event){event.preventDefault();this.$MessengerInfoPanelEmoji5();}.bind(this),this.$MessengerInfoPanelEmoji3=function(event){if(event.keyCode===c('Keys').RETURN){event.preventDefault();this.$MessengerInfoPanelEmoji5();}}.bind(this),this.$MessengerInfoPanelEmoji6=function(){if(this.$MessengerInfoPanelEmoji1)this.$MessengerInfoPanelEmoji1.focus();}.bind(this),this.$MessengerInfoPanelEmoji4=function(s){this.$MessengerInfoPanelEmoji1=s;}.bind(this),o;}m.prototype.render=function(){if(!this.props.thread.customization_enabled)return null;var n=c('MercuryConfig').MessengerNewEmojiGK&&this.props.thread.custom_like_icon&&this.props.thread.custom_like_icon.emoji?c('EmojiLikeCxData').getNewEmojiData(this.props.thread.custom_like_icon.emoji,c('EmojiLikeConstants').size.SMALL):null,o=n&&n.url?c('React').createElement(c('Image.react'),{src:n.url,className:"_12cp"}):c('React').createElement(c('MessengerHotLikeOutlineSVG.react'),{className:"_12cq",color:this.props.thread.custom_color?this.props.thread.custom_color:'',height:'60%',location:c('MercuryShareAttachmentRenderLocations').MESSENGER});return c('React').createElement('div',{className:"_3szn _3szo",onClick:this.$MessengerInfoPanelEmoji2,onKeyDown:this.$MessengerInfoPanelEmoji3,ref:this.$MessengerInfoPanelEmoji4,role:'button',tabIndex:'0'},c('React').createElement('div',{className:"_3szp"},o),c('React').createElement('div',{className:"_3szq"},i._("Cambiar emoji")));};m.prototype.$MessengerInfoPanelEmoji5=function(){c('Bootloader').loadModules(["MessengerChangeEmojiDialog.react"],function(n){c('MessengerActions').showDialog(n,{currentEmoji:this.props.thread.custom_like_icon?this.props.thread.custom_like_icon.emoji:String.fromCodePoint.apply(String,c('EmojiLikeConstants').FB_THUMBS_UP_EMOJI),onSave:this.props.onChange,onClose:this.$MessengerInfoPanelEmoji6});}.bind(this),'MessengerInfoPanelEmoji.react');};m.propTypes={thread:l.instanceOf(c('ImmutableObject')).isRequired,viewer:l.string.isRequired,onChange:l.func.isRequired};f.exports=m;}),null);
__d('MessengerInfoPanelManageMessages.react',['cx','fbt','Bootloader','ImmutableObject','MercuryConfig','MercuryIDs','MercuryParticipants','MNCommerceDialogStateActions','MNCommercePromotionBlockDataManager','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MessengerInfoPanelManageMessages3=function(s,t){return c('MNCommercePromotionBlockDataManager').block(s,t);},this.$MessengerInfoPanelManageMessages2=function(event){event.preventDefault();c('Bootloader').loadModules(["MNCommercePromotionManageBlockDialogContainer.react"],function(s){c('MNCommerceDialogStateActions').showDialog(s,{pageID:this.props.thread.other_user_fbid,onConfirmButtonClick:this.$MessengerInfoPanelManageMessages3});}.bind(this),'MessengerInfoPanelManageMessages.react');}.bind(this),o;}m.prototype.render=function(){if(!this.$MessengerInfoPanelManageMessages1()||!c('MercuryConfig').WWWMessengerManageButtonGK)return null;return c('React').createElement('div',{className:"_3szn _3szo"},c('React').createElement('div',{className:"_3szp"}),c('React').createElement('span',{className:"_3szq",onClick:this.$MessengerInfoPanelManageMessages2},i._("Administrar mensajes")));};m.prototype.$MessengerInfoPanelManageMessages1=function(){var n=c('MercuryIDs').getParticipantIDFromFromThreadID(this.props.thread.thread_id);if(!n)return false;var o=c('MercuryParticipants').getNow(n);return !!(o&&o.is_business_enabled);};m.propTypes={thread:l.instanceOf(c('ImmutableObject')).isRequired,viewer:l.string.isRequired};f.exports=m;}),null);
__d('MessengerInfoPanelManageReview.react',['cx','fbt','Bootloader','ImmutableObject','MercuryConfig','MercuryIDs','MercuryParticipants','MNCommerceDialogStateActions','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MessengerInfoPanelManageReview2=function(event){event.preventDefault();c('Bootloader').loadModules(["MNCommerceReviewDialogContainer.react"],function(s){c('MNCommerceDialogStateActions').showDialog(s,{pageID:this.props.thread.other_user_fbid,onConfirmButtonClick:this.$MessengerInfoPanelManageReview3});}.bind(this),'MessengerInfoPanelManageReview.react');}.bind(this),o;}m.prototype.render=function(){if(!this.$MessengerInfoPanelManageReview1()||!c('MercuryConfig').MessengerPlatformBotReviewUsers)return null;return c('React').createElement('div',{className:"_3szn _3szo"},c('React').createElement('div',{className:"_3szp"}),c('React').createElement('span',{className:"_3szq",onClick:this.$MessengerInfoPanelManageReview2},i._("Hacer un comentario")));};m.prototype.$MessengerInfoPanelManageReview1=function(){var n=c('MercuryIDs').getParticipantIDFromFromThreadID(this.props.thread.thread_id);if(!n)return false;var o=c('MercuryParticipants').getNow(n);return !!(o&&o.accepts_messenger_user_feedback);};m.prototype.$MessengerInfoPanelManageReview3=function(n,o,p){if(o===0)return;c('Bootloader').loadModules(["MessengerPlatformBotReviewWriteDataManager"],function(q){q.review(n,o,p.trim());},'MessengerInfoPanelManageReview.react');};m.propTypes={thread:l.instanceOf(c('ImmutableObject')).isRequired,viewer:l.string.isRequired};f.exports=m;}),null);
__d('MercuryThreadMuter',['AsyncDialog','AsyncRequest','DOM','MercuryThreadInfo'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={showMuteChangeDialog:function i(j,k){c('AsyncDialog').send(new (c('AsyncRequest'))('/ajax/mercury/mute_thread_dialog.php').setRelativeTo(k),function(l){l.subscribe('confirm',function(){this.hide();var m=void 0;c('DOM').scry(this.getRoot(),'input[type="radio"]').forEach(function(n){if(n.checked)m=n.value;});m=h.convertRawMuteSetting(m);e(['MercuryThreadActions'],function(n){n.get().updateMuteSetting(j,m);});}.bind(l));});},convertRawMuteSetting:function i(j){switch(j){case 'always':return -1;case '30minutes':return 1800;case '1hour':return 3600;case '8hours':return 8*3600;case '24hours':return 24*3600;case '8am':var k,l=new Date(),m=new Date();m.setHours(8);m.setMinutes(0);m.setSeconds(0);if(m>l){k=m-l;}else k=m-l+24*3600*1000;return k/1000;default:return 0;}}};f.exports=h;}),null);
__d('MessengerMuteDialog.react',['fbt','MercuryThreadMuter','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','messengerDomIDsRe','MessengerRadioList.react','React','ReactDOM'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('messengerDomIDsRe').ids,l=c('MessengerRadioList.react').Item,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state={muteSetting:'30minutes'},this.$MessengerMuteDialog2=function(){var t=c('MercuryThreadMuter').convertRawMuteSetting(this.state.muteSetting);this.props.onMute(t);this.props.onToggle&&this.props.onToggle(false,t);}.bind(this),this.$MessengerMuteDialog1=function(t){this.setState({muteSetting:t});}.bind(this),p;}n.prototype.componentDidMount=function(){var o=c('ReactDOM').findDOMNode(this.refs.confirmButton);if(o&&o.focus)o.focus();};n.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle,titleID:k.MUTE_DIALOG_TITLE},c('React').createElement(c('MessengerDialogHeader.react'),{id:k.MUTE_DIALOG_TITLE},h._("Silenciar conversaci\u00f3n")),c('React').createElement(c('MessengerDialogBody.react'),null,c('React').createElement(c('MessengerRadioList.react'),{name:'messengerMuteOptions',selectedValue:this.state.muteSetting,onValueChange:this.$MessengerMuteDialog1},c('React').createElement(l,{value:'30minutes'},h._("Durante 30 minutos")),c('React').createElement(l,{value:'1hour'},h._("Durante 1 hora")),c('React').createElement(l,{value:'8hours'},h._("Durante 8 horas")),c('React').createElement(l,{value:'24hours'},h._("Durante 24 horas")),c('React').createElement(l,{value:'always'},h._("Indefinidamente")))),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Silenciar"),onClick:this.$MessengerMuteDialog2,ref:'confirmButton',type:'primary'})));};n.propTypes={onMute:m.func.isRequired,onToggle:m.func.isRequired};f.exports=n;}),null);
__d('MessengerEditNicknamesDialog.react',['cx','fbt','BootloadedComponent.react','immutable','ImmutableObject','JSResource','MercuryIDs','MessengerAdminGroupUtils','MessengerActions','MessengerContactList.react','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogCancelButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerScrollableArea.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('BootloadedComponent.react').create(c('JSResource')('MessengerEditNicknameDialog.react').__setRef('MessengerEditNicknamesDialog.react')),m=c('React').PropTypes,n=350;j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$MessengerEditNicknamesDialog2=function(u){var v=c('MercuryIDs').getUserIDFromParticipantID(u.id),w=u.name,x='';if(this.props.thread.custom_nickname&&this.props.thread.custom_nickname[v]){w=this.props.thread.custom_nickname[v];x=u.name;}return new (c('ImmutableObject'))({alias:u.alias,uid:u.id,photo:u.image_src,title:w,subtitle:x,type:u.type,isMessengerUser:u.is_messenger_user,href:u.href});}.bind(this),this.$MessengerEditNicknamesDialog3=function(u){var v=c('MercuryIDs').getUserIDFromParticipantID(u.id);c('MessengerActions').showDialog(l,{bootloadPlaceholder:c('React').createElement('div',null),contact:u,currentNickname:this.props.thread.custom_nickname&&this.props.thread.custom_nickname[v],onToggle:this.$MessengerEditNicknamesDialog1,onSave:this.$MessengerEditNicknamesDialog4,viewer:this.props.viewer});}.bind(this),this.$MessengerEditNicknamesDialog4=function(u,v){this.props.onSave(u,v);}.bind(this),this.$MessengerEditNicknamesDialog1=function(u){if(!u){this.props.onClose&&this.props.onClose();c('MessengerActions').hideDialog();}}.bind(this),q;}o.prototype.render=function(){var p=c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread),q=this.props.participants.filter(function(r){var s=c('MercuryIDs').getUserIDFromParticipantID(r.id);return !!r&&(p&&s===this.props.viewer||!p);}.bind(this)).toArray();return c('React').createElement(c('MessengerDialog.react'),{className:"_4h9n",shown:true,onToggle:this.$MessengerEditNicknamesDialog1,ref:'dialog',type:'default',width:n},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Editar apodos"))),c('React').createElement(c('MessengerDialogBody.react'),{className:"_4h9o"},c('React').createElement(c('MessengerScrollableArea.react'),{height:'100%',ref:'scrollable'},c('React').createElement(c('MessengerContactList.react'),{contactAdapter:this.$MessengerEditNicknamesDialog2,disableRole:true,listSections:c('immutable').OrderedMap([[null,q]]),onSelect:this.$MessengerEditNicknamesDialog3,rowClassName:"_44kr",viewer:this.props.viewer,thread:this.props.thread}))));};o.propTypes={participants:m.instanceOf(c('immutable').Map).isRequired,thread:m.instanceOf(c('ImmutableObject')).isRequired,viewer:m.string.isRequired,onSave:m.func.isRequired,onClose:m.func};f.exports=o;}),null);
__d('MessengerEditNicknamesIconSVG.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){return (c('React').createElement('div',{className:this.props.className},c('React').createElement('svg',{viewBox:'0 0 38 37.01'},c('React').createElement('title',null,'nicknames'),c('React').createElement('path',{d:'M899,1204h38v2H899v-2Z',fillRule:'evenodd',fill:this.props.customColor,transform:'translate(-898.99 -1168.99)'}),c('React').createElement('path',{d:'M927.57,1172.17l-22.32,22.36-0.72,5,5-.72,22.32-22.36ZM908.8, 1196.6l-1.41-1.41L929,1173.61l1.41,1.41Z',fillRule:'evenodd',fill:this.props.customColor,transform:'translate(-898.99 -1168.99)'}),c('React').createElement('path',{d:'M932.93,1175.36l2.07-2.13a6,6,0,0,0-1.33-3,5.72,5.72,0,0,0-2.91-1.28l-2.07,2.13Z',fillRule:'evenodd',fill:this.props.customColor,transform:'translate(-898.99 -1168.99)'}))));};function k(){h.apply(this,arguments);}k.propTypes={className:j.string,customColor:j.string.isRequired};f.exports=k;}),null);
__d('MessengerInfoPanelNicknames.react',['cssVar','cx','fbt','immutable','ImmutableObject','Keys','MessengerActions','MessengerEditNicknamesDialog.react','MessengerEditNicknamesIconSVG.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$MessengerInfoPanelNicknames2=function(event){event.preventDefault();this.$MessengerInfoPanelNicknames5();}.bind(this),this.$MessengerInfoPanelNicknames3=function(event){if(event.keyCode===c('Keys').RETURN){event.preventDefault();this.$MessengerInfoPanelNicknames5();}}.bind(this),this.$MessengerInfoPanelNicknames6=function(){if(this.$MessengerInfoPanelNicknames1)this.$MessengerInfoPanelNicknames1.focus();}.bind(this),this.$MessengerInfoPanelNicknames4=function(t){this.$MessengerInfoPanelNicknames1=t;}.bind(this),p;}n.prototype.render=function(){if(!this.props.thread.customization_enabled)return null;var o=this.props.thread.custom_color||"#0084ff";return c('React').createElement('div',{className:"_3szn _3szo",onClick:this.$MessengerInfoPanelNicknames2,onKeyDown:this.$MessengerInfoPanelNicknames3,ref:this.$MessengerInfoPanelNicknames4,role:'button',tabIndex:'0'},c('React').createElement('div',{className:"_3szp"},c('React').createElement(c('MessengerEditNicknamesIconSVG.react'),{className:"_5odt",customColor:o})),c('React').createElement('div',{className:"_3szq"},j._("Editar apodos")));};n.prototype.$MessengerInfoPanelNicknames5=function(){c('MessengerActions').showDialog(c('MessengerEditNicknamesDialog.react'),{thread:this.props.thread,participants:this.props.participants,viewer:this.props.viewer,onSave:this.props.onChange,onClose:this.$MessengerInfoPanelNicknames6});};n.propTypes={participants:m.instanceOf(c('immutable').Map).isRequired,thread:m.instanceOf(c('ImmutableObject')).isRequired,viewer:m.string.isRequired,onChange:m.func.isRequired};f.exports=n;}),null);
__d('MessengerCustomThreadColorButton.react',['cx','Keys','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerCustomThreadColorButton1=function(event){event.preventDefault();this.props.onChoose(this.props.colorChoice);}.bind(this),this.$MessengerCustomThreadColorButton2=function(event){if(event.keyCode===c('Keys').RETURN){event.preventDefault();this.props.onChoose(this.props.colorChoice);}}.bind(this),n;}l.prototype.render=function(){return c('React').createElement('div',{'aria-label':this.props.colorName,'aria-pressed':this.props.isSelected,className:"_5dr3",onClick:this.$MessengerCustomThreadColorButton1,onKeyDown:this.$MessengerCustomThreadColorButton2,role:'button',tabIndex:'0'},c('React').createElement('div',{className:"_5dr4",style:{backgroundColor:this.props.colorChoice}}));};l.propTypes={colorChoice:k.string.isRequired,colorName:k.string.isRequired,isSelected:k.bool.isRequired,onChoose:k.func.isRequired};f.exports=l;}),null);
__d('MessengerChangeColorDialog.react',['ix','cssVar','cx','fbt','Grid.react','Image.react','MessagingThreadCustomizationConfig','MessengerActions','MessengerCustomThreadColorButton.react','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React','fbglyph'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n=c('Grid.react').GridItem,o='Unknown Color',p=c('React').PropTypes;l=babelHelpers.inherits(q,c('React').PureComponent);m=l&&l.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=m.constructor).call.apply(r,[this].concat(u)),this.$MessengerChangeColorDialog1=function(w){if(w!=this.props.currentColor)this.props.onSave&&this.props.onSave(w);this.$MessengerChangeColorDialog2(false);}.bind(this),this.$MessengerChangeColorDialog2=function(w){if(!w){this.props.onClose&&this.props.onClose();c('MessengerActions').hideDialog();}}.bind(this),s;}q.prototype.render=function(){var r=["#0084ff"].concat(c('MessagingThreadCustomizationConfig').colorChoices),s=c('MessagingThreadCustomizationConfig').colorNames,t=r.map(function(u){return c('React').createElement(n,{key:u,className:"_gs0"},c('React').createElement('div',null,u.toLowerCase()==this.props.currentColor.toLowerCase()?c('React').createElement(c('Image.react'),{className:"_gs2",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/checkmark_20_white.png")}):null,c('React').createElement(c('MessengerCustomThreadColorButton.react'),{colorChoice:u,colorName:s[u]||o,isSelected:u===this.props.currentColor,onChoose:this.$MessengerChangeColorDialog1})));}.bind(this));return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerChangeColorDialog2,className:"_gs3",width:335},c('React').createElement(c('MessengerDialogHeader.react'),null,k._("Elige un color para esta conversaci\u00f3n")),c('React').createElement(c('MessengerDialogBody.react'),null,c('React').createElement('div',{className:"_28he"},k._("Todas las personas que participan en esta conversaci\u00f3n lo ver\u00e1n.")),c('React').createElement(c('Grid.react'),{cols:5,className:"_gs4"},t)),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null)));};q.propTypes={currentColor:p.string.isRequired,onSave:p.func,onClose:p.func};f.exports=q;}),null);
__d('MessengerInfoPanelThreadOptionsContainer.react',['fbt','immutable','ImmutableObject','MercuryThreadActions','MessagingThreadCustomizationSource','MessengerAdminGroupUtils','MessengerConfig','MessengerInfoPanelManageMessages.react','MessengerInfoPanelManageReview.react','MessengerInfoPanelMuteSettingsContainer.react','messengerInfoPanelCustomColorReact','MessengerInfoPanelEmoji.react','MessengerInfoPanelNicknames.react','MessengerInfoPanelSection.react','messengerInfoPanelSearchReact','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('messengerInfoPanelCustomColorReact').comp,l=c('messengerInfoPanelSearchReact').comp,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$MessengerInfoPanelThreadOptionsContainer4=function(t){this.$MessengerInfoPanelThreadOptionsContainer5().updateMuteSetting(this.props.thread.thread_id,t);}.bind(this),this.$MessengerInfoPanelThreadOptionsContainer1=function(t){this.$MessengerInfoPanelThreadOptionsContainer5().changeThreadColor(this.props.thread.thread_id,t,c('MessagingThreadCustomizationSource').SETTINGS);}.bind(this),this.$MessengerInfoPanelThreadOptionsContainer2=function(t){this.$MessengerInfoPanelThreadOptionsContainer5().changeThreadEmoji(this.props.thread.thread_id,t,c('MessagingThreadCustomizationSource').SETTINGS);}.bind(this),this.$MessengerInfoPanelThreadOptionsContainer3=function(t,u){this.$MessengerInfoPanelThreadOptionsContainer5().changeThreadNicknames(this.props.thread.thread_id,t,u,c('MessagingThreadCustomizationSource').SETTINGS);}.bind(this),p;}n.prototype.render=function(){var o=this.props.thread;if(!o.is_subscribed)return null;var p={};if(c('MessengerConfig').CollapsibleThreadOptions)p={customColor:this.props.thread.custom_color,isCollapsible:true,isCollapsed:this.props.isCollapsed,onToggle:this.props.onToggle,title:h._("Opciones")};var q=c('MessengerAdminGroupUtils').canUpdateThreadCustomization(o,this.props.viewer)?c('React').createElement(k,{thread:o,viewer:this.props.viewer,onChange:this.$MessengerInfoPanelThreadOptionsContainer1}):null,r=c('MessengerAdminGroupUtils').canUpdateThreadCustomization(o,this.props.viewer)?c('React').createElement(c('MessengerInfoPanelEmoji.react'),{thread:o,viewer:this.props.viewer,onChange:this.$MessengerInfoPanelThreadOptionsContainer2}):null;return c('React').createElement(c('MessengerInfoPanelSection.react'),p,c('React').createElement(l,{thread:o}),c('React').createElement(c('MessengerInfoPanelNicknames.react'),{participants:this.props.participants,thread:o,viewer:this.props.viewer,onChange:this.$MessengerInfoPanelThreadOptionsContainer3}),q,r,c('React').createElement(c('MessengerInfoPanelManageMessages.react'),{thread:o,viewer:this.props.viewer}),c('React').createElement(c('MessengerInfoPanelManageReview.react'),{thread:o,viewer:this.props.viewer}),c('React').createElement(c('MessengerInfoPanelMuteSettingsContainer.react'),{thread:o,viewer:this.props.viewer,onChange:this.$MessengerInfoPanelThreadOptionsContainer4}));};n.prototype.$MessengerInfoPanelThreadOptionsContainer5=function(){return c('MercuryThreadActions').getForFBID(this.props.viewer);};n.propTypes={isCollapsed:m.bool.isRequired,participants:m.instanceOf(c('immutable').Map).isRequired,thread:m.instanceOf(c('ImmutableObject')).isRequired,viewer:m.string.isRequired,onToggle:m.func.isRequired};f.exports=n;}),null);
__d('MessengerSharedPhotos.react',['cx','MercuryConfig','MessengerSharedPhoto.react','MessengerSpinner.react','MessagesViewerSetID','MessengerAttachmentViewer','MessengerSharedPhotosAlbumViewContainer.react','React','Relay','RelayQL','SpotlightViewer','SpotlightMessengerSharedMediaViewerContainer.react','URI','Vector','cancelAnimationFrame','requestAnimationFrame'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=10,m=80;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state={albumView:null,imagesLoaded:l,shownID:null},this.$MessengerSharedPhotos1=null,this.$MessengerSharedPhotos2=function(){c('cancelAnimationFrame')(this.$MessengerSharedPhotos1);var t=c('MercuryConfig').SharedPhotoNewView,u=t?this.props.sharedPhotoAndVideos:this.props.sharedPhotos;if(this.state.imagesLoaded<u.edges.length){this.$MessengerSharedPhotos1=c('requestAnimationFrame')(function(){this.setState({imagesLoaded:Math.min(u.edges.length,this.state.imagesLoaded+l)});}.bind(this));}else if(!this.props.allPhotosDisplayed)this.props.onAllPhotosDisplayed();}.bind(this),this.$MessengerSharedPhotos3=function(t){var u=c('Vector').getViewportDimensions().x,v=this.props.sharedPhotoAndVideos.edges.length,w=this.props.sharedPhotoAndVideos.edges.find(function(aa){return aa.node.id===t;});if(!w)return;var x=this.props.sharedPhotoAndVideos.edges.indexOf(w),y=(v-x)*m;if(y>u/2)return;var z=Math.ceil((u/2-y)/m);this.props.fetchMore(z);}.bind(this),this.$MessengerSharedPhotos4=function(t){var u=this.props,v=u.threadFBID,w=u.sharedPhotos.edges,x=new (c('URI'))('/ajax/messaging/attachments/sharedphotos.php').setQueryData({thread_id:v,image_id:t}),y=w.find(function(z){var aa=z.node;return aa.legacy_attachment_id===t;}).node;c('MessengerAttachmentViewer').bootstrapWithConfig({dimensions:y.original_dimensions.x+','+y.original_dimensions.y,disablePaging:w.length===1,endpoint:x,fbid:t,setID:c('MessagesViewerSetID').MESSAGES_VIEW_ALL_IN_THREAD,snapToPhoto:true,src:y.image.uri,threadFBID:this.props.threadFBID});}.bind(this),this.$MessengerSharedPhotos5=function(t){var u=this.props.sharedPhotoAndVideos,v=u.edges.find(function(w){var x=w.node;return x.id===t;});return v.node;}.bind(this),this.$MessengerSharedPhotos6=function(t){this.setState({shownID:t});}.bind(this),this.$MessengerSharedPhotos7=function(t){this.setState({shownID:t},function(){this.$MessengerSharedPhotos3(this.state.shownID);this.$MessengerSharedPhotos8();}.bind(this));}.bind(this),this.$MessengerSharedPhotos9=function(t){this.setState({shownID:t});}.bind(this),this.$MessengerSharedPhotos8=function(){this.setState({albumView:null});}.bind(this),this.$MessengerSharedPhotos10=function(t){this.setState({albumView:t,shownID:null});}.bind(this),this.$MessengerSharedPhotos11=function(t){this.setState({albumView:null,shownID:t});}.bind(this),this.$MessengerSharedPhotos12=function(){this.setState({shownID:null});}.bind(this),p;}n.prototype.componentDidMount=function(){this.$MessengerSharedPhotos2();};n.prototype.componentWillReceiveProps=function(o){if(o.threadFBID!==this.props.threadFBID)this.setState({imagesLoaded:l});};n.prototype.componentDidUpdate=function(){this.$MessengerSharedPhotos2();};n.prototype.componentWillUnmount=function(){c('cancelAnimationFrame')(this.$MessengerSharedPhotos1);};n.prototype.shouldComponentUpdate=function(o,p){var q=c('MercuryConfig').SharedPhotoNewView?o.sharedPhotoAndVideos:o.sharedPhotos,r=q.edges,s=q.pageInfo&&q.pageInfo.has_next_page,t=r.find(function(u){var v=u.node;return v.id===p.shownID;});if(!t&&s&&r.length<p.imagesLoaded){setTimeout(function(){return this.props.fetchMore(p.imagesLoaded);}.bind(this),1000);return false;}return true;};n.prototype.$MessengerSharedPhotos13=function(){return (c('React').createElement(c('SpotlightMessengerSharedMediaViewerContainer.react'),{onClosePhotoView:this.$MessengerSharedPhotos12,openAlbum:this.$MessengerSharedPhotos10,photoID:this.state.shownID,rootClassName:'',threadID:this.props.threadFBID,disableForward:false}));};n.prototype.$MessengerSharedPhotos14=function(){return (c('React').createElement(c('SpotlightViewer'),{className:"_3ode",onHide:this.$MessengerSharedPhotos8,open:true,ref:'spotlightViewer'},c('React').createElement(c('MessengerSharedPhotosAlbumViewContainer.react'),{onClick:this.$MessengerSharedPhotos11,onCloseSharedPhotos:this.$MessengerSharedPhotos8,threadID:this.props.threadFBID,viewedPhoto:this.state.albumView})));};n.prototype.$MessengerSharedPhotos15=function(){return (c('React').createElement('div',{className:"_2n20"},c('React').createElement(c('MessengerSpinner.react'),null)));};n.prototype.render=function(){var o=this.props,p=o.isLoadingImages,q=o.sharedPhotos,r=o.sharedPhotoAndVideos,s=c('MercuryConfig').SharedPhotoNewView,t=s?r:q,u=t.edges,v=this.state.imagesLoaded,w="_3m31",x=s?this.$MessengerSharedPhotos6:this.$MessengerSharedPhotos4,y=p?this.$MessengerSharedPhotos15():null,z=s&&this.state.shownID?this.$MessengerSharedPhotos13():null,aa=s&&this.state.albumView?this.$MessengerSharedPhotos14():null;return (c('React').createElement('div',null,z,aa,c('React').createElement('div',{className:"_40jj _5l-3"},u.slice(0,v).map(function(ba){var ca=ba.node;return (c('React').createElement(c('MessengerSharedPhoto.react'),{className:w,fbid:ca.legacy_attachment_id,key:ca.legacy_attachment_id,onClick:x,photoID:ca.id,uri:ca.image.uri}));})),y));};n.propTypes={allPhotosDisplayed:k.bool.isRequired,isLoadingImages:k.bool.isRequired,fetchMore:k.func.isRequired,onAllPhotosDisplayed:k.func.isRequired,sharedPhotos:k.object.isRequired,sharedPhotoAndVideos:k.object.isRequired,threadFBID:k.string.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{sharedPhotos:function o(){return function(){return {children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'legacy_attachment_id',kind:'Field',metadata:{},type:'ID'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{calls:[{kind:'Call',metadata:{},name:'width',value:{kind:'CallValue',callValue:250}},{kind:'Call',metadata:{},name:'height',value:{kind:'CallValue',callValue:250}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessageImage'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessageImagesEdge'},{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isRequisite:true},type:'PageInfo'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerSharedPhotos_react_SharedPhotosRelayQL',type:'MessageImagesConnection'};}();},sharedPhotoAndVideos:function o(){return function(){return {children:[{children:[{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'Node',type:'Node'},{children:[{fieldName:'legacy_attachment_id',kind:'Field',metadata:{},type:'ID'},{calls:[{kind:'Call',metadata:{},name:'width',value:{kind:'CallValue',callValue:250}},{kind:'Call',metadata:{},name:'height',value:{kind:'CallValue',callValue:250}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageImage',type:'MessageImage'},{children:[{fieldName:'legacy_attachment_id',kind:'Field',metadata:{},type:'ID'},{calls:[{kind:'Call',metadata:{},name:'width',value:{kind:'CallValue',callValue:250}},{kind:'Call',metadata:{},name:'height',value:{kind:'CallValue',callValue:250}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageVideo',type:'MessageVideo'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true,isRequisite:true},type:'MessageSharedPhotoAndVideo'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessageSharedPhotoAndVideoEdge'},{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isRequisite:true},type:'PageInfo'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerSharedPhotos_react_SharedPhotoAndVideosRelayQL',type:'MessageSharedPhotoAndVideoConnection'};}();}}});}),null);
__d('MessengerSharedPhotosContainer.react',['fbt','MessengerInfoPanelSection.react','MessengerSharedPhotos.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=10,k=c('React').createClass({displayName:'MessengerSharedPhotosContainer',propTypes:{customColor:i.string,clearForceFetch:i.func.isRequired,getIsScrolledToBottom:i.func.isRequired,getScrollableHeight:i.func.isRequired,isCollapsed:i.bool.isRequired,newViewGK:i.bool,onToggle:i.func.isRequired,sharedPhotos:i.object,threadFBID:i.string},getInitialState:function l(){return {allPhotosDisplayed:false,isLoadingImages:false};},componentWillReceiveProps:function l(m){if(m.threadFBID!==this.props.threadFBID)this.setState({allPhotosDisplayed:false});},componentDidMount:function l(){this._maybeLoadMore();},componentDidUpdate:function l(){this._maybeLoadMore();},_maybeLoadMore:function l(){var m=this.props,n=m.getIsScrolledToBottom,o=m.getScrollableHeight,p=m.isCollapsed,q=m.sharedPhotos,r=this.state.isLoadingImages;if(r||p||!q||!this.state.allPhotosDisplayed||!n()||!o())return;var s=this.props.newViewGK?q.message_shared_photo_and_video.page_info.has_next_page:q.message_images.page_info.has_next_page;if(!s)return;this.setState({isLoadingImages:true},function(){this.props.relay.setVariables({count:this.props.relay.variables.count+j},function(t){if(t.done||t.aborted)if(this.isMounted()){this.props.clearForceFetch();this.setState({allPhotosDisplayed:false,isLoadingImages:false});}}.bind(this));}.bind(this));},_loadMore:function l(m){if(m<=0)return;this.setState({isLoadingImages:true},function(){this.props.relay.setVariables({count:this.props.relay.variables.count+m},function(n){if(n.done||n.aborted)this.setState({isLoadingImages:false});}.bind(this));}.bind(this));},_handleAllPhotosDisplayed:function l(){this.setState({allPhotosDisplayed:true});},render:function l(){var m=this.props,n=m.isCollapsed,o=m.onToggle,p=m.sharedPhotos,q=m.threadFBID,r=this.state.isLoadingImages;if(!q||!p)return null;var s=this.props.newViewGK?p.message_shared_photo_and_video:p.message_images;if(!s.page_info.has_next_page&&s.count===0)return null;return (c('React').createElement(c('MessengerInfoPanelSection.react'),{customColor:this.props.customColor,isCollapsible:true,isCollapsed:n,onToggle:o,title:h._("Fotos compartidas")},c('React').createElement(c('MessengerSharedPhotos.react'),{allPhotosDisplayed:this.state.allPhotosDisplayed,fetchMore:this._loadMore,isLoadingImages:r,sharedPhotos:s,sharedPhotoAndVideos:s,onAllPhotosDisplayed:this._handleAllPhotosDisplayed,threadFBID:q})));}});f.exports=c('Relay').createContainer(k,{initialVariables:{newViewGK:false,count:j},fragments:{sharedPhotos:function l(m){return function(n,o){return {children:[{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[].concat.apply([],[{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true},type:'PageInfo'},{fieldName:'count',kind:'Field',metadata:{},type:'Int'},c('RelayQL').__frag(n)]),directives:[{kind:'Directive',name:'skip',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'newViewGK'}}]}],fieldName:'message_images',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'MessageImagesConnection'},{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[].concat.apply([],[{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true},type:'PageInfo'},{fieldName:'count',kind:'Field',metadata:{},type:'Int'},c('RelayQL').__frag(o)]),directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'newViewGK'}}]}],fieldName:'message_shared_photo_and_video',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'MessageSharedPhotoAndVideoConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerSharedPhotosContainer_react_SharedPhotosRelayQL',type:'MessageThread'};}(c('MessengerSharedPhotos.react').getFragment('sharedPhotos'),c('MessengerSharedPhotos.react').getFragment('sharedPhotoAndVideos'));}}});}),null);
__d('MessengerSharedPhotosContainerRoute',['RelayRoute','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='MessengerSharedPhotosContainerRoute';j.paramDefinitions={threadFBID:{type:'String',required:true},newViewGK:{type:'Boolean',required:false}};j.queries={sharedPhotos:function k(l,m){var n=m.newViewGK;return function(o){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'threadFBID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(o)]),fieldName:'message_thread',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'MessengerSharedPhotosContainerRoute',type:'MessageThread'};}(l.getFragment('sharedPhotos',{newViewGK:n}));}};f.exports=j;}),null);
__d('MessengerInfoPanelContactNameSection.react',['cx','ImmutableObject','MessengerLocalTime.react','MessengerPresenceStatus.react','React'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=function k(l){return (c('React').createElement('div',{className:"_2jnq"},l.renderedImage,c('React').createElement('div',{className:"_2jnt"},c('React').createElement('div',{className:"_3eur"},c('React').createElement('span',{className:"_3oh-"},l.contact.name)),c('React').createElement('div',{className:"_3eus"},c('React').createElement(c('MessengerPresenceStatus.react'),{isUserActive:l.isUserActive,lastActive:l.lastActive,platform:l.platform})),c('React').createElement('div',null,c('React').createElement(c('MessengerLocalTime.react'),{className:"_5uh",participantTimeZone:l.contact.timezone})))));};j.propTypes={contact:i.instanceOf(c('ImmutableObject')).isRequired,isUserActive:i.bool.isRequired,lastActive:i.string,platform:i.string,renderedImage:i.element.isRequired};f.exports=j;}),null);
__d('MessengerThreadPhotoUploader.react',['cx','fbt','FileInput','FileInputUploader','Link.react','MercuryConfig','React','ReactDOM','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'MessengerThreadPhotoUploader',_fileInput:null,_subscriptions:null,_uploader:null,_uploadIsInProgress:false,propTypes:{onComplete:j.func.isRequired,onFail:j.func,onStart:j.func,uri:j.string},getDefaultProps:function l(){return {uri:c('MercuryConfig').upload_url};},componentDidMount:function l(){var m=c('ReactDOM').findDOMNode(this.refs.input),n=new (c('FileInput'))(c('ReactDOM').findDOMNode(this.refs.form),c('ReactDOM').findDOMNode(this.refs.uploadButton),m),o=new (c('FileInputUploader'))(m).setURI(this.props.uri).setAllowCrossOrigin(true).setAllowCrossPageTransition(true).setData({images_only:true}),p=new (c('SubscriptionsHandler'))();p.addSubscriptions(o.subscribe('success',this._handleAllUploadsCompleted),o.subscribe('failure',this._handleLastUploadFailed));this._subscriptions=p;this._uploader=o;this._fileInput=n;},componentWillUnmount:function l(){if(!this._uploadIsInProgress)this._doUnmountComponents();},render:function l(){var m=i._("Click to change the image");return (c('React').createElement('form',{action:this.props.uri,method:'post',ref:'form'},c('React').createElement('input',{type:'hidden',name:'attach_id',ref:'attachID'}),c('React').createElement('input',{type:'hidden',name:'images_only',value:'true'}),c('React').createElement('div',{className:"_m _4q60 _2lyy"},c('React').createElement(c('Link.react'),{className:"_4q61 _2lyz",ref:'uploadButton'},i._("editar")),c('React').createElement('input',{type:'file',className:"_n",name:'attachment[]',accept:'.jpg,.png,.jpeg,.bmp,.tif,.tiff',ref:'input',onChange:this._handleFileInputChange,title:m}))));},_handleAllUploadsCompleted:function l(m,n){this._uploadIsInProgress=false;this.props.onComplete&&this.props.onComplete(m,n.response.payload);if(!this.isMounted())this._doUnmountComponents();},_handleLastUploadFailed:function l(m,n){this._uploadIsInProgress=false;this.props.onFail&&this.props.onFail(m,n);if(!this.isMounted())this._doUnmountComponents();},_handleFileInputChange:function l(m){if(m.target.value&&this._uploader){this._uploader.send();this._uploadIsInProgress=true;this.props.onStart&&this.props.onStart();}},_doUnmountComponents:function l(){this._subscriptions&&this._subscriptions.release();this._fileInput&&this._fileInput.destroy();delete this._subscriptions;delete this._uploader;}});f.exports=k;}),null);
__d('MessengerInfoPanelThreadNameSection.react',['cx','fbt','immutable','ImmutableObject','Keys','MercuryGenericConstants','MercuryThreadTitle.react','MessengerButton.react','MessengerSpinner.react','MessengerTextWithEmojiInput.react','MessengerThreadPhotoUploader.react','ReactComponentWithPureRenderMixin','React','ReactDOM','setImmediate'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'MessengerInfoPanelThreadNameSection',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{actionsEnabled:j.bool.isRequired,onThreadNameChange:j.func.isRequired,onThreadPhotoChange:j.func.isRequired,participants:j.instanceOf(c('immutable').Map).isRequired,renderedImage:j.element.isRequired,thread:j.instanceOf(c('ImmutableObject')).isRequired,viewer:j.string.isRequired},_clickGuard:false,getInitialState:function l(){return {isEditingName:false,isUploadingPhoto:false};},componentWillReceiveProps:function l(m){if(this.props.thread!==m.thread){var n=this.getInitialState();if(this.state.isEditingName)n.isEditingName=this.state.isEditingName;this.setState(n);}},componentDidUpdate:function l(m,n){if(n&&this.state.isEditingName&&!n.isEditingName)c('setImmediate')(function(){return this.refs.threadNameInput.focusInput();}.bind(this));},render:function l(){var m=this.state,n=m.isEditingName,o=m.isUploadingPhoto;return (c('React').createElement('div',{className:"_2jnq"},c('React').createElement('div',{className:"_2jnr"+(o?' '+"_2jns":'')},this.props.renderedImage,o?this._renderSpinner():null,this.props.actionsEnabled?c('React').createElement(c('MessengerThreadPhotoUploader.react'),{onComplete:this._handleThreadPhotoUploadComplete,onFail:this._handleThreadPhotoUploadFail,onStart:this._handleThreadPhotoUploadStart}):null),c('React').createElement('div',{className:"_2jnt"+(!n?' '+"_1sw_":'')+(!this.props.actionsEnabled?' '+"disabled":''),onClick:this._handleThreadTitleClick,onKeyPress:this._handleThreadTitleKeyPress,ref:'editThreadNameButton',role:n?null:'button',tabIndex:0},c('React').createElement('div',{className:"_2jnu"},n?this._renderNameInput():c('React').createElement(c('MercuryThreadTitle.react'),{className:"_2jnv",showUnreadCount:false,thread:this.props.thread,useShortName:false,viewer:this.props.viewer})))));},setEditing:function l(){this.setState({isEditingName:true});},_renderSpinner:function l(){return (c('React').createElement('div',{className:"_2jnw"},c('React').createElement(c('MessengerSpinner.react'),null)));},_handleThreadPhotoUploadComplete:function l(m,n){if(this.isMounted())this.setState({isUploadingPhoto:false});this.props.onThreadPhotoChange(this.props.thread.thread_id,n);},_handleThreadPhotoUploadFail:function l(m,n){if(this.isMounted())this.setState({isUploadingPhoto:false});},_handleThreadPhotoUploadStart:function l(){if(this.isMounted())this.setState({isUploadingPhoto:true});},_handleNameEdited:function l(m){m.stopPropagation();var n=this.refs.threadNameInput.getValue();if(n!==this.props.thread.name)this.props.onThreadNameChange(n);this.setState({isEditingName:false},function(){c('setImmediate')(function(){c('ReactDOM').findDOMNode(this.refs.editThreadNameButton).focus();}.bind(this));}.bind(this));},_handleThreadTitleClick:function l(m){m.stopPropagation();if(!this.props.actionsEnabled)return;if(!this.state.isEditingName)this.setState({isEditingName:true});},_handleThreadTitleKeyPress:function l(m){if(this.state.isEditingName)return;if(m.charCode===c('Keys').RETURN||m.charCode===c('Keys').SPACE){m.preventDefault();this._handleThreadTitleClick(m);}},_handleEditAbandoned:function l(m){if(m.currentTarget.contains(m.relatedTarget)){m.stopPropagation();return;}if(this._clickGuard){m.preventDefault();m.stopPropagation();this._clickGuard=false;return;}this.setState({isEditingName:false});},_handleMouseDown:function l(m){this._clickGuard=true;},_renderNameInput:function l(){return (c('React').createElement('div',{className:"_2jnx",onBlur:this._handleEditAbandoned},c('React').createElement('div',{className:"_2jny"},c('React').createElement(c('MessengerTextWithEmojiInput.react'),{className:"_2jnz",maxLength:c('MercuryGenericConstants').MAX_THREAD_NAME_LENGTH,onReturn:this._handleNameEdited,placeholder:i._("Nombre de la conversaci\u00f3n"),ref:'threadNameInput',initialValue:this.props.thread.name})),c('React').createElement('div',{className:"_2jn-"},c('React').createElement(c('MessengerButton.react'),{label:i._("Cerrar"),onClick:this._handleNameEdited,onMouseDown:this._handleMouseDown,ref:'threadNameDoneButton',role:'button',type:'primary'}))));}});f.exports=k;}),null);
__d('MessengerDeleteDialog.react',['fbt','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerDeleteDialog1=function(){this.props.onToggle&&this.props.onToggle(false);this.props.onArchive&&this.props.onArchive();}.bind(this),this.$MessengerDeleteDialog2=function(){this.props.onToggle&&this.props.onToggle(false);this.props.onDelete&&this.props.onDelete();}.bind(this),n;}l.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Eliminar conversaci\u00f3n")),c('React').createElement(c('MessengerDialogBody.react'),null,h._("Se eliminar\u00e1 definitivamente el historial de la conversaci\u00f3n.")),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Archivar"),onClick:this.$MessengerDeleteDialog1,type:'secondary'}),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Eliminar"),onClick:this.$MessengerDeleteDialog2,type:'primary',use:'danger'})));};l.propTypes={onArchive:k.func,onDelete:k.func,onToggle:k.func};f.exports=l;}),null);
__d('MessengerMarkSpamDialog.react',['fbt','MessengerActions','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerMarkSpamDialog1=function(r){r.stopPropagation();this.props.onToggle&&this.props.onToggle(false);this.props.onMarkSpam&&this.props.onMarkSpam();c('MessengerActions').hideDialog();}.bind(this),n;}l.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Marcar como spam")),c('React').createElement(c('MessengerDialogBody.react'),null,h._("Esta conversaci\u00f3n se reportar\u00e1 como spam y se eliminar\u00e1.")),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Marcar como spam"),onClick:this.$MessengerMarkSpamDialog1,type:'primary',use:'danger'})));};l.propTypes={onMarkSpam:k.func,onToggle:k.func};f.exports=l;}),null);
__d('MessengerThreadInfoPanel.react',['cx','fbt','BootloadedComponent.react','immutable','ImmutableObject','JSResource','Link.react','MercuryAttachment','MercuryConfig','MercuryIDs','MercuryThreadInfo','MercuryMessageStore','MessengerActions','MessengerAdminGroupUtils','MessengerConfig','MessengerContactAdapters','messengerDomIDsRe','MessengerInfoPanelGroupSection.react','messengerInfoPanelNameSectionReact','MessengerInfoPanelPeopleSection.react','MessengerInfoPanelSection.react','MessengerInfoPanelThreadOptionsContainer.react','MessengerSharedPhotosContainer.react','MessengerSharedPhotosContainerRoute','React','RelayRootContainer','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('messengerDomIDsRe').ids,m=c('messengerInfoPanelNameSectionReact').comp,n=c('React').PropTypes,o=c('BootloadedComponent.react').create(c('JSResource')('MessengerAddToConversationDialog.react').__setRef('MessengerThreadInfoPanel.react'));j=babelHelpers.inherits(p,c('React').PureComponent);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$MessengerThreadInfoPanel1=undefined,this.$MessengerThreadInfoPanel2=undefined,this.$MessengerThreadInfoPanel3=false,this.state={sharedPhotoSection:null},this.$MessengerThreadInfoPanel8=function(){this.$MessengerThreadInfoPanel3=false;}.bind(this),this.$MessengerThreadInfoPanel11=function(v){this.props.onContactSelect(c('MessengerContactAdapters').fromMercuryParticipant(v));}.bind(this),this.$MessengerThreadInfoPanel10=function(v,w){this.props.onContactAction(v,c('MessengerContactAdapters').fromMercuryParticipant(w));}.bind(this),this.$MessengerThreadInfoPanel9=function(event){event.preventDefault();c('MessengerActions').showDialog(o,{bootloadPlaceholder:c('React').createElement('div',null),thread:this.props.thread,viewer:this.props.viewer});}.bind(this),r;}p.prototype.componentWillMount=function(){this.subscribeStoreUpdate(this.props.thread.thread_id);};p.prototype.componentWillReceiveProps=function(q){if(q.thread.thread_id!==this.props.thread.thread_id){this.$MessengerThreadInfoPanel2&&this.$MessengerThreadInfoPanel2.release();this.subscribeStoreUpdate(q.thread.thread_id);this.$MessengerThreadInfoPanel3=true;setTimeout(function(){return this.setState({sharedPhotoSection:this.$MessengerThreadInfoPanel4(true)});}.bind(this),1000);}};p.prototype.subscribeStoreUpdate=function(q){if(!c('MercuryConfig').SharedPhotoNewView)return;this.$MessengerThreadInfoPanel1=new (c('MercuryMessageStore'))(q);this.$MessengerThreadInfoPanel2=new (c('SubscriptionsHandler'))();this.$MessengerThreadInfoPanel2.addSubscriptions(this.$MessengerThreadInfoPanel1.subscribe(function(r){if(r.messages.length<1)return;var s=r.eventType==c('MercuryMessageStore').MESSAGES_RECEIVED,t=r.eventType==c('MercuryMessageStore').MESSAGES_CHANGED,u=r.messages[r.messages.length-1];if(!s&&!t)return;if(u.has_attachment&&u.attachments.length>0){var v=u.attachments.find(function(w){return c('MercuryAttachment').isPhotoAttachment(w)||c('MercuryAttachment').isVideoAttachment(w);});if(v){this.$MessengerThreadInfoPanel3=true;setTimeout(function(){return this.setState({sharedPhotoSection:this.$MessengerThreadInfoPanel4(true)});}.bind(this),1000);}}}.bind(this)));};p.prototype.componentWillUnmount=function(){this.$MessengerThreadInfoPanel2&&this.$MessengerThreadInfoPanel2.release();};p.prototype.componentDidUpdate=function(){if(!this.$MessengerThreadInfoPanel3)this.setState({sharedPhotoSection:null});};p.prototype.render=function(){var q=this.props,r=q.viewer,s=q.thread,t=c('MercuryIDs').getParticipantIDFromUserID(r),u=s.participants.indexOf(t)!==-1,v=this.$MessengerThreadInfoPanel3?this.state.sharedPhotoSection:this.$MessengerThreadInfoPanel4(false);return c('React').createElement('div',{className:"_3tkv",id:l.THREAD_INFO_PANEL},c('React').createElement('h3',{className:"accessible_elem"},i._("Informaci\u00f3n de la conversaci\u00f3n")),c('React').createElement(m,{contact:this.props.contact,isUnread:this.props.isUnread,isUserActive:this.props.isUserActive,lastActive:this.props.lastActive,onArchive:this.props.onArchive,onDelete:this.props.onDelete,onLeaveGroup:this.props.onLeaveGroup,onMarkRead:this.props.onMarkRead,onMarkSpam:this.props.onMarkSpam,onMarkUnread:this.props.onMarkUnread,onMute:this.props.onMute,onThreadNameChange:this.props.onThreadNameChange,onThreadPhotoChange:this.props.onThreadPhotoChange,onUnmute:this.props.onUnmute,participants:this.props.participants,platform:this.props.platform,showLeaveGroup:this.props.showLeaveGroup,thread:this.props.thread,viewer:this.props.viewer}),c('React').createElement(c('MessengerInfoPanelThreadOptionsContainer.react'),{isCollapsed:this.props.threadOptionsSectionCollapsed,participants:this.props.participants,thread:this.props.thread,viewer:this.props.viewer,onToggle:this.props.onThreadOptionsSectionToggle}),this.props.thread.is_canonical?this.$MessengerThreadInfoPanel5():this.$MessengerThreadInfoPanel6(),c('MessengerAdminGroupUtils').canSeeGroupOptions(u,s,r)?this.$MessengerThreadInfoPanel7():null,v);};p.prototype.$MessengerThreadInfoPanel7=function(){return c('React').createElement(c('MessengerInfoPanelGroupSection.react'),{isOptionsCollapsed:this.props.groupOptionsSectionCollapsed,onOptionsToggle:this.props.onGroupOptionsSectionToggle,isApprovalsCollapsed:this.props.groupOptionsApprovalsSectionCollapsed,onApprovalToggle:this.props.onGroupApprovalOptionsSectionToggle,onToggle:this.props.onThreadOptionsSectionToggle,participants:this.props.participants,viewer:this.props.viewer,thread:this.props.thread});};p.prototype.$MessengerThreadInfoPanel4=function(q){var r=this.props,s=r.getIsScrolledToBottom,t=r.getScrollableHeight,u=r.onPhotosSectionToggle,v=r.photosSectionCollapsed,w=r.thread,x=new (c('MessengerSharedPhotosContainerRoute'))({threadFBID:w.thread_fbid,newViewGK:c('MercuryConfig').SharedPhotoNewView});return c('React').createElement(c('RelayRootContainer'),{Component:c('MessengerSharedPhotosContainer.react'),renderLoading:function y(){return null;},route:x,forceFetch:q,renderFetched:function(y){return c('React').createElement(c('MessengerSharedPhotosContainer.react'),babelHelpers['extends']({},y,{customColor:this.props.thread.custom_color,clearForceFetch:this.$MessengerThreadInfoPanel8,getIsScrolledToBottom:s,getScrollableHeight:t,isCollapsed:v,onToggle:u,threadFBID:w.thread_fbid,newViewGK:c('MercuryConfig').SharedPhotoNewView}));}.bind(this)});};p.prototype.$MessengerThreadInfoPanel6=function(){return c('React').createElement(c('MessengerInfoPanelPeopleSection.react'),{canViewerReply:c('MercuryThreadInfo').canReply(this.props.thread),contactAdapter:c('MessengerContactAdapters').fromMercuryParticipant,isCollapsed:this.props.peopleSectionCollapsed,isViewerSubscribed:this.props.thread.is_subscribed,onAddPeopleClick:this.$MessengerThreadInfoPanel9,onContactAction:this.$MessengerThreadInfoPanel10,onContactSelect:this.$MessengerThreadInfoPanel11,onToggle:this.props.onPeopleSectionToggle,participants:this.props.participants,viewer:this.props.viewer,adminIds:this.props.thread.admin_ids,thread:this.props.thread});};p.prototype.$MessengerThreadInfoPanel5=function(){if(!this.props.contact||!this.props.contact.href||this.props.contact.fbid.toString()===c('MessengerConfig').MoneyPennyFBID)return null;var q=this.props.contact.href,r=this.props.contact.type==='page'?i._("P\u00e1gina de Facebook"):i._("Perfil de Facebook");return c('React').createElement(c('MessengerInfoPanelSection.react'),{customColor:this.props.thread.custom_color,title:r},c('React').createElement('div',{className:"_4v0l"},c('React').createElement(c('Link.react'),{className:"_3oh-",style:{color:this.props.thread.custom_color},href:q,target:'_blank'},q.replace('www.',''))));};p.propTypes={contact:n.instanceOf(c('ImmutableObject')),getIsScrolledToBottom:n.func.isRequired,getScrollableHeight:n.func.isRequired,isUserActive:n.bool.isRequired,isBusinessEnabled:n.bool,lastActive:n.string,onArchive:n.func.isRequired,onContactAction:n.func.isRequired,onContactSelect:n.func.isRequired,onDelete:n.func.isRequired,onLeaveGroup:n.func,onMarkRead:n.func.isRequired,onMarkSpam:n.func.isRequired,onMarkUnread:n.func.isRequired,onMute:n.func.isRequired,onPeopleSectionToggle:n.func.isRequired,onPhotosSectionToggle:n.func.isRequired,onThreadOptionsSectionToggle:n.func.isRequired,onGroupOptionsSectionToggle:n.func.isRequired,onGroupApprovalOptionsSectionToggle:n.func.isRequired,onThreadNameChange:n.func.isRequired,onThreadPhotoChange:n.func.isRequired,onUnmute:n.func.isRequired,participants:n.instanceOf(c('immutable').Map).isRequired,peopleSectionCollapsed:n.bool.isRequired,photosSectionCollapsed:n.bool.isRequired,platform:n.string,prevIsScrolledToBottom:n.bool.isRequired,prevScrollableHeight:n.number.isRequired,showLeaveGroup:n.bool.isRequired,thread:n.instanceOf(c('ImmutableObject')).isRequired,threadOptionsSectionCollapsed:n.bool.isRequired,groupOptionsSectionCollapsed:n.bool.isRequired,groupOptionsApprovalsSectionCollapsed:n.bool.isRequired,viewer:n.string.isRequired};f.exports=p;}),null);
__d('MessengerThreadInfoPanelScrollableArea.react',['MessengerFlexArea.react','MessengerScrollableArea.react','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={prevHeight:-1,prevIsScrolledToBottom:false},this.$MessengerThreadInfoPanelScrollableArea1=null,this.isScrolledToBottom=function(){return this.refs.scrollable.isScrolledToBottom();}.bind(this),this.getHeight=function(){return c('ReactDOM').findDOMNode(this.refs.scrollable).offsetHeight;}.bind(this),this.$MessengerThreadInfoPanelScrollableArea2=function(){var q=this.isScrolledToBottom(),r=this.getHeight();if(this.state.prevIsScrolledToBottom!==q||this.state.prevHeight!==r)this.setState({prevHeight:r,prevIsScrolledToBottom:q});}.bind(this),m;}k.prototype.render=function(){return c('React').createElement(c('MessengerFlexArea.react'),{className:this.props.className,onResize:this.$MessengerThreadInfoPanelScrollableArea2},c('React').createElement(c('MessengerScrollableArea.react'),{height:'100%',onScroll:this.$MessengerThreadInfoPanelScrollableArea2,ref:'scrollable'},this.props.children(this.state.prevHeight,this.state.prevIsScrolledToBottom,this.isScrolledToBottom,this.getHeight)));};k.propTypes={children:j.func.isRequired};f.exports=k;}),null);
__d('MessengerThreadInfoPanelContainer.react',['AsyncRequest','immutable','ImmutableObject','MercuryAPIArgsSource','MercuryIDs','MercuryLogMessageType','MercuryMessageActions','MercuryMessageObject','MercurySourceType','MercuryThreadActions','MercuryThreadInfo','MessengerActions','MessengerConfirmLeaveGroupDialog.react','MessengerContactActions','MessengerAdminGroupUtils','MessengerThreadInfoPanelScrollableArea.react','MessengerSettingsActions','MessengerSettingsStore','MessengerThreadInfoPanel.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','URI','XMessagingSetThreadStateController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerThreadInfoPanelContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MessengerSettingsStore'))],propTypes:{contactData:h.object,participants:h.instanceOf(c('immutable').Map).isRequired,thread:h.instanceOf(c('ImmutableObject')).isRequired,viewer:h.string.isRequired},statics:{calculateState:function j(){var k=c('MessengerSettingsStore').getSettings(),l=k.people_section_collapsed,m=k.photos_section_collapsed,n=k.thread_section_collapsed,o=k.group_section_collapsed,p=k.group_approval_section_collapsed;return {people_section_collapsed:l,photos_section_collapsed:m,thread_section_collapsed:n,group_section_collapsed:o,group_approval_section_collapsed:p};}},render:function j(){var k=this.props.contactData||{},l=this.state,m=l.people_section_collapsed,n=l.photos_section_collapsed,o=l.thread_section_collapsed,p=l.group_section_collapsed,q=l.group_approval_section_collapsed;return (c('React').createElement(c('MessengerThreadInfoPanelScrollableArea.react'),{className:this.props.className},function(r,s,t,u){return (c('React').createElement(c('MessengerThreadInfoPanel.react'),{contact:k.contact,getIsScrolledToBottom:t,getScrollableHeight:u,isUserActive:k.isUserActive||false,lastActive:k.lastActive,onArchive:this._handleArchive,onContactAction:this._handleContactAction,onContactSelect:this._handleContactSelect,onDelete:this._handleDelete,onLeaveGroup:this._handleLeaveGroup,onMarkRead:this._handleMarkRead,onMarkSpam:this._handleMarkSpam,onMarkUnread:this._handleMarkUnread,onMute:this._handleMute,onMuteChange:this._handleMuteChange,onPeopleSectionToggle:this._handlePeopleSectionToggle,onPhotosSectionToggle:this._handlePhotosSectionToggle,onThreadOptionsSectionToggle:this._handleThreadSectionToggle,onGroupOptionsSectionToggle:this._handleGroupOptionsSectionToggle,onGroupApprovalOptionsSectionToggle:this._handleGroupOptionsApprovalSectionToggle,onThreadNameChange:this._handleThreadNameChange,onThreadPhotoChange:this._handleThreadPhotoChange,onUnmute:this._handleUnmute,participants:this.props.participants,peopleSectionCollapsed:m,photosSectionCollapsed:n,platform:k.platform,prevIsScrolledToBottom:s,prevScrollableHeight:r,showLeaveGroup:this.props.thread.is_subscribed&&!this.props.thread.is_canonical,thread:this.props.thread,threadOptionsSectionCollapsed:o,groupOptionsSectionCollapsed:p,groupOptionsApprovalsSectionCollapsed:q,viewer:this.props.viewer}));}.bind(this)));},_handleArchive:function j(){this._getThreadActions().archive(this.props.thread.thread_id);c('MessengerActions').selectThread(null);},_handleDelete:function j(){this._getThreadActions()['delete'](this.props.thread.thread_id);c('MessengerActions').selectThread(null);},_handleMarkRead:function j(){this._getThreadActions().markRead(this.props.thread.thread_id);},_handleMarkSpam:function j(){this._getThreadActions().markSpam(this.props.thread.thread_id);c('MessengerActions').selectThread(null);},_handleMarkUnread:function j(){this._getThreadActions().markUnread(this.props.thread.thread_id);},_handleMute:function j(k){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,k);},_handleUnmute:function j(){this._getThreadActions().unmute(this.props.thread.thread_id);},_handleMuteChange:function j(k){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,k);},_handleContactSelect:function j(k){if(c('MercuryIDs').getUserIDFromParticipantID(k.uid)!==this.props.viewer){var l=c('MercuryIDs').getThreadIDFromParticipantID(k.uid);l&&c('MessengerActions').selectThread(l);}},_handleContactAction:function j(k,l){if(c('MercuryIDs').getUserIDFromParticipantID(l.uid)!==this.props.viewer)switch(k){case c('MessengerContactActions').MESSAGE:this._handleContactSelect(l);break;case c('MessengerContactActions').PROFILE:var m=this.props.participants.get(l.uid);if(m&&m.href){window.open(m.href);}else this._handleContactSelect(l);break;case c('MessengerContactActions').REMOVE:if(!c('MercuryThreadInfo').isEmptyLocalThread(this.props.thread)){var n=new (c('URI'))('/chat/remove_participants/');n.addQueryData({uid:c('MercuryIDs').getUserIDFromParticipantID(l.uid),tid:this.props.thread.thread_fbid});var o=new (c('AsyncRequest'))(n);o.send();}break;}switch(k){case c('MessengerContactActions').REMOVE_OWNER:if(!c('MercuryThreadInfo').isEmptyLocalThread(this.props.thread))this._getThreadActions().changeGroupAdmins(this.props.thread.thread_fbid,[c('MercuryIDs').getUserIDFromParticipantID(l.uid)],false);break;case c('MessengerContactActions').ADD_OWNER:if(!c('MercuryThreadInfo').isEmptyLocalThread(this.props.thread))this._getThreadActions().changeGroupAdmins(this.props.thread.thread_fbid,[c('MercuryIDs').getUserIDFromParticipantID(l.uid)],true);break;}},_handleLeaveGroup:function j(){if(this.props.viewer){var k=c('MessengerAdminGroupUtils').isViewerAdmin(this.props.thread.admin_ids,this.props.viewer);c('MessengerActions').showDialog(c('MessengerConfirmLeaveGroupDialog.react'),{onLeave:this._onLeaveGroupConfirm,isViewerAdmin:k,thread:this.props.thread});}},_onLeaveGroupConfirm:function j(){if(!c('MercuryThreadInfo').isEmptyLocalThread(this.props.thread)){var k=this._getMessageObject().constructLogMessageObject(c('MercurySourceType').MESSENGER_WEB,this.props.thread.thread_id,c('MercuryLogMessageType').UNSUBSCRIBE,{removed_participants:[c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer)]});this._getMessageActions().send(k);}},_handleThreadNameChange:function j(k){var l=c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread);if(!l){this._getMessageActions().send(this._getMessageObject().constructLogMessageObject(c('MercurySourceType').MESSENGER_WEB,this.props.thread.thread_id,c('MercuryLogMessageType').THREAD_NAME,{name:k}),null,c('MercuryAPIArgsSource').MESSENGER);}else{var m=c('XMessagingSetThreadStateController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(m).setData({thread_id:this.props.thread.thread_fbid,thread_name:k}).send();}},_handleThreadPhotoChange:function j(k,l){this._getMessageActions().send(this._getMessageObject().constructLogMessageObject(c('MercurySourceType').MESSENGER_WEB,k,c('MercuryLogMessageType').THREAD_IMAGE,{image:l.metadata[0]}));},_handlePeopleSectionToggle:function j(){c('MessengerSettingsActions').changeSettings({people_section_collapsed:!this.state.people_section_collapsed});},_handlePhotosSectionToggle:function j(){c('MessengerSettingsActions').changeSettings({photos_section_collapsed:!this.state.photos_section_collapsed});},_handleThreadSectionToggle:function j(){c('MessengerSettingsActions').changeSettings({thread_section_collapsed:!this.state.thread_section_collapsed});},_handleGroupOptionsSectionToggle:function j(){c('MessengerSettingsActions').changeSettings({group_section_collapsed:!this.state.group_section_collapsed});},_handleGroupOptionsApprovalSectionToggle:function j(){c('MessengerSettingsActions').changeSettings({group_approval_section_collapsed:!this.state.group_approval_section_collapsed});},_getThreadActions:function j(){return c('MercuryThreadActions').getForFBID(this.props.viewer);},_getMessageActions:function j(){return c('MercuryMessageActions').getForFBID(this.props.viewer);},_getMessageObject:function j(){return c('MercuryMessageObject').getForFBID(this.props.viewer);}});f.exports=i;}),null);
__d('MessengerDetailView.react',['cx','fbt','invariant','BootloadOnRender.react','DataTransfer','immutable','JSResource','LazyComponent.react','MercuryIDs','MercuryConfig','MercuryCanonicalGroupThreadStore','MercuryParticipants','MercuryThreadActions','MercuryThreadInfo','MercuryThreads','MessengerComposerStore','MessengerComposerContainer.react','MessengerConversation.react','MessengerConversationContainer.react','MessengerDetailViewHeaderContainer.react','messengerDomIDsRe','MessengerPresenceStatusUtils','MessengerSettingsActions','MessengerSettingsStore','MessengerStateStore','MessengerThreadSearchStore','MessengerThreadInfoPanelContainer.react','MessengerThreadSearchActions','MessengerView','MessengerWebDriverTestIDs','Parent','PresenceStatus','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','AvailableList','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('messengerDomIDsRe').ids;c('AvailableList');var l=c('React').PropTypes,m=c('React').createClass({displayName:'MessengerDetailView',_composer:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MessengerComposerStore'),c('MessengerStateStore'),c('MessengerThreadSearchStore'),c('MercuryCanonicalGroupThreadStore'),c('MercuryThreads'),c('MercuryParticipants'),c('PresenceStatus'))],propTypes:{activeThreadID:l.string,view:l.string,viewer:l.string.isRequired},statics:{calculateState:function n(o){var p=o.activeThreadID,q=c('MercuryThreads').getForFBID(o.viewer),r=c('MessengerComposerStore').getState();if(o.view===c('MessengerView').DETAIL.COMPOSE){!!!r.recipients?j(0):void 0;var s=r.recipients;if(s.size===1){p=c('MercuryIDs').getThreadIDFromUserID(s.first().getUniqueID().toString());}else if(s.size>1)p=c('MercuryCanonicalGroupThreadStore').getOrFetch(Array.from(s).map(function(v){return v.getUniqueID().toString();}));}var t=p?q.getOrFetch(p):null,u=c('immutable').Map();if(t)u=u.withMutations(function(v){t&&t.participants&&t.participants.forEach(function(w){v.set(w,c('MercuryParticipants').getOrFetch(w));});t&&t.is_subscribed&&v.set(c('MercuryIDs').getParticipantIDFromUserID(o.viewer),c('MercuryParticipants').getOrFetch(c('MercuryIDs').getParticipantIDFromUserID(o.viewer)));});return {infoPanelCollapsed:c('MessengerSettingsStore').getSettings().info_sidebar_collapsed,activeThreadID:p,composerState:r,messengerState:c('MessengerStateStore').getState(),contactData:c('MessengerPresenceStatusUtils').getStatusFromCanonicalThread(u,t),activeThread:t,participants:u,searchResults:c('MessengerThreadSearchStore').getState()};}},_refsConversationContainer:null,getInitialState:function n(){return {dropTargetOverlayVisible:false};},render:function n(){var o=this.state.activeThreadID,p=this._getMainLabelDetails();return (c('React').createElement('div',{'aria-labelledby':p.labelIDs,className:"_1q5-",role:'main'},c('React').createElement('div',{className:"hidden_elem",id:k.MAIN_LABEL},p.labelText),c('React').createElement(c('MessengerDetailViewHeaderContainer.react'),{contactData:this.state.contactData,recipients:this.state.composerState.recipients,participants:this.state.participants,thread:this.state.activeThread,view:this.props.view,viewer:this.props.viewer,onResize:this._handleResize,onInfoPanelToggle:this._handleInfoPanelToggle,infoPanelCollapsed:this.state.infoPanelCollapsed}),c('React').createElement('div',{className:"_20bp"},this._renderInfoPanel(),c('React').createElement('div',{className:"_4_j4",onClick:this._handleConversationClick,onDragEnter:this._showDropTargetOverlay,onDragLeave:this._hideDropTargetOverlay,onDragOver:this._showDropTargetOverlay,onDrop:this._handleDrop},this._renderMainView(o),this._renderSearchView(o),this._renderFooterView(o),c('React').createElement('div',{className:(!this.state.dropTargetOverlayVisible?"hidden_elem":'')+(' '+"_2fg6")})))));},_renderSearchView:function n(o){return o&&!this.props.mid&&this.props.query!=null?c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('MessengerThreadSearchContainer.react').__setRef('MessengerDetailView.react'),placeholder:c('React').createElement('div',{className:"_33p7 _5iwm"}),component:c('React').createElement(c('LazyComponent.react'),{loading:this.state.searchResults.loading,query:this.state.searchResults.query,selectedIndex:this.state.searchResults.selectedIndex,totalCount:this.state.searchResults.totalCount})}):null;},_assignConversationContainerRef:function n(o){this._refsConversationContainer=o;},_renderMainView:function n(o){if(!o)return c('React').createElement('div',{className:"_1ut7"});var p=this.state.contactData?this.state.contactData.contact:null;if(this.state.searchResults.messages)return (c('React').createElement(c('MessengerConversation.react'),{className:"_1wfr",contact:p,downExhausted:this.state.searchResults.downExhausted,fetchMessages:c('MessengerThreadSearchActions').getMoreSearchContext,innerClassName:"_1r_-",isCanonical:c('MercuryIDs').isCanonical(o),isLoaded:true,isLoading:false,messages:this.state.searchResults.messages,onRead:c('emptyFunction'),participants:this.state.participants,thread:this.state.activeThread,threadID:o,upExhausted:this.state.searchResults.upExhausted,useManualFetch:true,viewer:this.props.viewer}));return (c('React').createElement(c('MessengerConversationContainer.react'),{className:"_1wfr",contact:p,onMarkRead:this._handleMarkRead,participants:this.state.participants,ref:this._assignConversationContainerRef,thread:this.state.activeThread,threadID:o,viewer:this.props.viewer}));},_renderFooterView:function n(o){var p=c('MercuryConfig').ColdOpenBlock&&this.state.activeThread&&c('MercuryThreadInfo').isColdOpen(this.state.activeThread);return (c('React').createElement(c('MessengerComposerContainer.react'),{canReply:!!(!p&&(this.props.view===c('MessengerView').DETAIL.COMPOSE||this.state.activeThread&&c('MercuryThreadInfo').canReply(this.state.activeThread)&&!c('MercuryConfig').ViewerIsReadOnly)),onMount:function(q){return this._composer=q;}.bind(this),onResize:this._handleResize,participants:this.state.participants,recipients:this.state.composerState.recipients,threadID:o,threadFBID:this.state.activeThread?this.state.activeThread.thread_fbid:null,thread:this.state.activeThread,view:this.props.view,viewer:this.props.viewer}));},_renderInfoPanel:function n(){var o=this.state,p=o.activeThread,q=o.contactData,r=o.infoPanelCollapsed,s=o.participants,t=this.props.view;if(!p||!s||t===c('MessengerView').DETAIL.COMPOSE)return null;return (c('React').createElement('div',{className:(r?"hidden_elem":'')+(' '+"_4_j5"),'data-testid':c('MessengerWebDriverTestIDs').INFO_PANEL},c('React').createElement(c('MessengerThreadInfoPanelContainer.react'),{className:"_4_j9",contactData:q,participants:s,thread:p,viewer:this.props.viewer})));},_getMainLabelDetails:function n(){if(this.props.view===c('MessengerView').DETAIL.COMPOSE)return {labelText:i._("Nuevo mensaje"),labelIDs:k.MAIN_LABEL};return {labelText:i._("Conversaci\u00f3n con"),labelIDs:k.MAIN_LABEL+' '+k.THREAD_TITLE};},_handleConversationClick:function n(o){var p=this.props.activeThreadID;if(p&&this._refsConversationContainer&&this._refsConversationContainer.isScrolledToBottom())this._handleMarkRead(p);if(window.getSelection().toString()!=='')return;if(c('Parent').byTag(o.target,'a')!=null)return;var q=this._getComposer();q&&q.focusInput();},_showDropTargetOverlay:function n(o){o&&o.preventDefault();this.setState({dropTargetOverlayVisible:true});},_hideDropTargetOverlay:function n(o){o&&o.preventDefault();this.setState({dropTargetOverlayVisible:false});var p=this._getComposer();p&&p.resetDrag();},_handleDrop:function n(o){this._hideDropTargetOverlay(o);var p=this._getComposer();if(!p)return;!(o.nativeEvent.dataTransfer instanceof Object)?j(0):void 0;var q=new (c('DataTransfer'))(o.nativeEvent.dataTransfer),r=q.getFiles();if(r.length){p.handleFileUpload(r);}else{var s=q.getText();if(s)p.handleTextDropped(s);}},_handleResize:function n(){var o=this._refsConversationContainer;if(o)o.handleResize();},_handleInfoPanelToggle:function n(){var o=!this.state.infoPanelCollapsed;this.setState({infoPanelCollapsed:o},function(){c('MessengerSettingsActions').changeSettings({info_sidebar_collapsed:o});});},_handleMarkRead:function n(o){c('MercuryThreadActions').getForFBID(this.props.viewer).markRead(o);},_getComposer:function n(){return this._composer;}});f.exports=m;}),null);
__d('MessengerDialogStore',['MessengerActions','MessengerStore'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('MessengerStore'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this);this.$MessengerDialogStore1={dialogClass:null,dialogProps:null};}j.prototype.getState=function(){'use strict';return this.$MessengerDialogStore1;};j.prototype.__onDispatch=function(k){'use strict';switch(k.type){case c('MessengerActions').Types.SHOW_DIALOG:this.$MessengerDialogStore1.dialogClass=k.dialogClass;this.$MessengerDialogStore1.dialogProps=k.dialogProps;this.emitChange();break;case c('MessengerActions').Types.HIDE_DIALOG:if(k.dialogClass&&this.$MessengerDialogStore1.dialogClass!=k.dialogClass)break;this.$MessengerDialogStore1.dialogClass=null;this.$MessengerDialogStore1.dialogProps=null;this.emitChange();break;}};f.exports=new j();}),null);
__d('MessengerDialogContainer.react',['MessengerDialogStore','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'MessengerDialogContainer',mixins:[c('PureStoreBasedStateMixin')(c('MessengerDialogStore'))],statics:{calculateState:function i(){return c('MessengerDialogStore').getState();}},render:function i(){if(!this.state.dialogClass)return null;var j=this.state.dialogClass;return c('React').createElement(j,babelHelpers['extends']({},this.state.dialogProps,{key:'dialog'}));}});f.exports=h;}),null);
__d("XMessengerDotComSpoofIFrameController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/spoof\/fb_iframe_target\/",{gk_spoof:{type:"String"}});}),null);
__d("XSpoofMessengerDotComIFrameController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/spoof\/messenger_dot_com_iframe\/",{redirect_uri:{type:"String",required:true}});}),null);
__d('MessengerSpoof',['Arbiter','DOM','JSXDOM','URI','XSpoofMessengerDotComIFrameController','XMessengerDotComSpoofIFrameController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=6000;function i(k){var l=c('JSXDOM').iframe({src:j().toString(),width:0,height:0});c('DOM').appendContent(document.body,l);c('Arbiter').subscribeOnce('messengerdotcom_spoof',function(){c('DOM').remove(l);k();});setTimeout(function(){c('Arbiter').inform('messengerdotcom_spoof');},h);}function j(){var k=new (c('URI'))(document.URL),l=c('XMessengerDotComSpoofIFrameController').getURIBuilder().getURI().getQualifiedURI().toString(),m=c('XSpoofMessengerDotComIFrameController').getURIBuilder().setString('redirect_uri',l).getURI();return m.setDomain(k.getDomain().replace('messenger.com','facebook.com')).setPort(k.getPort()).setProtocol('https');}f.exports={init:i};}),null);
__d('ServiceWorkerLoginAndLogout',['ClientServiceWorkerMessage'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){new (c('ClientServiceWorkerMessage'))(j,null).sendViaController();}var i={login:function j(){h('login');},logout:function j(){h('logout');}};f.exports=i;}),null);
__d("XMessengerDotComLogoutController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/logout\/",{next:{type:"String"}});}),null);
__d('MessengerSettingsMenu.react',['fbt','cx','AbstractPopoverButton.react','AsyncDialog','AsyncRequest','Bootloader','CacheStorage','Form','goURI','Link.react','MercuryFilters','MercuryIDs','MercuryParticipants','MessagingTag','MessengerActions','MessengerConfig','MessengerSpoof','MessengerMenu.react','MessengerPopoverMenu.react','MessengerView','React','Run','ServiceWorkerLoginAndLogout','XMessengerDotComLogoutController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('MessengerMenu.react').Item,m=c('MessengerMenu.react').Separator,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$MessengerSettingsMenu1=function(u){u.preventDefault();c('Bootloader').loadModules(["MessengerSettingsDialog.react"],function(v){c('MessengerActions').showDialog(v,{viewer:this.props.viewer});}.bind(this),'MessengerSettingsMenu.react');}.bind(this),this.$MessengerSettingsMenu10=function(u){u.preventDefault();c('MessengerActions').changeMasterView(this.props.view===c('MessengerView').MASTER.RECENT?c('MessengerView').MASTER.PEOPLE:c('MessengerView').MASTER.RECENT);}.bind(this),this.$MessengerSettingsMenu8=function(){c('MessengerActions').changeFolder(this.props.folder===c('MessagingTag').PENDING?c('MessagingTag').INBOX:c('MessagingTag').PENDING);}.bind(this),this.$MessengerSettingsMenu9=function(){c('MessengerActions').changeFolder(this.props.folder===c('MessagingTag').ACTION_ARCHIVED?c('MessagingTag').INBOX:c('MessagingTag').ACTION_ARCHIVED);}.bind(this),this.$MessengerSettingsMenu12=function(){c('MessengerActions').changeFilter(this.props.filter===c('MercuryFilters').UNREAD?c('MercuryFilters').ALL:c('MercuryFilters').UNREAD);}.bind(this),q;}o.prototype.render=function(){var p=c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(l,{label:h._("Configuraci\u00f3n"),onclick:this.$MessengerSettingsMenu1}),c('React').createElement(m,null),this.$MessengerSettingsMenu2(),this.$MessengerSettingsMenu3(),this.$MessengerSettingsMenu4(),c('React').createElement(m,null),c('React').createElement(l,{href:'https://www.messenger.com/about',label:h._("Informaci\u00f3n"),target:'_blank'}),c('React').createElement(l,{href:'https://www.facebook.com/policies',label:h._("Condiciones"),target:'_blank'}),c('React').createElement(l,{href:'https://www.facebook.com/privacy/explanation',label:h._("Pol\u00edtica de privacidad"),target:'_blank'}),c('React').createElement(l,{href:'https://www.facebook.com/help/cookies',label:h._("Pol\u00edtica de cookies"),target:'_blank'}),c('React').createElement(m,null),c('React').createElement(l,{href:'https://www.facebook.com/help/735006619902401',label:h._("Ayuda"),target:'_blank'}),c('React').createElement(l,{label:h._("Reportar un problema"),onclick:this.$MessengerSettingsMenu5}),this.$MessengerSettingsMenu6(),c('React').createElement(m,null),c('React').createElement(l,{label:h._("Salir"),onclick:this.$MessengerSettingsMenu7})),q=h._("Configuraci\u00f3n, pol\u00edtica de privacidad, ayuda y m\u00e1s"),r={button:c('React').createElement(c('Link.react'),{'aria-label':q,className:"_30yy _2fug",role:'button',title:q}),defaultMaxWidth:200};return c('React').createElement(c('MessengerPopoverMenu.react'),{menu:p},c('React').createElement(c('AbstractPopoverButton.react'),{config:r,haschevron:false,image:null,label:null,maxwidth:200}));};o.prototype.$MessengerSettingsMenu3=function(){if(this.props.view!==c('MessengerView').MASTER.RECENT)return null;var p=[c('React').createElement(l,{key:'message-requests-switch',label:h._("Solicitudes de mensajes"),onclick:this.$MessengerSettingsMenu8})];if(this.props.folder===c('MessagingTag').INBOX&&c('MessengerConfig').AllowArchived)p.push(c('React').createElement(l,{key:'archived-switch',label:h._("Archived Threads"),onclick:this.$MessengerSettingsMenu9}));return p;};o.prototype.$MessengerSettingsMenu5=function(p){p.preventDefault();c('AsyncDialog').send(new (c('AsyncRequest'))('/ajax/bugs/report'));};o.prototype.$MessengerSettingsMenu7=function(){var p=new (c('CacheStorage'))('localstorage');c('Run').onUnload(function(){p.clear();c('ServiceWorkerLoginAndLogout').logout();});c('Form').post(c('XMessengerDotComLogoutController').getURIBuilder().getURI(),{});};o.prototype.$MessengerSettingsMenu11=function(){c('MessengerSpoof').init(function(){c('goURI')(window.location.href,true);});};o.prototype.$MessengerSettingsMenu2=function(){if(!c('MessengerConfig').PeopleTabEnabled)return null;return c('React').createElement(l,{label:this.props.view===c('MessengerView').MASTER.RECENT?h._("Contactos activos"):h._("Mensajes recientes"),onclick:this.$MessengerSettingsMenu10});};o.prototype.$MessengerSettingsMenu4=function(){if(!c('MessengerConfig').UnreadFilter)return null;return c('React').createElement(l,{label:this.props.filter===c('MercuryFilters').UNREAD?h._("Todas las conversaciones"):h._("Conversaciones no le\u00eddas"),onclick:this.$MessengerSettingsMenu12});};o.prototype.$MessengerSettingsMenu6=function(){var p=c('MercuryParticipants').getOrFetch(c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer));if(!p||!p.employee)return null;return c('React').createElement(l,{label:h._("Copy Spoofs"),onclick:this.$MessengerSettingsMenu11});};o.propTypes={filter:n.string.isRequired,folder:n.string.isRequired,view:n.string.isRequired,viewer:n.string.isRequired};f.exports=o;}),null);
__d('MessengerMasterViewHeader.react',['cx','fbt','Link.react','MessagingTag','MessengerActions','MessengerDirect','MessengerSettingsMenu.react','MessengerURIConstants','MessengerView','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('MessengerDirect').module,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessengerMasterViewHeader7=function(t){t.preventDefault();if(this.props.view!==c('MessengerView').MASTER.RECENT)c('MessengerActions').changeMasterView(c('MessengerView').MASTER.RECENT);c('MessengerActions').changeFolder(c('MessagingTag').INBOX);}.bind(this),p;}n.prototype.$MessengerMasterViewHeader1=function(){var o=i._("Mensaje nuevo");return c('React').createElement(c('Link.react'),{'aria-label':o,className:"_30yy _2oc8",href:c('MessengerURIConstants').COMPOSE_SUBPATH,onClick:this.$MessengerMasterViewHeader2,role:'button',title:o});};n.prototype.$MessengerMasterViewHeader3=function(){return l?c('React').createElement(l,{viewer:this.props.viewer}):null;};n.prototype.$MessengerMasterViewHeader4=function(){return c('React').createElement('div',{className:"_4kzu"},c('React').createElement(c('MessengerSettingsMenu.react'),{filter:this.props.filter,folder:this.props.folder,view:this.props.view,viewer:this.props.viewer}));};n.prototype.render=function(){var o=this.props.folder!==c('MessagingTag').INBOX||this.props.view!==c('MessengerView').MASTER.RECENT?this.$MessengerMasterViewHeader5():this.$MessengerMasterViewHeader4();return c('React').createElement('div',{className:"_36ic _5l-3",role:'banner'},o,this.$MessengerMasterViewHeader3(),c('React').createElement('div',{className:"_1tqi"},this.$MessengerMasterViewHeader6()),this.$MessengerMasterViewHeader1());};n.prototype.$MessengerMasterViewHeader6=function(){if(this.props.folder===c('MessagingTag').PENDING){return i._("Solicitudes de mensajes");}else if(this.props.folder===c('MessagingTag').OTHER){return i._("Solicitudes filtradas");}else if(this.props.view===c('MessengerView').MASTER.PEOPLE){return i._("Activo(a) ahora");}else return i._("Messenger");};n.prototype.$MessengerMasterViewHeader5=function(){var o=this.props.folder===c('MessagingTag').PENDING||this.props.folder===c('MessagingTag').ACTION_ARCHIVED||this.props.view!==c('MessengerView').MASTER.RECENT,p=o?this.$MessengerMasterViewHeader7:this.$MessengerMasterViewHeader8,q=o?i._("Volver a los mensajes recientes"):i._("Volver a las solicitudes de mensajes");return c('React').createElement(c('Link.react'),{'aria-label':q,className:"_30yy _2oc9",onClick:p,role:'button',title:q});};n.prototype.$MessengerMasterViewHeader2=function(o){o.preventDefault();c('MessengerActions').changeDetailView(c('MessengerView').DETAIL.COMPOSE);};n.prototype.$MessengerMasterViewHeader8=function(o){o.preventDefault();c('MessengerActions').changeFolder(c('MessagingTag').PENDING);};n.propTypes={filter:m.string.isRequired,folder:m.string.isRequired,view:m.string.isRequired,viewer:m.string.isRequired};f.exports=n;}),null);
__d('P2PBannerStore',['invariant','EventEmitter','P2PActionConstants','P2PAPI','P2PDispatcher'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=void 0,l={},m=false,n=false;i=babelHelpers.inherits(o,c('EventEmitter'));j=i&&i.prototype;function o(){j.constructor.call(this);k=c('P2PDispatcher').register(this.onEventDispatched.bind(this));}o.prototype.onEventDispatched=function(p){var q=p.type,r=p.data;switch(q){case c('P2PActionConstants').BANNER_STATES_UPDATED:this.handleBannerStatesUpdated(r);this.emit('change');break;case c('P2PActionConstants').BANNER_DISMISSED:this.handleBannerDismissed(r);this.emit('change');break;case c('P2PActionConstants').BANNER_COMPLETED:this.handleBannerCompleted(r);this.emit('change');break;}};o.prototype.handleBannerStatesUpdated=function(p){m=true;l=p;};o.prototype.handleBannerDismissed=function(p){var q=this.getBannerState(p);q.hasBeenDismissed=true;};o.prototype.shouldShowBanner=function(p){var q=void 0;if(!n){c('P2PAPI').getBannerStates();n=true;return false;}if(!m)return false;q=this.getBannerState(p);return (q.eligible&&!q.hasBeenDismissed);};o.prototype.handleBannerCompleted=function(p){var q=this.getBannerState(p);q.eligible=false;};o.prototype.getBannerState=function(p){var q=l[p];!q?h(0):void 0;return q;};f.exports=new o();}),null);
__d('P2PJewelBanner.react',['cx','fbt','ix','Image.react','Layout.react','P2PButton.react','React','TooltipLink.react','URI','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('Layout.react').FillColumn,n=c('Layout.react').Column,o=c('React').PropTypes;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.handleCloseClick=function(v){v.stopPropagation();if(this.props.onClose)this.props.onClose();}.bind(this),this.handleClick=function(){this.execPrimaryClick();}.bind(this),this.handlePrimaryClick=function(v){v.stopPropagation();this.execPrimaryClick();}.bind(this),this.execPrimaryClick=function(){if(this.props.primaryActionConfig.uri)new (c('URI'))(this.props.primaryActionConfig.uri).go();this.props.primaryActionConfig.onClick&&this.props.primaryActionConfig.onClick();}.bind(this),this.handleSecondaryActionClick=function(v){v.stopPropagation();this.props.secondaryActionConfig&&this.props.secondaryActionConfig.onClick&&this.props.secondaryActionConfig.onClick();}.bind(this),this.renderCloseButton=function(){return (c('React').createElement(c('TooltipLink.react'),{alignH:'center',className:"_47d8",href:'#',onClick:this.handleCloseClick,position:'above',tooltip:i._("Ignorar")},c('React').createElement(c('Image.react'),{className:"_47dg",height:7,src:j('/images/p2p/jewel-banner-close.png'),width:7})));}.bind(this),this.renderActions=function(){var v=this.props.primaryActionConfig,w=void 0,x=this.props.secondaryActionConfig;if(x)w=c('React').createElement(c('P2PButton.react'),{className:"_5d0t",href:'#',label:x.text,onClick:this.handleSecondaryActionClick,size:'large',target:'_blank',type:'primary'});return (c('React').createElement('div',null,w,c('React').createElement(c('P2PButton.react'),{className:"_5d0t",href:v.uri||'#',label:v.text,onClick:this.handlePrimaryClick,size:'large',target:'_blank',type:'primary',use:'confirm'})));}.bind(this),r;}p.prototype.render=function(){var q=void 0;if(this.props.isDismissable)q=this.renderCloseButton();return (c('React').createElement('div',{className:"_5d0n",onClick:this.handleClick},q,c('React').createElement(c('Layout.react'),null,c('React').createElement(n,{className:"_400i"},c('React').createElement('div',{className:"_400j"},c('React').createElement(c('Image.react'),{className:"_5d0q",height:50,src:j('/images/p2p/jewel-banner-coin.png'),width:50}))),c('React').createElement(m,{className:"_47di"},c('React').createElement('div',{className:"_400j"},c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'dark',weight:'bold'},this.props.titleText),c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'light'},this.props.bodyText))),c('React').createElement(n,{className:"_400k"},c('React').createElement('div',{className:"_400j"},this.renderActions())))));};p.propTypes={bodyText:o.node,isDismissable:o.bool,onClose:o.func,primaryActionConfig:o.shape({onClick:o.func,text:o.node.isRequired,uri:o.oneOfType([o.string,o.object])}).isRequired,secondaryActionConfig:o.shape({onClick:o.func.isRequired,text:o.node.isRequired}),titleText:o.node.isRequired};p.defaultProps={isDismissable:false};f.exports=p;}),null);
__d('P2PPendingPaymentRequestJewelBanner.react',['fbt','P2PJewelBanner.react','P2PPaymentRequest','P2PPaymentRequestActionHelper','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.handleDeclineClick=function(){c('P2PPaymentRequestActionHelper').initDeclinePaymentRequestFlow(this.props.paymentRequest);}.bind(this),this.handlePayClick=function(){c('P2PPaymentRequestActionHelper').initPayForPaymentRequestFlow(this.props.paymentRequest,'banner');}.bind(this),this.renderBodyText=function(){var r=this.props.paymentRequest,s=r.memoText;if(!s)return null;return h._("Para {What the user paid for}",[h.param('What the user paid for',s)]);}.bind(this),n;}l.prototype.render=function(){var m=this.props.paymentRequest;return (c('React').createElement(c('P2PJewelBanner.react'),{bodyText:this.renderBodyText(),primaryActionConfig:{onClick:this.handlePayClick,text:h._("Pagar")},secondaryActionConfig:{onClick:this.handleDeclineClick,text:h._("Rechazar")},titleText:h._("{requester_name} solicit\u00f3 {amount}",[h.param('requester_name',m.requester.name),h.param('amount',m.amountWithSymbol)])}));};l.propTypes={paymentRequest:k.instanceOf(c('P2PPaymentRequest')).isRequired};f.exports=l;}),null);
__d('P2PPendingPushFailJewelBanner.react',['fbt','P2PJewelBanner.react','P2PLinkConstants','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.getActionText=function(){return h._("M\u00e1s informaci\u00f3n");},this.getBodyText=function(){var r=this.props.transfer;return h._("No se puso realizar el dep\u00f3sito de {currency}{amount} de {sender_name} con tu tarjeta de d\u00e9bito.",[h.param('currency',r.currency),h.param('amount',r.amount),h.param('sender_name',r.sender.name)]);}.bind(this),n;}l.prototype.render=function(){return (c('React').createElement(c('P2PJewelBanner.react'),{bodyText:this.getBodyText(),primaryActionConfig:{text:this.getActionText(),uri:c('P2PLinkConstants').helpTransferPushFailURI},titleText:h._("Actualiza tu tarjeta")}));};l.propTypes={transfer:k.object.isRequired};f.exports=l;}),null);
__d('P2PTimeBasedAcceptMessage.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.transfer,n=m.creationTime*1000,o=1000*60*60*24,p=Date.now(),q=(p-n)/o,r=m.expirationTimestamp*1000-p,s=Math.round(Math.max(r/o,1)),t=void 0;if(q<=2){t=h._("Agrega una tarjeta de d\u00e9bito para que el dinero se acredite directamente en tu cuenta bancaria.");}else if(q<=4){t=h._("Este dinero se devolver\u00e1 en {days left} d\u00edas. Agrega una tarjeta de d\u00e9bito para aceptarlo.",[h.param('days left',s)]);}else if(q<=5){t=h._({"day":"Tienes {days left} d\u00eda para agregar una tarjeta de d\u00e9bito antes de que el dinero se env\u00ede de vuelta a {sender_name}.","days":"Tienes {days left} d\u00edas para agregar una tarjeta de d\u00e9bito antes de que el dinero se env\u00ede de vuelta a {sender_name}."},[h.param('days left',s),h['enum'](s===1?'day':'days',{day:'day',days:'days'}),h.param('sender_name',m.sender.name)]);}else t=h._("Tienes un plazo de 24 horas para agregar una tarjeta de d\u00e9bito antes de que se devuelva el dinero a {sender_name}.",[h.param('sender_name',m.sender.name)]);return c('React').createElement('div',null,t);};function l(){i.apply(this,arguments);}l.propTypes={transfer:k.object.isRequired};f.exports=l;}),null);
__d('P2PPendingRecipientNUXJewelBanner.react',['fbt','P2PAcceptMoneyDialog.react','P2PActions','P2PCreditCardStore','P2PJewelBanner.react','P2PTimeBasedAcceptMessage.react','React'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PPendingRecipientNUXJewelBanner',propTypes:{transfer:i.object.isRequired},getInitialState:function k(){return {creditCards:c('P2PCreditCardStore').getAll()};},creditCardStoreSub:null,componentDidMount:function k(){this.creditCardStoreSub=c('P2PCreditCardStore').addListener('change',this.onCreditCardStoreChange);},componentWillUnmount:function k(){if(this.creditCardStoreSub){this.creditCardStoreSub.remove();this.creditCardStoreSub=null;}},onCreditCardStoreChange:function k(){var l={creditCards:c('P2PCreditCardStore').getAll()};if(this.isMounted())this.setState(l);},handleClick:function k(){this.showAcceptMoneyDialog();},showAcceptMoneyDialog:function k(){c('P2PActions').showDialog(c('P2PAcceptMoneyDialog.react'),{creditCards:this.state.creditCards,onClose:c('P2PActions').hideDialog,transfer:this.props.transfer});},renderTimeBasedMessage:function k(){return (c('React').createElement(c('P2PTimeBasedAcceptMessage.react'),{transfer:this.props.transfer}));},render:function k(){var l=this.props.transfer;if(!c('P2PCreditCardStore').isCreditCardsFetchComplete())return null;return (c('React').createElement(c('P2PJewelBanner.react'),{bodyText:this.renderTimeBasedMessage(),primaryActionConfig:{onClick:this.handleClick,text:h._("Agregar tarjeta")},titleText:h._("Acepta {amount} {currency} de {sender_name}.",[h.param('currency',l.currency),h.param('amount',l.amount),h.param('sender_name',l.sender.name)])}));}});f.exports=j;}),null);
__d('P2PPendingRecipientVerificationJewelBanner.react',['fbt','P2PJewelBanner.react','P2PTransferParam','P2PVerificationFlowHelper','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.handleClick=function(){c('P2PVerificationFlowHelper').startVerificationFlow(this.props.transfer[c('P2PTransferParam').TRANSFER_ID],false);}.bind(this),n;}l.prototype.render=function(){return (c('React').createElement(c('P2PJewelBanner.react'),{bodyText:h._("Para aceptar el dinero que te envi\u00f3 {sender_name}, confirma tus datos.",[h.param('sender_name',this.props.transfer.sender.name)]),primaryActionConfig:{onClick:this.handleClick,text:h._("Confirmar datos")},titleText:h._("Confirma tus datos")}));};l.propTypes={transfer:k.object.isRequired};f.exports=l;}),null);
__d('P2PJewelBannerContainer.react',['cx','CurrentUser','P2PBannerStore','P2PPaymentRequestsStore','P2PPendingPaymentRequestJewelBanner.react','P2PPendingPushFailJewelBanner.react','P2PPendingRecipientNUXJewelBanner.react','P2PPendingRecipientVerificationJewelBanner.react','P2PTransferParam','P2PTransferStatus','P2PTransferStore','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'P2PJewelBannerContainer',mixins:[c('PureStoreBasedStateMixin')(c('P2PBannerStore'),c('P2PPaymentRequestsStore'),c('P2PTransferStore'))],statics:{calculateState:function j(){var k=c('P2PTransferStore').getNUXTransfer(),l=c('P2PPaymentRequestsStore').getPendingPaymentRequest();return {paymentRequest:l,paymentRequestBannerShown:!!l,transfer:k,transferBannerShown:k&&k.receiver.id==c('CurrentUser').getID()};}},renderTransferBanner:function j(){var k=this.state.transfer,l=k[c('P2PTransferParam').STATUS];switch(l){case c('P2PTransferStatus').PENDING_RECIPIENT_NUX:return (c('React').createElement(c('P2PPendingRecipientNUXJewelBanner.react'),{transfer:k}));case c('P2PTransferStatus').PENDING_RECIPIENT_VERIFICATION:return (c('React').createElement(c('P2PPendingRecipientVerificationJewelBanner.react'),{transfer:k}));case c('P2PTransferStatus').PENDING_PUSH_FAIL:return (c('React').createElement(c('P2PPendingPushFailJewelBanner.react'),{transfer:k}));}},renderPaymentRequestBanner:function j(){return (c('React').createElement(c('P2PPendingPaymentRequestJewelBanner.react'),{paymentRequest:this.state.paymentRequest}));},render:function j(){var k=void 0;if(this.state.transferBannerShown){k=this.renderTransferBanner();}else if(this.state.paymentRequestBannerShown)k=this.renderPaymentRequestBanner();return (c('React').createElement('div',{className:"_1xfk"},k));}});f.exports=i;}),null);
__d('MercuryThreadlistContainer.react',['Bootloader','immutable','MercuryAPIArgsSource','MercuryFilters','MercuryThreadlistConstants','MessagingTag','P2PJewelBannerContainer.react','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k='search';h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={isLoading:true,isSearching:false,unreadMessageRequestThreads:[],threads:c('immutable').Map()},this.$MercuryThreadlistContainer12=function(){return (c('React').createElement(c('P2PJewelBannerContainer.react'),null));},this.$MercuryThreadlistContainer6=function(r,s){if(r===c('MessagingTag').INBOX&&this.props.source!==c('MercuryAPIArgsSource').JEWEL)this.$MercuryThreadlistContainer13();if(!this.$MercuryThreadlistContainer14(r,s)){this.$MercuryThreadlistContainer15(r,s,this.props.threadCount||c('MercuryThreadlistConstants').JEWEL_THREAD_COUNT+3);}else if(this.state.isLoading){this.setState({isLoading:false},function(){this.$MercuryThreadlistContainer5(r,s);}.bind(this));}else this.$MercuryThreadlistContainer5(r,s);}.bind(this),this.$MercuryThreadlistContainer13=function(){this.$MercuryThreadlistContainer1.getFilteredThreadlist(c('MercuryThreadlistConstants').RECENT_THREAD_OFFSET,c('MercuryThreadlistConstants').MAX_UNREAD_COUNT,c('MessagingTag').PENDING,c('MercuryFilters').UNREAD,this.$MercuryThreadlistContainer16,true,this.props.source);}.bind(this),this.$MercuryThreadlistContainer9=function(){if(!this.state.isSearching&&!this.state.isLoading&&!this.$MercuryThreadlistContainer1.hasLoadedThreadlist(this.props.folder,this.props.filter))this.$MercuryThreadlistContainer15(this.props.folder,this.props.filter,this.$MercuryThreadlistContainer17(this.props.folder)+c('MercuryThreadlistConstants').JEWEL_MORE_COUNT+1);}.bind(this),this.$MercuryThreadlistContainer15=function(r,s,t){if(!this.$MercuryThreadlistContainer1)return;this.$MercuryThreadlistContainer8();this.setState({isLoading:true},function(){var u=this.$MercuryThreadlistContainer1.getFilteredThreadlist(c('MercuryThreadlistConstants').RECENT_THREAD_OFFSET,t,r,s||c('MercuryFilters').ALL,function(v){return this.setState({isLoading:false});}.bind(this),true,this.props.source);this.$MercuryThreadlistContainer18={subscriberID:u,folder:r,filter:s};}.bind(this));}.bind(this),this.$MercuryThreadlistContainer5=function(r,s,t){if(!this.$MercuryThreadlistContainer1||!this.$MercuryThreadlistContainer2)return;this.$MercuryThreadlistContainer7();var u=t||this.$MercuryThreadlistContainer1.getAvailableThreadlistNow(r,s);this.$MercuryThreadlistContainer19=this.$MercuryThreadlistContainer2.getMultiThreadMeta(u,function(v){this.setState({threads:this.state.threads.set(r,u.map(function(w){return v[w];}))});}.bind(this));}.bind(this),this.$MercuryThreadlistContainer16=function(){if(!this.$MercuryThreadlistContainer1||!this.$MercuryThreadlistContainer2)return;var r=this.$MercuryThreadlistContainer1.getAvailableThreadlistNow(c('MessagingTag').PENDING,c('MercuryFilters').UNREAD);this.$MercuryThreadlistContainer2.getMultiThreadMeta(r,function(s){this.setState({unreadMessageRequestThreads:r.map(function(t){return s[t];})});}.bind(this));}.bind(this),this.$MercuryThreadlistContainer14=function(r,s){return !!(this.$MercuryThreadlistContainer1&&(this.$MercuryThreadlistContainer1.getThreadCount(r,s)>=c('MercuryThreadlistConstants').JEWEL_THREAD_COUNT+3||this.$MercuryThreadlistContainer1.hasLoadedThreadlist(r,s)));}.bind(this),this.$MercuryThreadlistContainer17=function(r){var s=this.state.threads.get(r);return s?s.length:0;}.bind(this),this.$MercuryThreadlistContainer7=function(){this.$MercuryThreadlistContainer2&&this.$MercuryThreadlistContainer19&&this.$MercuryThreadlistContainer2.unsubscribe(this.$MercuryThreadlistContainer19);}.bind(this),this.$MercuryThreadlistContainer8=function(){this.$MercuryThreadlistContainer1&&this.$MercuryThreadlistContainer18&&this.$MercuryThreadlistContainer1.unsubscribe(this.$MercuryThreadlistContainer18.subscriberID,this.$MercuryThreadlistContainer18.folder,this.$MercuryThreadlistContainer18.filter);}.bind(this),this.$MercuryThreadlistContainer11=function(r,s){this.setState({isLoading:s,searchThreads:[]},function(){return this.$MercuryThreadlistContainer5(k,c('MercuryFilters').ALL,r);}.bind(this));}.bind(this),this.$MercuryThreadlistContainer10=function(r){this.setState({isSearching:!!r});}.bind(this),n;}l.prototype.componentDidMount=function(){c('Bootloader').loadModules(["MercuryOrderedThreadlist","MercuryThreadInformer","MercuryThreads"],function(m,n,o){this.$MercuryThreadlistContainer1=m.getForFBID(this.props.viewer);this.$MercuryThreadlistContainer2=o.getForFBID(this.props.viewer);this.$MercuryThreadlistContainer3=n.getForFBID(this.props.viewer);this.$MercuryThreadlistContainer4=new (c('SubscriptionsHandler'))();this.$MercuryThreadlistContainer4.addSubscriptions(this.$MercuryThreadlistContainer3.subscribe('threadlist-updated',function(p,q){this.$MercuryThreadlistContainer5(this.props.folder,this.props.filter);}.bind(this)));this.$MercuryThreadlistContainer6(this.props.folder,this.props.filter);}.bind(this),'MercuryThreadlistContainer.react');};l.prototype.componentWillReceiveProps=function(m){if(m.folder!==this.props.folder||m.filter!==this.props.filter)this.$MercuryThreadlistContainer6(m.folder,m.filter);};l.prototype.componentWillUnmount=function(){this.$MercuryThreadlistContainer7();this.$MercuryThreadlistContainer8();this.$MercuryThreadlistContainer4&&this.$MercuryThreadlistContainer4.release();};l.prototype.render=function(){var m=this.props,n=m.ChildClass,o=m.folder,p=m.filter,q=babelHelpers.objectWithoutProperties(m,['ChildClass','folder','filter']),r=this.state.isSearching?this.state.threads.get(k)||[]:this.state.threads.get(o)||[];return c('React').createElement(n,babelHelpers['extends']({},q,{filter:this.props.filter,folder:o,isLoaded:!!this.$MercuryThreadlistContainer1&&this.$MercuryThreadlistContainer1.hasLoadedThreadlist(o,p),isLoading:this.state.isLoading,isSearching:this.state.isSearching,newMessageRequestThreads:this.state.unreadMessageRequestThreads,onLoadMoreRequest:this.$MercuryThreadlistContainer9,onQuery:this.$MercuryThreadlistContainer10,onSearchResults:this.$MercuryThreadlistContainer11,p2pJewelBannerContainer:this.$MercuryThreadlistContainer12(),threads:r}));};l.propTypes={ChildClass:j.func.isRequired,filter:j.string.isRequired,folder:j.string.isRequired,showCount:j.bool,showPresence:j.bool,source:j.string,threadCount:j.number,viewer:j.string.isRequired};l.defaultProps={source:c('MercuryAPIArgsSource').JEWEL};f.exports=l;}),null);
__d('ChatSidebarSheetChatOffline.react',['fbt','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement('div',null,h._("{=Go online} para ver qui\u00e9n est\u00e1 disponible.",[h.param('=Go online',c('React').createElement(c('Link.react'),{className:'fbChatGoOnlineLink',onClick:this.props.onGoOnlineClick},h._("Activa el chat")))])));};function l(){i.apply(this,arguments);}l.propTypes={onGoOnlineClick:k.func.isRequired};f.exports=l;}),null);
__d('ChatSidebarSheetChatReconnectMsg.react',['fbt','ChannelConstants','Link.react','MessengerSpinner.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.isMessenger,o=m.msecs,p=c('React').createElement(c('Link.react'),{className:'fbChatReconnectLink',onClick:this.props.onManuallyConnectClick},h._("No hay conexi\u00f3n a Internet"));if(o==null||false===navigator.onLine){return (n?p:c('React').createElement('div',null,h._("No es posible conectar con el chat. Comprueba tu conexi\u00f3n a Internet.")));}else if(o>c('ChannelConstants').WARNING_COUNTDOWN_THRESHOLD_MSEC){return (n?p:c('React').createElement('div',null,h._("No es posible conectar con el chat. {try-again-link}",[h.param('try-again-link',c('React').createElement(c('Link.react'),{className:'fbChatReconnectLink',onClick:this.props.onManuallyConnectClick},h._("Int\u00e9ntalo de nuevo")))])));}else if(o>1000){return (n?p:c('React').createElement('div',null,h._("No es posible conectar con el chat. Nuevo intento de conexi\u00f3n en {seconds} segundos...",[h.param('seconds',Math.floor(o/1000))])));}else return (n?c('React').createElement('div',null,c('React').createElement(c('MessengerSpinner.react'),{color:'grey'}),h._("Conectando")):c('React').createElement('div',null,h._("No es posible conectar con el chat. Volviendo a conectar...")));};function l(){i.apply(this,arguments);}l.propTypes={isMessenger:k.bool,msecs:k.number,onManuallyConnectClick:k.func};f.exports=l;}),null);
__d('ChatSidebarSheetChatShutdownMsg.react',['fbt','ChannelConstants','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.hint,o=m.isMessenger;switch(n){case c('ChannelConstants').HINT_AUTH:return (c('React').createElement('div',null,h._("Tu sesi\u00f3n expir\u00f3. Inicia sesi\u00f3n de nuevo.")));case c('ChannelConstants').HINT_MAINT:return (o?c('React').createElement('div',null,h._("Messenger no est\u00e1 disponible en este momento por mantenimiento.")):c('React').createElement('div',null,h._("{Chat} de Facebook no disponible por mantenimiento.",[h.param('Chat',h._("Chat"))])));case c('ChannelConstants').HINT_CONN:default:return (o?c('React').createElement('div',null,h._("Messenger no est\u00e1 disponible en este momento.")):c('React').createElement('div',null,h._("{Chat} de Facebook no disponible en este momento.",[h.param('Chat',h._("Chat"))])));}};function l(){i.apply(this,arguments);}l.propTypes={hint:k.string,isMessenger:k.bool};f.exports=l;}),null);
__d('ChatSidebarSheet.react',['fbt','Arbiter','ChannelConnection','ChatBehavior','ChatSidebarSheetChatOffline.react','ChatSidebarSheetChatReconnectMsg.react','ChatSidebarSheetChatShutdownMsg.react','ChatVisibility','CurrentEnvironment','CSS','JSLogger','MercurySyncConstants','PresencePrivacy','React','SubscriptionsHandler','emptyFunction','joinClasses','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('JSLogger').create('sidebar_sheet'),l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.$ChatSidebarSheet3=function(o,p){this.setState({channelStatus:o,channelData:p});this.$ChatSidebarSheet4();}.bind(this);this.$ChatSidebarSheet4=function(){this.setState({isConnected:!c('ChannelConnection').disconnected(),isOnline:c('ChatVisibility').isOnline(),notifiesUserMessages:c('ChatBehavior').notifiesUserMessages()});}.bind(this);this.state={channelStatus:null,channelData:null,isConnected:!c('ChannelConnection').disconnected(),isOnline:c('ChatVisibility').isOnline(),notifiesUserMessages:c('ChatBehavior').notifiesUserMessages(),syncStateInvalid:false,syncStateReconnecting:false};}m.prototype.componentDidMount=function(){this.$ChatSidebarSheet1=new (c('SubscriptionsHandler'))();this.$ChatSidebarSheet1.addSubscriptions(c('ChannelConnection').subscribe([c('ChannelConnection').CONNECTED,c('ChannelConnection').SHUTDOWN,c('ChannelConnection').RECONNECTING],this.$ChatSidebarSheet3),c('ChannelConnection').subscribe([c('ChannelConnection').MUTE_WARNING,c('ChannelConnection').UNMUTE_WARNING],this.$ChatSidebarSheet4),c('PresencePrivacy').subscribe('privacy-user-presence-changed',this.$ChatSidebarSheet4),c('ChatBehavior').subscribe(c('ChatBehavior').ON_CHANGED,this.$ChatSidebarSheet4),c('Arbiter').subscribe(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE,function(){this.setState({syncStateInvalid:true,syncStateReconnecting:false});}.bind(this)),c('Arbiter').subscribe(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE_RETRY,function(){this.setState({syncStateReconnecting:true});}.bind(this)),c('Arbiter').subscribe(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE_RECOVER,function(){this.setState({syncStateInvalid:false,syncStateReconnecting:false});}.bind(this)));};m.prototype.componentWillUpdate=function(){if(this.$ChatSidebarSheet2){clearTimeout(this.$ChatSidebarSheet2);this.$ChatSidebarSheet2=null;}};m.prototype.componentWillUnmount=function(){this.$ChatSidebarSheet1&&this.$ChatSidebarSheet1.release();};m.prototype.render=function(){var n=c('CurrentEnvironment').messengerdotcom,o=void 0,p=void 0;if(!this.state.isOnline&&!n){o='offline';p=this.$ChatSidebarSheet5();}else if(!this.state.isConnected||this.state.syncStateInvalid||this.state.syncStateReconnecting){o='error';p=this.$ChatSidebarSheet6(n);}else if(!this.state.notifiesUserMessages&&!n){o='notice';p=this.$ChatSidebarSheet7();}if(this.state.channelStatus===c('ChannelConnection').RECONNECTING&&this.state.channelData<1000||this.state.syncStateReconnecting)o=c('joinClasses')(o,'reconnecting');return c('React').createElement('div',{className:c('joinClasses')(this.props.className,o)},n?null:c('React').createElement('div',{className:'img'}),c('React').createElement('div',{className:'message'},p));};m.prototype.$ChatSidebarSheet6=function(n){if(this.state.channelStatus===c('ChannelConnection').SHUTDOWN||this.state.syncStateInvalid){return (c('React').createElement(c('ChatSidebarSheetChatShutdownMsg.react'),{hint:this.state.syncStateInvalid?undefined:this.state.channelData,isMessenger:n}));}else if(this.state.channelStatus===c('ChannelConnection').RECONNECTING||this.state.syncStateReconnecting){var o=this.state.syncStateReconnecting?1:this.state.channelData;if(o>1000)this.$ChatSidebarSheet2=c('setTimeoutAcrossTransitions')(this.$ChatSidebarSheet3.bind(this,c('ChannelConnection').RECONNECTING,o-1000),1000);return (c('React').createElement(c('ChatSidebarSheetChatReconnectMsg.react'),{isMessenger:n,msecs:o,onManuallyConnectClick:function(){if(!this.state.syncStateReconnecting)c('ChannelConnection').reconnect();}.bind(this)}));}return null;};m.prototype.$ChatSidebarSheet5=function(){return (c('React').createElement(c('ChatSidebarSheetChatOffline.react'),{onGoOnlineClick:function n(o){k.log('sidebar_go_online');c('ChatVisibility').goOnline();}}));};m.prototype.$ChatSidebarSheet7=function(){return (c('React').createElement('div',null,h._("Las alertas est\u00e1n desactivadas mientras usas otro cliente para chatear.")));};f.exports=m;}),null);
__d('MessengerMessageRequestsInfo.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){return (c('React').createElement('div',{className:"_5u15"},i._("Abre una solicitud para obtener informaci\u00f3n sobre qui\u00e9n te env\u00eda el mensaje."),' ',i._("La otra persona no sabr\u00e1 que viste su mensaje hasta que aceptes.")));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('MessengerThreadlistLinkRow.react',['cx','Link.react','React'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';return (c('React').createElement('li',{className:"_5l-3 _1ht1 _2ogr"},c('React').createElement('div',{className:"_2ogs"},c('React').createElement(c('Link.react'),{className:"_2ogt",onClick:this.props.onClick},this.props.children))));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={onClick:k.func.isRequired};f.exports=l;}),null);
__d('MessengerThreadlistMessageRequestsRow.react',['cx','fbt','ix','Image.react','ImmutableObject','Link.react','MercuryIDs','MercuryParticipants','MessagingTag','MessengerActions','MNAdsLogMessageUtils','React','shallowEqual'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=50,n=j('/images/mercury/clients/messenger/threadlist/Pending.png'),o=c('React').PropTypes;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$MessengerThreadlistMessageRequestsRow2=function(){return (c('React').createElement('div',{className:"_5l-3 _1qt3 _5nxe"},c('React').createElement(c('Image.react'),{alt:'',height:m,src:n,width:m}),c('React').createElement('span',{className:"_5nxf"},i._({"*":"{count}"},[i.param('count',this.props.newMessageRequestThreads.length,[0])]))));}.bind(this),this.$MessengerThreadlistMessageRequestsRow3=function(){var v=this.props.newMessageRequestThreads,w=i._({"someone":"De alguien que quiz\u00e1 conozcas","people":"De personas que quiz\u00e1 conozcas"},[i['enum'](v.length===1?'someone':'people',{someone:'someone',people:'people'})]),x=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),y=v[0].participants.find(function(aa){return aa!==x;});if(!y)return w;var z=c('MercuryParticipants').getOrFetch(y);if(!z||!z.name)return w;if(v.length>0)c('MNAdsLogMessageUtils').logAdsThreadListImpression(v[0]);return v.length===1?i._("De {name}",[i.param('name',z.name)]):i._({"*":"De {name} y {count} m\u00e1s"},[i.param('name',z.name),i.param('count',v.length-1,[0])]);}.bind(this),this.$MessengerThreadlistMessageRequestsRow1=function(v){v.preventDefault();c('MessengerActions').changeFolder(c('MessagingTag').PENDING);},r;}p.prototype.shouldComponentUpdate=function(q){return !c('shallowEqual')(this.props,q);};p.prototype.render=function(){var q=this.props.newMessageRequestThreads.length;if(q===0)return null;return c('React').createElement('li',{className:"_5l-3 _1ht1 _2il3 _2kt",role:'row'},c('React').createElement(c('Link.react'),{onClick:this.$MessengerThreadlistMessageRequestsRow1,className:"_1ht5 _5l-3"},this.$MessengerThreadlistMessageRequestsRow2(),c('React').createElement('div',{className:"_1qt4 _5l-m"},c('React').createElement('div',{className:"_1qt5 _5l-3"},c('React').createElement('div',{className:"_1ht6 _5nxa"},i._({"Request":"Nueva solicitud de mensaje","Requests":"Nuevas solicitudes de mensajes"},[i['enum'](q===1?'Request':'Requests',{Request:'Request',Requests:'Requests'})]))),c('React').createElement('div',{className:"_1qt5 _5l-3"},c('React').createElement('div',{className:"_1htf _5nxb"},this.$MessengerThreadlistMessageRequestsRow3())))));};p.propTypes={newMessageRequestThreads:o.arrayOf(o.instanceOf(c('ImmutableObject'))).isRequired,viewer:o.string.isRequired};f.exports=p;}),null);
__d('MessengerThreadlistNewMessageRow.react',['cx','fbt','ix','Image.react','Link.react','MercuryIDs','MercuryParticipantListRenderer','MercuryParticipants','MercuryParticipantsImage.react','MessengerActions','MessengerComposerStore','MessengerProfileImageWrapper.react','MessengerView','ReactComponentWithPureRenderMixin','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=50,l=j('/images/mercury/clients/messenger/threadlist/NewMessage.png'),m=c('React').PropTypes,n=c('React').createClass({displayName:'MessengerThreadlistNewMessageRow',mixins:[c('ReactComponentWithPureRenderMixin'),c('PureStoreBasedStateMixin')(c('MercuryParticipants'),c('MessengerComposerStore'))],propTypes:{isActive:m.bool,onClose:m.func.isRequired},statics:{calculateState:function o(){return {participants:c('MessengerComposerStore').getState().recipients.map(function(p){return c('MercuryParticipants').getOrFetch(c('MercuryIDs').getParticipantIDFromUserID(p.getUniqueID()));}).filter(function(p){return !!p;})};}},render:function o(){return (c('React').createElement('li',{className:"_5l-3"+(' '+"_1ht1")+(this.props.isActive?' '+"_1ht2":'')},c('React').createElement(c('Link.react'),{onClick:this._handleClickRow,className:"_1ht5 _2il3 _5l-3"},this._renderImage(),c('React').createElement('div',{className:"_1qt4 _5l-m"},c('React').createElement('div',{className:"_1qt5 _5l-3"},c('React').createElement('div',{className:"_1ht6"},this._renderTitle()),c('React').createElement('div',{className:"_23ct",onClick:this.props.onClose})),c('React').createElement('div',{className:"_1qt5 _5l-3"},'\u00A0')))));},_renderImage:function o(){var p=this.state.participants;if(!p.isEmpty())return (c('React').createElement('div',{className:"_1qt3 _5l-3"},c('React').createElement(c('MessengerProfileImageWrapper.react'),{isMessengerUser:p.size===1&&p.first().is_messenger_user,size:k,showBadge:p.size===1},c('React').createElement(c('MercuryParticipantsImage.react'),{participants:p.map(function(q){return q.id;}).slice(0,3).toArray(),size:k}))));return (c('React').createElement('div',{className:"_1qt3 _5l-3"},c('React').createElement(c('Image.react'),{height:k,src:l,width:k})));},_renderTitle:function o(){if(this.state.participants.isEmpty())return i._("Nuevo mensaje");return i._("Nuevo mensaje para {List of message recipients}",[i.param('List of message recipients',new (c('MercuryParticipantListRenderer'))().renderParticipantList(this.state.participants.toArray()))]);},_handleClickRow:function o(p){p.preventDefault();c('MessengerActions').changeDetailView(c('MessengerView').DETAIL.COMPOSE);}});f.exports=n;}),null);
__d('MercuryThreadlistRowContainer.react',['immutable','ImmutableObject','MercuryParticipants','React','StoreAndPropBasedStateMixin','shallowEqual'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'MercuryThreadlistRowContainer',mixins:[c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{ChildClass:h.func.isRequired,thread:h.instanceOf(c('ImmutableObject')).isRequired,viewer:h.string.isRequired},statics:{calculateState:function j(k){return {participants:c('immutable').Map(c('immutable').Seq(k.thread.participants).map(function(l){return [l,c('MercuryParticipants').getOrFetch(l)];}))};}},shouldComponentUpdate:function j(k,l){return (!c('shallowEqual')(k,this.props)||!c('immutable').is(l.participants,this.state.participants));},render:function j(){var k=this.props,l=k.ChildClass,m=babelHelpers.objectWithoutProperties(k,['ChildClass']);return (c('React').createElement(l,babelHelpers['extends']({},m,{participants:this.state.participants})));}});f.exports=i;}),null);
__d('MessengerThreadlistRowSeenHead.react',['cx','Image.react','immutable','ImmutableObject','MercuryIDs','MercuryMessageInfo','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){if(this.props.isHidden||!this.props.thread.is_canonical)return null;var n=this.props,o=n.lastMessage,p=n.participants,q=n.readReceipts,r=n.thread,s=n.viewer,t=c('MercuryIDs').getParticipantIDFromUserID(s),u=c('MercuryIDs').getParticipantIDFromUserID(r.other_user_fbid),v=q.get(u),w=p.get(u),x=v?v.watermark:null;if(!w||!m(t,x,r,o))return null;return (c('React').createElement(c('Image.react'),{className:c('joinClasses')(this.props.className,"_2_a2"),src:w.image_src,title:w.name}));};function l(){i.apply(this,arguments);}l.propTypes={isHidden:k.bool,lastMessage:k.instanceOf(c('ImmutableObject')),participants:k.instanceOf(c('immutable').Map).isRequired,readReceipts:k.instanceOf(c('immutable').OrderedMap).isRequired,thread:k.instanceOf(c('ImmutableObject')).isRequired,viewer:k.string.isRequired};function m(n,o,p,q){if(q){return (q.author===n&&o>=q.timestamp&&!c('MercuryMessageInfo').isSending(q)&&!c('MercuryMessageInfo').hasError(q));}else return (p.snippet_sender===n&&o>=p.timestamp);}f.exports=l;}),null);
__d('MessengerThreadlistRow.react',['cx','fbt','ix','Image.react','immutable','ImmutableObject','Link.react','MercuryIDs','MercuryMessageInfo','MercuryThreadSnippet.react','MercuryThreadTimestamp.react','MercuryThreadTitle.react','MercuryTimestamp','MessengerThreadImage.react','messengerThreadlistRowActionsReact','MessengerThreadlistRowSeenHead.react','messengerURIUtilsRe','MNAdsMessageUtils','React','ReactDOM','UserAgent','joinClasses','messengerRTLClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('messengerThreadlistRowActionsReact').comp,n=c('React').PropTypes,o=50,p=j('/images/mercury/clients/messenger/message/messageStateFailed.png'),q=j('/images/mercury/clients/messenger/message/messageStateSending.png');k=babelHelpers.inherits(r,c('React').PureComponent);l=k&&k.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=l.constructor).call.apply(s,[this].concat(v)),this.state={actionsOpen:false},this.$MessengerThreadlistRow1=0,this.$MessengerThreadlistRow2=null,this.$MessengerThreadlistRow11=function(){var x=this.props.lastMessage;if(this.state.actionsOpen||!x)return null;var y=c('MercuryMessageInfo').isSending(x),z=c('MercuryMessageInfo').hasError(x);if(!y&&!z)return null;return (c('React').createElement(c('Image.react'),{className:"_wtw"+(y?' '+"_3qh2":''),src:y?q:p}));}.bind(this),this.$MessengerThreadlistRow4=function(x){x.preventDefault();this.props.onFocus(this.props.thread.thread_id);}.bind(this),this.$MessengerThreadlistRow5=function(x){this.$MessengerThreadlistRow1++;if(this.$MessengerThreadlistRow2)return;this.$MessengerThreadlistRow2=setTimeout(function(){this.props.onSelect&&this.props.onSelect();this.$MessengerThreadlistRow1=0;this.$MessengerThreadlistRow2=null;}.bind(this),1000);}.bind(this),this.$MessengerThreadlistRow6=function(x){this.$MessengerThreadlistRow1--;if(this.$MessengerThreadlistRow1===0){clearTimeout(this.$MessengerThreadlistRow2);this.$MessengerThreadlistRow2=null;}}.bind(this),this.$MessengerThreadlistRow8=function(x){if(this.props.logClickHandler){var y=this.props.thread.is_canonical?c('MercuryIDs').getUserIDFromThreadID(this.props.thread.thread_id)||'0':this.props.thread.thread_fbid;this.props.logClickHandler&&this.props.logClickHandler(y);}this.$MessengerThreadlistRow9();this.props.onSelect&&this.props.onSelect();x.preventDefault();this.$MessengerThreadlistRow3();}.bind(this),this.$MessengerThreadlistRow12=function(x){this.setState({actionsOpen:x});}.bind(this),this.$MessengerThreadlistRow7=function(x){return 'row_header_id_'+x;},this.$MessengerThreadlistRow3=function(){var x=c('ReactDOM').findDOMNode(this.refs.link);if(x.href){x.setAttribute('data-href',x.href);x.removeAttribute('href');}}.bind(this),this.$MessengerThreadlistRow9=function(){var x=c('ReactDOM').findDOMNode(this.refs.link),y=x.getAttribute('data-href');if(y){x.setAttribute('href',y);x.removeAttribute('data-href');}}.bind(this),t;}r.prototype.componentDidMount=function(){this.$MessengerThreadlistRow3();};r.prototype.componentDidUpdate=function(s){if(this.props.isFocused)if(!s.isFocused){if(this.props.isActionsFocused){c('ReactDOM').findDOMNode(this.refs.actions.refs.button).focus();}else c('ReactDOM').findDOMNode(this.refs.link).focus();}else if(!s.isActionsFocused&&this.props.isActionsFocused){c('ReactDOM').findDOMNode(this.refs.actions.refs.button).focus();}else if(s.isActionsFocused&&!this.props.isActionsFocused)c('ReactDOM').findDOMNode(this.refs.link).focus();};r.prototype.render=function(){var s=this.props,t=s.isActive,u=s.isActionsFocused,v=s.isTabbable,w=s.participants,x=s.thread,y=s.viewer,z=x.unread_count>0,aa=c('messengerURIUtilsRe').getURIForThreadID(x.thread_id);return c('React').createElement('li',{'aria-live':z?'polite':null,'aria-relevant':t||z?'additions text':null,onFocus:this.$MessengerThreadlistRow4,className:"_5l-3"+(' '+"_1ht1")+(this.props.isActive?' '+"_1ht2":'')+(z?' '+"_1ht3":'')+(this.state.actionsOpen?' '+"_13aa":'')+(this.props.isMuted?' '+"_569x":'')+(this.props.isFocused?' '+"_23_m":'')+(z&&c('UserAgent').isBrowser('Chrome')&&c('UserAgent').isPlatform('Mac')?' '+"_5fx8":''),onDragEnter:t?null:this.$MessengerThreadlistRow5,onDragLeave:t?null:this.$MessengerThreadlistRow6,role:'row',ref:function(ba){return ba&&this.props.registerThreadRefs&&this.props.registerThreadRefs(ba);}.bind(this)},c('React').createElement('div',{className:"_5l-3 _1ht5",id:this.$MessengerThreadlistRow7(x.thread_id),role:'rowheader',tabIndex:-1},c('React').createElement(c('Link.react'),{href:aa.toString(),onBlur:this.$MessengerThreadlistRow3,onClick:this.$MessengerThreadlistRow8,onFocus:this.$MessengerThreadlistRow9,className:"_1ht5 _2il3 _5l-3",s:'true',ref:'link',role:'link',tabIndex:v&&!u?0:-1},c('React').createElement('div',{className:"_1qt3 _5l-3"},c('React').createElement(c('MessengerThreadImage.react'),{participants:w,size:o,thread:x,viewer:y})),c('React').createElement('div',{className:"_1qt4 _5l-m"},c('React').createElement('div',{className:"_1qt5 _5l-3"},c('React').createElement(c('MercuryThreadTitle.react'),{className:"_1ht6",showUnreadCount:false,thread:x,useShortName:false,viewer:y}),c('React').createElement('div',null,c('MNAdsMessageUtils').isAdsMessageRequest(x)?c('MNAdsMessageUtils').renderAdsMessageRequestStatus():this.$MessengerThreadlistRow10(x))),c('React').createElement('div',{className:"_1qt5 _5l-3"},c('React').createElement(c('MercuryThreadSnippet.react'),{className:c('joinClasses')("_1htf",c('messengerRTLClasses')(x.snippet,true)),participants:w,shouldRenderYou:true,thread:x,viewer:y}))))),c('React').createElement('div',{role:'gridcell'},c('React').createElement('div',{'aria-describedby':this.$MessengerThreadlistRow7(x.thread_id),'aria-haspopup':'true','aria-label':i._("Acciones"),className:"_2j6 _5l-3",tabIndex:v&&u?0:-1,role:'button'},c('React').createElement(c('MessengerThreadlistRowSeenHead.react'),{className:"_5bli",isHidden:this.state.actionsOpen,lastMessage:this.props.lastMessage,participants:w,readReceipts:this.props.readReceipts,thread:x,viewer:y}),this.$MessengerThreadlistRow11(),c('React').createElement(m,{className:"_5blh",isMuted:this.props.isMuted,isOpen:this.state.actionsOpen,isUnread:z,onArchive:this.props.onArchive,onDelete:this.props.onDelete,onLeaveGroup:this.props.onLeaveGroup,onMarkRead:this.props.onMarkRead,onMarkSpam:this.props.onMarkSpam,onMarkUnread:this.props.onMarkUnread,onMute:this.props.onMute,onToggle:this.$MessengerThreadlistRow12,onUnmute:this.props.onUnmute,showLeaveGroup:this.props.showLeaveGroup,showMute:true,ref:'actions'}),c('React').createElement('div',{className:"_56ck"}))));};r.prototype.$MessengerThreadlistRow10=function(s){return c('React').createElement(c('MercuryThreadTimestamp.react'),{className:"_1ht7",time:s.timestamp,title:c('MercuryTimestamp').getAbsoluteTimestamp(s.timestamp),text:c('MercuryTimestamp').getRelativeTimestamp(s.timestamp)});};r.propTypes={isActive:n.bool.isRequired,isActionsFocused:n.bool,isFocused:n.bool,isMuted:n.bool.isRequired,lastMessage:n.instanceOf(c('ImmutableObject')),logClickHandler:n.func,onArchive:n.func.isRequired,onDelete:n.func.isRequired,onMarkRead:n.func.isRequired,onMarkSpam:n.func.isRequired,onMarkUnread:n.func.isRequired,onMute:n.func.isRequired,onSelect:n.func.isRequired,onUnmute:n.func.isRequired,participants:n.instanceOf(c('immutable').Map).isRequired,readReceipts:n.instanceOf(c('immutable').OrderedMap).isRequired,registerThreadRefs:n.func,thread:n.instanceOf(c('ImmutableObject')).isRequired,viewer:n.string.isRequired};f.exports=r;}),null);
__d('MessengerThreadlistRowContainer.react',['ImmutableObject','MercuryIDs','MercuryLogMessageType','MercuryMessageActions','MercuryMessageObject','MercuryMessages','MercuryRoger','MercurySourceType','MercuryThreadActions','MercuryThreadInfo','MercuryThreadlistRowContainer.react','MessengerActions','MessengerConfirmLeaveGroupDialog.react','MessengerAdminGroupUtils','MessengerThreadlistRow.react','ReactComponentWithPureRenderMixin','React','ReactDOM','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('MercuryRoger').get(),i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerThreadlistRowContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryMessages'),h)],propTypes:{isActive:i.bool.isRequired,isTabbable:i.bool,thread:i.instanceOf(c('ImmutableObject')).isRequired,viewer:i.string.isRequired},statics:{calculateState:function k(l){var m=c('MercuryMessages').getForFBID(l.viewer),n=l.thread.thread_id,o=m.getThreadMessagesRangeNow(n,0,1)[0];return {lastMessage:o||null,readReceipts:h.getSeenTimestamps(n)};}},componentDidUpdate:function k(l){if(this.props.isActive&&!l.isActive)this.props.onScrollIntoView(c('ReactDOM').findDOMNode(this));},render:function k(){return (c('React').createElement(c('MercuryThreadlistRowContainer.react'),babelHelpers['extends']({},this.props,{ChildClass:c('MessengerThreadlistRow.react'),isMuted:c('MercuryThreadInfo').isMuted(this.props.thread),lastMessage:this.state.lastMessage,onArchive:this._handleArchive,onDelete:this._handleDelete,onLeaveGroup:this._handleLeaveGroup,onMarkRead:this._handleMarkRead,onMarkSpam:this._handleMarkSpam,onMarkUnread:this._handleMarkUnread,onMute:this._handleMute,onSelect:this._handleSelect,onUnmute:this._handleUnmute,readReceipts:this.state.readReceipts,showLeaveGroup:this.props.thread.is_subscribed&&!this.props.thread.is_canonical})));},_handleArchive:function k(){var l=this.props.isActive;this._getThreadActions().archive(this.props.thread.thread_id);l&&c('MessengerActions').selectThread(null);},_handleDelete:function k(){var l=this.props.isActive;this._getThreadActions()['delete'](this.props.thread.thread_id);l&&c('MessengerActions').selectThread(null);},_handleMarkRead:function k(){this._getThreadActions().markRead(this.props.thread.thread_id);},_handleMarkSpam:function k(){var l=this.props.isActive;this._getThreadActions().markSpam(this.props.thread.thread_id);l&&c('MessengerActions').selectThread(null);},_handleMarkUnread:function k(){this._getThreadActions().markUnread(this.props.thread.thread_id);},_handleMute:function k(l){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,l);},_handleSelect:function k(){c('MessengerActions').selectThread(this.props.thread.thread_id);},_handleUnmute:function k(){this._getThreadActions().unmute(this.props.thread.thread_id);},_handleLeaveGroup:function k(){if(this.props.viewer){var l=c('MessengerAdminGroupUtils').isViewerAdmin(this.props.thread.admin_ids,this.props.viewer);c('MessengerActions').showDialog(c('MessengerConfirmLeaveGroupDialog.react'),{onLeave:this._onLeaveGroupConfirm,isViewerAdmin:l});}},_onLeaveGroupConfirm:function k(){if(!c('MercuryThreadInfo').isEmptyLocalThread(this.props.thread)){var l=this._getMessageObject().constructLogMessageObject(c('MercurySourceType').MESSENGER_WEB,this.props.thread.thread_id,c('MercuryLogMessageType').UNSUBSCRIBE,{removed_participants:[c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer)]});this._getMessageActions().send(l);}},_getThreadActions:function k(){return c('MercuryThreadActions').getForFBID(this.props.viewer);},_getMessageActions:function k(){return c('MercuryMessageActions').getForFBID(this.props.viewer);},_getMessageObject:function k(){return c('MercuryMessageObject').getForFBID(this.props.viewer);}});f.exports=j;}),null);
__d('ModularInboxModuleFooter.react',['ix','cx','fbt','Image.react','Link.react','React','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=function m(n){return (c('React').createElement(c('Link.react'),{'aria-label':j._("Ver m\u00e1s contactos"),className:"_4iuc",onClick:n.onClickHandler,role:'button'},j._("Ver todo"),c('React').createElement(c('Image.react'),{className:"_4iuf",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/chevron-right_12_fig-blue.png")})));};l.propTypes={onClickHandler:k.func.isRequired};f.exports=l;}),null);
__d('ModularInboxModuleHeader.react',['cx','fbt','CurrentUser','Link.react','MessengerMenu.react','MessengerPopoverMenu.react','ModularInboxHideUnitMutation','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=c('MessengerMenu.react').Item;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ModularInboxModuleHeader3=function(){this.props.onHideHandler&&this.props.onHideHandler();var t=c('CurrentUser').getID();this.props.relay.commitUpdate(new (c('ModularInboxHideUnitMutation'))({client_mutation_id:t,actor_id:t,unit_id:this.props.headerData.id,action_type:'HIDE',unit_logging_data:this.props.headerData.messenger_inbox_unit_logging_data}));}.bind(this),p;}n.prototype.render=function(){return c('React').createElement('div',{className:"_1rqg"},c('React').createElement('div',{className:"_1rqh"},this.props.headerData.messenger_inbox_unit_title.text,this.$ModularInboxModuleHeader1()),this.props.showSettings?c('React').createElement(c('MessengerPopoverMenu.react'),{menu:this.$ModularInboxModuleHeader2()},c('React').createElement(c('Link.react'),{'aria-haspopup':'true','aria-label':i._("Opciones del m\u00f3dulo"),className:"_1rqi",role:'button'})):null);};n.prototype.$ModularInboxModuleHeader1=function(){if(this.props.showCount&&this.props.count&&this.props.count>0)return c('React').createElement('span',null,' ('+this.props.count+')');return null;};n.prototype.$ModularInboxModuleHeader2=function(){return c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(m,{label:i._("Ocultar secci\u00f3n"),onclick:this.$ModularInboxModuleHeader3}));};n.PropTypes={count:l.number,headerData:l.object.isRequired,onHideHandler:l.func,showCount:l.bool,showSettings:l.bool.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{headerData:function o(){return function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'messenger_inbox_unit_logging_data',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'messenger_inbox_unit_title',kind:'Field',metadata:{canHaveSubselections:true},type:'TextWithEntities'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxModuleHeader_react_HeaderDataRelayQL',type:'MessengerInboxUnit'};}();}}});}),null);
__d('ModularInboxActiveNowModule.react',['cx','AvailableListConstants','Image.react','Map','MercuryIDs','MercuryParticipants','MessengerActions','MessengerHorizontalScroll.react','MessengerProfileImageWrapper.react','MessengerResponsiveBlock.react','MessengerView','ModularInboxLogger','ModularInboxModuleFooter.react','ModularInboxModuleHeader.react','PresenceOrderedList','PresencePrivacy','PresenceStatusStore','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=200,m=50;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.$ModularInboxActiveNowModule1={};this.$ModularInboxActiveNowModule2=null;this.$ModularInboxActiveNowModule3=null;this.$ModularInboxActiveNowModule8=function(){c('MessengerActions').changeMasterView(c('MessengerView').MASTER.PEOPLE);var q=this.props.activeNowData;c('ModularInboxLogger').logSeeMoreClick(q.messenger_inbox_unit_logging_data,q.id);}.bind(this);this.$ModularInboxActiveNowModule9=function(q,r){var s=this.state.rankedUsers.get(q),t=this.state.rankedUsers.get(r);if(s===undefined||t===undefined)return 0;if(s<t){return -1;}else if(s>t)return 1;return 0;}.bind(this);this.$ModularInboxActiveNowModule4=function(){c('PresenceOrderedList').getSorted(l,function(q){var r=c('PresenceOrderedList').getAvailableSorted(q),s=q.filter(function(u){return c('PresencePrivacy').allows(u);}),t=s.concat(r).filter(function(u){return c('PresenceStatusStore').get(u)===c('AvailableListConstants').ACTIVE;}).filter(function(u){return this.state.rankedUsers.get(u)!==undefined;}.bind(this)).sort(this.$ModularInboxActiveNowModule9).map(function(u){return c('MercuryIDs').getParticipantIDFromUserID(u);}).map(function(u){return c('MercuryParticipants').getOrFetch(u);}).filter(function(u){return !!u;});this.setState({onlineUsers:t});}.bind(this));}.bind(this);var p=new (c('Map'))();o.activeNowData.messenger_inbox_unit_items.map(function(q,r){p.set(q.messenger_inbox_item_attachment.user_id,r);});this.state={onlineUsers:[],rankedUsers:p};}n.prototype.componentWillMount=function(){this.$ModularInboxActiveNowModule2=c('MercuryParticipants').addListener('change',this.$ModularInboxActiveNowModule4);this.$ModularInboxActiveNowModule3=c('PresenceStatusStore').addListener(function(){this.$ModularInboxActiveNowModule4;}.bind(this));this.$ModularInboxActiveNowModule4();};n.prototype.componentWillUnmount=function(){this.$ModularInboxActiveNowModule2&&this.$ModularInboxActiveNowModule2.remove();this.$ModularInboxActiveNowModule3&&this.$ModularInboxActiveNowModule3.remove();};n.prototype.render=function(){var o,p=this;if(this.state.onlineUsers.length===0||this.props.activeNowData.messenger_inbox_unit_hides_remaining===0)return null;var q=[],r=function x(y){if(y===null||y===undefined){return 'continue';}else q.push(c('React').createElement('div',{className:"_4a57",key:y.fbid,onClick:function(){return y&&y.fbid&&this.$ModularInboxActiveNowModule5(y.fbid);}.bind(p),role:'button',ref:function(z){return z&&y&&y.fbid&&this.$ModularInboxActiveNowModule6(y.fbid,z);}.bind(p)},c('React').createElement(c('MessengerProfileImageWrapper.react'),{className:"_4a58",renderOnlineStatus:true,isMessengerUser:y.is_messenger_user,size:m,showBadge:true},c('React').createElement(c('Image.react'),{className:"_4a59",src:y.big_image_src||y.image_src})),c('React').createElement('div',{className:"_4a5a"},y.short_name)));};for(var s=this.state.onlineUsers,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v,o=r(w);if(o==='continue')continue;}return c('React').createElement('div',{ref:function(x){return x&&this.$ModularInboxActiveNowModule7(x);}.bind(this)},c('React').createElement(c('ModularInboxModuleHeader.react'),{count:this.state.onlineUsers.length,headerData:this.props.activeNowData,onHideHandler:this.props.onHideHandler,showCount:true,showSettings:true}),c('React').createElement(c('MessengerResponsiveBlock.react'),{breakpointsToggles:function x(y){return [y];}},function(x){var y=x[0];if(y===null)return null;var z=5;if(y<=380&&y>=310){z=4;}else if(y<310)z=3;return c('React').createElement(c('MessengerHorizontalScroll.react'),{batchScroll:true,childPadding:8,childWidth:65,leftOffset:7,numChildrenVisible:z,width:y},q);}),this.props.activeNowData.messenger_inbox_unit_should_show_see_more&&c('React').createElement(c('ModularInboxModuleFooter.react'),{onClickHandler:this.$ModularInboxActiveNowModule8}));};n.prototype.$ModularInboxActiveNowModule6=function(o,p){this.$ModularInboxActiveNowModule1[o]=p;};n.prototype.$ModularInboxActiveNowModule7=function(o){if(Object.keys(this.$ModularInboxActiveNowModule1).length!==0){this.props.registerModularInboxData(this.props.activeNowData.id,{ref:o,refs:this.$ModularInboxActiveNowModule1,loggingData:this.props.activeNowData.messenger_inbox_unit_logging_data});this.$ModularInboxActiveNowModule1={};}};n.prototype.$ModularInboxActiveNowModule5=function(o){var p=this.props.activeNowData,q=c('MercuryIDs').getThreadIDFromUserID(o);c('MessengerActions').selectThread(q);c('ModularInboxLogger').logUnitClick(p.messenger_inbox_unit_logging_data,p.id,o);};n.propTypes={activeNowData:k.object.isRequired,onHideHandler:k.func.isRequired,registerModularInboxData:k.func.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{activeNowData:function o(){return function(p){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'messenger_inbox_unit_logging_data',kind:'Field',metadata:{},type:'String'},{fieldName:'messenger_inbox_unit_hides_remaining',kind:'Field',metadata:{},type:'Int'},{fieldName:'messenger_inbox_unit_should_show_see_more',kind:'Field',metadata:{},type:'Boolean'},{children:[{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'user_id',kind:'Field',metadata:{},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerInbox2ItemUserIDAttachment',type:'MessengerInbox2ItemUserIDAttachment'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],fieldName:'messenger_inbox_item_attachment',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true},type:'MessengerInboxItemAttachment'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'messenger_inbox_unit_items',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isPlural:true},type:'MessengerInboxItem'},c('RelayQL').__frag(p)]),id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxActiveNowModule_react_ActiveNowDataRelayQL',type:'MessengerInboxUnit'};}(c('ModularInboxModuleHeader.react').getFragment('headerData'));}}});}),null);
__d('ModularInboxThreadlistRow.react',['cx','MessengerContactImage.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=function k(l){return (c('React').createElement('div',{className:"_1mcf",'data-hover':'tooltip','data-tooltip-content':l.contactMessage,'data-tooltip-display':'overflow','data-tooltip-position':'right',onClick:function m(){return l.onClickHandler(l.birthdayUser.id);},role:'button',ref:function m(n){return n&&l.registerThreadRefs&&l.registerThreadRefs(n);}},c('React').createElement(c('MessengerContactImage.react'),{isMessengerUser:l.birthdayUser.is_messenger_user,size:50,src:l.birthdayUser.profile_picture.uri}),c('React').createElement('div',{className:"_1mch"},c('React').createElement('div',{className:"_1mci"},l.birthdayUser.name),c('React').createElement('div',{className:"_1mcj"},l.glyph,c('React').createElement('div',{className:"_1mck"},l.contactMessage)))));};j.propTypes={birthdayUser:i.object.isRequired,contactMessage:i.any.isRequired,glyph:i.object,onClickHandler:i.func.isRequired,registerThreadRefs:i.func};f.exports=c('Relay').createContainer(j,{fragments:{birthdayUser:function k(){return function(){return {children:[{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'is_messenger_user',kind:'Field',metadata:{},type:'Boolean'},{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxThreadlistRow_react_BirthdayUserRelayQL',type:'User'};}();}}});}),null);
__d('ModularInboxBirthdaysModule.react',['ix','cx','fbt','Image.react','MercuryIDs','MessengerActions','ModularInboxLogger','ModularInboxModuleHeader.react','ModularInboxThreadlistRow.react','React','Relay','RelayQL','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$ModularInboxBirthdaysModule1={},this.$ModularInboxBirthdaysModule2=function(t){var u=this.props.birthdayData,v=c('MercuryIDs').getThreadIDFromUserID(t);c('MessengerActions').selectThread(v);c('ModularInboxLogger').logUnitClick(u.messenger_inbox_unit_logging_data,u.id,t);}.bind(this),p;}n.prototype.render=function(){if(this.props.birthdayData.messenger_inbox_unit_hides_remaining===0)return null;var o=j._("Env\u00edale un saludo de cumplea\u00f1os"),p=c('React').createElement(c('Image.react'),{className:"_5m_-",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/cake_16_fig-light-30.png")}),q=this.props.birthdayData.messenger_inbox_unit_items,r=q.map(function(s){var t=s.messenger_inbox_item_attachment.item_user;return c('React').createElement(c('ModularInboxThreadlistRow.react'),{birthdayUser:t,contactMessage:o,key:t.id,onClickHandler:this.$ModularInboxBirthdaysModule2,glyph:p,registerThreadRefs:this.$ModularInboxBirthdaysModule3.bind(this,t.id)});}.bind(this));return c('React').createElement('div',{ref:function(s){return s&&this.$ModularInboxBirthdaysModule4(s);}.bind(this)},c('React').createElement(c('ModularInboxModuleHeader.react'),{headerData:this.props.birthdayData,onHideHandler:this.props.onHideHandler,showSettings:true}),c('React').createElement('div',null,r));};n.prototype.$ModularInboxBirthdaysModule3=function(o,p){this.$ModularInboxBirthdaysModule1[o]=p;};n.prototype.$ModularInboxBirthdaysModule4=function(o){if(Object.keys(this.$ModularInboxBirthdaysModule1).length!==0){this.props.registerModularInboxData(this.props.birthdayData.id,{ref:o,refs:this.$ModularInboxBirthdaysModule1,loggingData:this.props.birthdayData.messenger_inbox_unit_logging_data});this.$ModularInboxBirthdaysModule1={};}};n.propTypes={birthdayData:m.object.isRequired,onHideHandler:m.func.isRequired,registerModularInboxData:m.func.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{birthdayData:function o(){return function(p,q){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'messenger_inbox_unit_logging_data',kind:'Field',metadata:{},type:'String'},{fieldName:'messenger_inbox_unit_hides_remaining',kind:'Field',metadata:{},type:'Int'},{children:[{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},c('RelayQL').__frag(q)]),fieldName:'item_user',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'User'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerConversationStarterItem',type:'MessengerConversationStarterItem'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],fieldName:'messenger_inbox_item_attachment',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true},type:'MessengerInboxItemAttachment'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'messenger_inbox_unit_items',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isPlural:true},type:'MessengerInboxItem'},c('RelayQL').__frag(p)]),id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxBirthdaysModule_react_BirthdayDataRelayQL',type:'MessengerInboxUnit'};}(c('ModularInboxModuleHeader.react').getFragment('headerData'),c('ModularInboxThreadlistRow.react').getFragment('birthdayUser'));}}});}),null);
__d('ModularInboxFavoritesModule.react',['cx','MercuryIDs','MessengerActions','MessengerContactImage.react','MessengerHorizontalScroll.react','MessengerResponsiveBlock.react','ModularInboxLogger','ModularInboxModuleHeader.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=50;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$ModularInboxFavoritesModule1={},o;}m.prototype.render=function(){if(this.props.favoritesData.messenger_inbox_unit_hides_remaining===0)return null;var n=this.props.favoritesData.messenger_inbox_unit_items,o=n.map(function(p){var q=p.messenger_inbox_item_attachment.user;return (c('React').createElement('div',{className:"_5t9x",key:q.id,onClick:function(){return this.$ModularInboxFavoritesModule2(q.id);}.bind(this),role:'button',ref:function(r){return r&&this.$ModularInboxFavoritesModule3(q.id,r);}.bind(this)},c('React').createElement(c('MessengerContactImage.react'),{className:"_2bde",isMessengerUser:q.is_messenger_user,size:l,src:q.profile_picture.uri}),c('React').createElement('div',{className:"_5tww"},q.first_name)));}.bind(this));return (c('React').createElement('div',{ref:function(p){return p&&this.$ModularInboxFavoritesModule4(p);}.bind(this)},c('React').createElement(c('ModularInboxModuleHeader.react'),{headerData:this.props.favoritesData,onHideHandler:this.props.onHideHandler,showSettings:true}),c('React').createElement(c('MessengerResponsiveBlock.react'),{breakpointsToggles:function p(q){return [q];}},function(p){var q=p[0];if(q===null)return null;var r=5;if(q<=380&&q>=310){r=4;}else if(q<310)r=3;return (c('React').createElement(c('MessengerHorizontalScroll.react'),{batchScroll:true,childPadding:8,childWidth:65,leftOffset:7,numChildrenVisible:r,width:q},o));})));};m.prototype.$ModularInboxFavoritesModule3=function(n,o){this.$ModularInboxFavoritesModule1[n]=o;};m.prototype.$ModularInboxFavoritesModule4=function(n){if(Object.keys(this.$ModularInboxFavoritesModule1).length!==0){this.props.registerModularInboxData(this.props.favoritesData.id,{ref:n,refs:this.$ModularInboxFavoritesModule1,loggingData:this.props.favoritesData.messenger_inbox_unit_logging_data});this.$ModularInboxFavoritesModule1={};}};m.prototype.$ModularInboxFavoritesModule2=function(n){var o=this.props.favoritesData,p=c('MercuryIDs').getThreadIDFromUserID(n);c('MessengerActions').selectThread(p);c('ModularInboxLogger').logUnitClick(o.messenger_inbox_unit_logging_data,o.id,n);};m.propTypes={favoritesData:k.object.isRequired,onHideHandler:k.func.isRequired,registerModularInboxData:k.func.isRequired};f.exports=c('Relay').createContainer(m,{fragments:{favoritesData:function n(){return function(o){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'messenger_inbox_unit_logging_data',kind:'Field',metadata:{},type:'String'},{fieldName:'messenger_inbox_unit_hides_remaining',kind:'Field',metadata:{},type:'Int'},{children:[{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{children:[{fieldName:'first_name',kind:'Field',metadata:{},type:'String'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'is_messenger_user',kind:'Field',metadata:{},type:'Boolean'},{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'}],fieldName:'user',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'User'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerPYMMUser',type:'MessengerPYMMUser'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],fieldName:'messenger_inbox_item_attachment',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true},type:'MessengerInboxItemAttachment'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'messenger_inbox_unit_items',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isPlural:true},type:'MessengerInboxItem'},c('RelayQL').__frag(o)]),id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxFavoritesModule_react_FavoritesDataRelayQL',type:'MessengerInboxUnit'};}(c('ModularInboxModuleHeader.react').getFragment('headerData'));}}});}),null);
__d('ModularInboxView.react',['ImmutableObject','MessengerInbox2UnitType','MessengerResponsiveBlock.react','MessengerThreadlistRowContainer.react','ModularInboxActiveNowModule.react','ModularInboxBirthdaysModule.react','ModularInboxFavoritesModule.react','ModularInboxModuleHeader.react','ModularInboxRecentThreadsModule.react','ModularInboxRemainingThreadsModule.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=5,l=60*60*1000,m=100,n=[c('MessengerInbox2UnitType').MOST_RECENT_THREADS,c('MessengerInbox2UnitType').ACTIVE_NOW,c('MessengerInbox2UnitType').PYMM,c('MessengerInbox2UnitType').BIRTHDAYS,c('MessengerInbox2UnitType').ALL_REMAINING_THREADS];h=babelHelpers.inherits(o,c('React').Component);i=h&&h.prototype;function o(q){i.constructor.call(this,q);p.call(this);var r=this.props.messengerModules.messenger_inbox_units.edges||[],s=null,t=r.reduce(function(w,x){if(x.node.id===c('MessengerInbox2UnitType').MOST_RECENT_THREADS)s=x.node.messenger_inbox_unit_config;if(n.includes(x.node.id)){return w.concat(x.node.id);}else return w;},[]),u=t.length,v=k;if(s)v=this.$ModularInboxView1(s.max_hours_back,s.min_num_threads_to_show,s.max_num_threads_to_show);this.state={numRecentThreads:v,numDisplayedModules:u};}o.prototype.$ModularInboxView1=function(q,r,s){var t=0;this.props.threads.map(function(u){if((Date.now()-u.last_message_timestamp)/l<q)t+=1;});if(t>s){return s;}else if(t<r)return r;return t;};o.prototype.render=function(){if(this.state.numDisplayedModules<=2){return this.renderLegacyThreadlist();}else return this.renderModules();};o.prototype.renderModules=function(){var q=this.props.messengerModules.messenger_inbox_units.edges||[],r=q.map(function(s){switch(s.node.id){case c('MessengerInbox2UnitType').MOST_RECENT_THREADS:return (c('React').createElement(c('ModularInboxRecentThreadsModule.react'),{recentThreadsData:s.node,key:s.node.id,activeThreadID:this.props.activeThreadID,focusedThreadID:this.props.focusedThreadID,isThreadActionMenuFocused:this.props.isThreadActionMenuFocused,onFocusHandler:this.props.onFocusHandler,onScrollIntoViewHandler:this.props.onScrollIntoViewHandler,registerModularInboxData:this.props.registerModularInboxData,threads:this.props.threads.slice(0,this.state.numRecentThreads),viewer:this.props.viewer}));case c('MessengerInbox2UnitType').ACTIVE_NOW:return (c('React').createElement(c('ModularInboxActiveNowModule.react'),{activeNowData:s.node,key:s.node.id,onHideHandler:this.$ModularInboxView2,registerModularInboxData:this.props.registerModularInboxData}));case c('MessengerInbox2UnitType').PYMM:return (c('React').createElement(c('ModularInboxFavoritesModule.react'),{favoritesData:s.node,key:s.node.id,onHideHandler:this.$ModularInboxView2,registerModularInboxData:this.props.registerModularInboxData}));case c('MessengerInbox2UnitType').BIRTHDAYS:return (c('React').createElement(c('ModularInboxBirthdaysModule.react'),{birthdayData:s.node,key:s.node.id,onHideHandler:this.$ModularInboxView2,registerModularInboxData:this.props.registerModularInboxData}));case c('MessengerInbox2UnitType').ALL_REMAINING_THREADS:return (c('React').createElement(c('ModularInboxRemainingThreadsModule.react'),{remainingThreadsData:s.node,key:s.node.id,activeThreadID:this.props.activeThreadID,focusedThreadID:this.props.focusedThreadID,isThreadActionMenuFocused:this.props.isThreadActionMenuFocused,onFocusHandler:this.props.onFocusHandler,onScrollIntoViewHandler:this.props.onScrollIntoViewHandler,registerModularInboxData:this.props.registerModularInboxData,threads:this.props.threads.slice(this.state.numRecentThreads,this.props.threads.length),viewer:this.props.viewer}));default:return null;}}.bind(this));return (c('React').createElement(c('MessengerResponsiveBlock.react'),{breakpointsToggles:function s(t){return [t];}},function(s){var t=s[0];if(t===null)return null;if(t>m){return (c('React').createElement('div',null,r));}else return this.renderLegacyThreadlist();}.bind(this)));};o.prototype.renderLegacyThreadlist=function(){var q=this.props.threads.map(function(r){return (c('React').createElement(c('MessengerThreadlistRowContainer.react'),{isActive:r.thread_id===this.props.activeThreadID,isFocused:r.thread_id===this.props.focusedThreadID,isActionsFocused:this.props.isThreadActionMenuFocused,isTabbable:!!(r.thread_id===this.props.activeThreadID&&!this.props.focusedThreadID)||r.thread_id===this.props.focusedThreadID,key:r.thread_id,onFocus:this.props.onFocusHandler,onScrollIntoView:this.props.onScrollIntoViewHandler,thread:r,viewer:this.props.viewer}));}.bind(this));return (c('React').createElement('div',null,q));};o.propTypes={messengerModules:j.object.isRequired,activeThreadID:j.string,focusedThreadID:j.string,isThreadActionMenuFocused:j.bool.isRequired,onFocusHandler:j.func.isRequired,onScrollIntoViewHandler:j.func.isRequired,registerModularInboxData:j.func.isRequired,threads:j.arrayOf(j.instanceOf(c('ImmutableObject'))).isRequired,viewer:j.string.isRequired};var p=function q(){this.$ModularInboxView2=function(){var r=this.state.numDisplayedModules;this.setState({numDisplayedModules:r-1});}.bind(this);};f.exports=c('Relay').createContainer(o,{fragments:{messengerModules:function q(){return function(r,s,t,u,v,w){return {children:[{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallValue',callValue:10}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'max_hours_back',kind:'Field',metadata:{},type:'Int'},{fieldName:'min_num_threads_to_show',kind:'Field',metadata:{},type:'Int'},{fieldName:'max_num_threads_to_show',kind:'Field',metadata:{},type:'Int'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerInbox2RecentUnitConfig',type:'MessengerInbox2RecentUnitConfig'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],fieldName:'messenger_inbox_unit_config',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true},type:'MessengerInboxUnitConfig'},c('RelayQL').__frag(r),c('RelayQL').__frag(s),c('RelayQL').__frag(t),c('RelayQL').__frag(u),c('RelayQL').__frag(v),c('RelayQL').__frag(w)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessengerInboxUnit'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessengerInboxUnitsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'messenger_inbox_units',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'MessengerInboxUnitsConnection'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxView_react_MessengerModulesRelayQL',type:'Viewer'};}(c('ModularInboxRecentThreadsModule.react').getFragment('recentThreadsData'),c('ModularInboxRemainingThreadsModule.react').getFragment('remainingThreadsData'),c('ModularInboxModuleHeader.react').getFragment('headerData'),c('ModularInboxFavoritesModule.react').getFragment('favoritesData'),c('ModularInboxBirthdaysModule.react').getFragment('birthdayData'),c('ModularInboxActiveNowModule.react').getFragment('activeNowData'));}}});}),null);
__d('ModularInboxViewRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='ModularInboxViewRoute';j.queries={messengerModules:function k(l){return function(m){return {children:[].concat.apply([],[c('RelayQL').__frag(m)]),fieldName:'viewer',kind:'Query',metadata:{},name:'ModularInboxViewRoute',type:'Viewer'};}(l.getFragment('messengerModules'));}};f.exports=j;}),null);
__d('ModularInboxViewContainer.react',['cx','ImmutableObject','MessengerSpinner.react','ModularInboxView.react','ModularInboxViewRoute','React','Relay'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('Relay').RootContainer,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$ModularInboxViewContainer1=function(s){return (c('React').createElement(c('ModularInboxView.react'),babelHelpers['extends']({},s,this.props)));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(k,{Component:c('ModularInboxView.react'),route:new (c('ModularInboxViewRoute'))(),renderFetched:this.$ModularInboxViewContainer1,renderLoading:function n(){return c('React').createElement('div',{className:"_o__"},c('React').createElement(c('MessengerSpinner.react'),{color:'grey',size:c('MessengerSpinner.react').Sizes.MEDIUM}));},renderFailure:this.$ModularInboxViewContainer2});};m.prototype.$ModularInboxViewContainer2=function(){return null;};m.PropTypes={activeThreadID:l.string,focusedThreadID:l.string,isThreadActionMenuFocused:l.bool.isRequired,onFocusHandler:l.func.isRequired,onScrollIntoViewHandler:l.func.isRequired,registerModularInboxData:l.func.isRequired,threads:l.arrayOf(l.instanceOf(c('ImmutableObject'))).isRequired,viewer:l.string.isRequired};f.exports=m;}),null);
__d('MessengerThreadlist.react',['csx','cx','fbt','invariant','ChatSidebarSheet.react','ImmutableObject','KeyEventController','Link.react','MercuryFilters','MercuryThreadInfo','MessagingTag','MessengerActions','MessengerComposerActions','MessengerConfig','MessengerDialogStore','MessengerFlexScrollableArea.react','MessengerInbox2UnitType','MessengerGraphQLSearchTypeahead.react','MessengerMessageRequestsInfo.react','MessengerNewMessagesNotice.react','MessengerSpinner.react','MessengerThreadlistLinkRow.react','MessengerThreadlistMessageRequestsRow.react','MessengerThreadlistNewMessageRow.react','MessengerThreadlistRowContainer.react','MessengerThreadSearchStore','MessengerTypeaheadUtils','MessengerView','ModularInboxLogger','ModularInboxViewContainer.react','Parent','React','StoreAndPropBasedStateMixin','SubscriptionsHandler','debounce'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=10,n=64;function o(r,s,t){if(!(r&&s))return false;var u=r[0]||0,v=s[0]||0;return !!(u&&v&&u.unread_count&&u.thread_id!==t&&(u.unread_count!==v.unread_count||u!==v)&&!c('MercuryThreadInfo').isMuted(u));}function p(event,r){return !!(!event.ctrlKey&&!event.metaKey&&!event.shiftKey&&c('KeyEventController').filterEventTypes(event,r)&&c('KeyEventController').filterEventTargets(event,r)&&!c('Parent').bySelector(event.getTarget(),"._150g"));}var q=c('React').createClass({displayName:'MessengerThreadlist',mixins:[c('StoreAndPropBasedStateMixin')(c('MessengerDialogStore'),c('MessengerThreadSearchStore'))],propTypes:{activeThreadID:l.string,filter:l.string.isRequired,folder:l.string.isRequired,isComposing:l.bool,isLoaded:l.bool,isLoading:l.bool,isNewMessageActive:l.bool,newMessageRequestThreads:l.arrayOf(l.instanceOf(c('ImmutableObject'))).isRequired,onLoadMoreRequest:l.func,renderLoadMore:l.func,threads:l.arrayOf(l.instanceOf(c('ImmutableObject'))).isRequired,viewer:l.string.isRequired},statics:{calculateState:function r(s){return {dialogShown:!!c('MessengerDialogStore').getState().dialogClass};}},_moduleData:{},_subscriptions:null,getInitialState:function r(){return {focusedThreadID:null,isSearchFocused:false,isThreadActionMenuFocused:false,queryString:'',searchResults:[],showNewMessagesNotice:false};},componentDidMount:function r(){var s=new (c('SubscriptionsHandler'))();s.addSubscriptions(c('KeyEventController').registerKey('UP',function(t){return this._handleArrowKey(-1,t);}.bind(this),p),c('KeyEventController').registerKey('DOWN',function(t){return this._handleArrowKey(1,t);}.bind(this),p),c('KeyEventController').registerKey('PAGE_UP',function(t){return this._handleArrowKey(-5,t);}.bind(this)),c('KeyEventController').registerKey('PAGE_DOWN',function(t){return this._handleArrowKey(5,t);}.bind(this)),c('KeyEventController').registerKey('HOME',function(t){return this._handleArrowKey(-this.props.threads.length,t);}.bind(this)),c('KeyEventController').registerKey('END',function(t){return this._handleArrowKey(this.props.threads.length,t);}.bind(this)),c('KeyEventController').registerKey('LEFT',function(t){return this._handleActionsFocus(false,t);}.bind(this)),c('KeyEventController').registerKey('RIGHT',function(t){return this._handleActionsFocus(true,t);}.bind(this)));this._subscriptions=s;if(c('MessengerConfig').ShowModularInbox)this._checkAndUpdateModuleImpressions=c('debounce')(this._checkAndUpdateModuleImpressions,250,this);},componentWillUnmount:function r(){this._subscriptions&&this._subscriptions.release();},componentWillReceiveProps:function r(s){var t=this.refs.scrollable.isScrolledToTop();if(!t&&o(s.threads,this.props.threads,s.activeThreadID)){this.setState({queryString:s.queryString||this.state.queryString,showNewMessagesNotice:true});}else this.setState({queryString:s.queryString||this.state.queryString,showNewMessagesNotice:this.state.showNewMessagesNotice&&!t});},componentDidUpdate:function r(s,t){if(this.state.isSearchFocused!==t.isSearchFocused||this.props.isComposing&&!s.isComposing)this.refs.scrollable&&this.refs.scrollable.scrollToTop();},render:function r(){var s=this.state.showNewMessagesNotice&&!this.state.isSearchFocused,t=j._("Conversaciones"),u=j._("Lista de conversaciones"),v={className:"_5iwm"+(this.state.isSearchFocused||!!this.state.queryString?' '+"_5iwn":'')+(' '+"_150g"),enableMessageSearch:true,hasHoverState:false,placeholder:j._("Buscar en Messenger"),excludeGroups:false,excludePages:false,shouldQueryInternalBot:true,shouldQueryVCEndpoint:true,typeaheadViewClassName:"_11_d"},w=this.props.queryString!=null;return (c('React').createElement('div',{className:"_2xhi"},c('React').createElement(c('ChatSidebarSheet.react'),{className:"_p0g"}),c('React').createElement(c('MessengerNewMessagesNotice.react'),{isOpen:s,onClick:this._handleNewMessageNoticeClick}),c('React').createElement(c('MessengerFlexScrollableArea.react'),{onScroll:this._handleScroll,ref:'scrollable'},this.props.folder===c('MessagingTag').INBOX?c('React').createElement(c('MessengerGraphQLSearchTypeahead.react'),babelHelpers['extends']({hideClearButton:this.state.queryString===''&&!w,hideResults:w,isFocused:this.state.isSearchFocused,onBlur:this._handleBlur,onChange:this._handleChange,onClear:this._handleClear,onFocus:this._handleFocus,onScrollIntoView:this._handleScrollIntoView,onSelect:c('MessengerActions').selectThread,queryString:this.state.queryString,viewer:this.props.viewer},v)):null,this.props.folder===c('MessagingTag').PENDING?c('React').createElement(c('MessengerMessageRequestsInfo.react'),null):null,c('React').createElement('div',{'aria-label':t,className:this.state.isSearchFocused&&!w?"accessible_elem":'',role:'navigation'},c('React').createElement('h2',{className:"accessible_elem"},u),c('React').createElement('ul',{'aria-label':u,className:"_48e9",role:'grid'},this.props.folder===c('MessagingTag').INBOX&&this.props.newMessageRequestThreads.length?c('React').createElement(c('MessengerThreadlistMessageRequestsRow.react'),{newMessageRequestThreads:this.props.newMessageRequestThreads,viewer:this.props.viewer}):null,this.props.isComposing?c('React').createElement(c('MessengerThreadlistNewMessageRow.react'),{isActive:this.props.isNewMessageActive,onClose:this._handleCloseNewMessage}):null,this._renderInbox(w),this.props.folder===c('MessagingTag').PENDING?c('React').createElement(c('MessengerThreadlistLinkRow.react'),{onClick:this._handleFilteredRequestsClick},j._("Ver solicitudes filtradas")):null),this.props.renderLoadMore?this.props.renderLoadMore():this._renderLoadMoreLink()))));},_renderInbox:function r(s){if(this.props.threads.length===0)return this._renderLegacyInbox();if(s)return this._renderLegacyInbox();if(this.props.folder===c('MessagingTag').INBOX&&this.props.filter===c('MercuryFilters').ALL)if(c('MessengerConfig').ShowModularInbox){return this._renderInbox2();}else return this._renderLegacyInbox();return this._renderLegacyInbox();},_renderLegacyInbox:function r(){return (c('React').createElement('div',null,this.props.threads.map(function(s){return this._renderThread(s);}.bind(this))));},_renderInbox2:function r(){return (c('React').createElement(c('ModularInboxViewContainer.react'),{activeThreadID:this.props.activeThreadID,focusedThreadID:this.state.focusedThreadID,isThreadActionMenuFocused:this.state.isThreadActionMenuFocused,onFocusHandler:this._handleThreadFocus,onScrollIntoViewHandler:this._handleScrollIntoView,registerModularInboxData:this._registerModularInboxData,threads:this.props.threads,viewer:this.props.viewer}));},_renderThread:function r(s){return (c('React').createElement(c('MessengerThreadlistRowContainer.react'),{isActive:s.thread_id===this.props.activeThreadID,isFocused:s.thread_id===this.state.focusedThreadID,isActionsFocused:this.state.isThreadActionMenuFocused,isTabbable:!!(s.thread_id===this.props.activeThreadID&&!this.state.focusedThreadID)||s.thread_id===this.state.focusedThreadID,key:s.thread_id,onFocus:this._handleThreadFocus,onScrollIntoView:this._handleScrollIntoView,thread:s,viewer:this.props.viewer}));},_renderLoadMoreLink:function r(){if(this.props.isLoaded)return null;if(this.props.isLoading)return (c('React').createElement('div',{className:"_19hf"},c('React').createElement(c('MessengerSpinner.react'),null)));return (c('React').createElement('div',{className:"_19hf"},c('React').createElement(c('Link.react'),{href:'#',onClick:this._handleLoadMoreClick,tabIndex:-1},j._("Mostrar mensajes anteriores"))));},_handleScroll:function r(){if(this.state.isSearchFocused&&this.props.isLoaded)return;if(this.refs.scrollable.isScrolledToBottom())this.props.onLoadMoreRequest&&this.props.onLoadMoreRequest();if(this.refs.scrollable.isScrolledToTop()&&this.state.showNewMessagesNotice)this.setState({showNewMessagesNotice:false});if(c('MessengerConfig').ShowModularInbox)this._checkAndUpdateModuleImpressions();},_checkAndUpdateModuleImpressions:function r(){var s=this.refs.scrollable.getArea().getElement().getBoundingClientRect();for(var t in this._moduleData){var u=this._moduleData[t],v=u.ref.getBoundingClientRect();if(s.bottom-v.top>n&&v.bottom-s.top>n){var w=[];if(t===c('MessengerInbox2UnitType').PYMM||t===c('MessengerInbox2UnitType').ACTIVE_NOW){for(var x in u.refs){var y=u.refs[x].getBoundingClientRect();if(y.right<s.right&&y.left>s.left)w.push(x);}}else for(var z in u.refs){var aa=u.refs[z].getBoundingClientRect();if(aa.top>s.top-m&&aa.bottom<s.bottom+m)w.push(z);}c('ModularInboxLogger').logItemImpression(u.loggingData,t,w);}}},_registerModularInboxData:function r(s,t){this._moduleData[s]=t;},_handleLoadMoreClick:function r(s){s.preventDefault();this.props.onLoadMoreRequest&&this.props.onLoadMoreRequest();},_handleNewMessageNoticeClick:function r(s){s.preventDefault();this.setState({showNewMessagesNotice:false});this.refs.scrollable.scrollToTop();},_handleArrowKey:function r(s,event){if(event.altKey&&c('Parent').bySelector(event.target,"._4rv3")){if(this.state.dialogShown)return;if(this.props.isNewMessageActive){if(s===1&&this.props.threads[0])c('MessengerActions').selectThread(this.props.threads[0].thread_id);return;}var t=this.props.threads.findIndex(function(v){return v.thread_id===this.props.activeThreadID;}.bind(this));if(t===-1)return;var u=this.props.threads[t+s];if(u){c('MessengerActions').selectThread(u.thread_id);}else if(this.props.isComposing&&t===0&&s===-1)c('MessengerActions').changeDetailView(c('MessengerView').DETAIL.COMPOSE);if(t===this.props.threads.length-1)this.props.onLoadMoreRequest&&this.props.onLoadMoreRequest();}else if(this.state.focusedThreadID&&c('Parent').bySelector(event.target,"._1ht1")){event.preventDefault();this._updateThreadFocus(s);}},_handleActionsFocus:function r(s,event){event.preventDefault();this.setState({isThreadActionMenuFocused:s});},_handleThreadFocus:function r(s){this.setState({focusedThreadID:s});},_updateThreadFocus:function r(s){var t=-1;this.props.threads.some(function(v,w){if(v.thread_id===this.state.focusedThreadID){t=w;return true;}}.bind(this));var u=Math.min(Math.max(0,t+s),this.props.threads.length-1);this.setState({focusedThreadID:this.props.threads[u].thread_id});},_handleFocus:function r(){this.setState({isSearchFocused:true});},_handleBlur:function r(){this.setState({isSearchFocused:false,queryString:''});},_handleChange:function r(event){!(event.target instanceof HTMLInputElement)?k(0):void 0;this.setState({queryString:event.target.value});},_handleClear:function r(){this.setState({queryString:''});this.props.clearQuery&&this.props.clearQuery();},_handleScrollIntoView:function r(s){c('MessengerTypeaheadUtils').scrollEntryIntoView(s,this.refs.scrollable);},_handleCloseNewMessage:function r(s){s.stopPropagation();c('MessengerComposerActions').exitComposeState();if(this.props.isNewMessageActive){var t=this.props.threads.find(function(u){return u.unread_count===0;});c('MessengerActions').selectThread(t?t.thread_id:null);}},_handleFilteredRequestsClick:function r(s){s.preventDefault();c('MessengerActions').changeFolder(c('MessagingTag').OTHER);}});f.exports=q;}),null);
__d('MessengerRecentContainer.react',['MercuryAPIArgsSource','MercuryThreadlistContainer.react','MessengerComposerSteps','MessengerComposerStore','MessengerThreadlist.react','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerRecentContainer',mixins:[c('PureStoreBasedStateMixin')(c('MessengerComposerStore'))],propTypes:{activeThreadID:h.string,filter:h.string.isRequired,folder:h.string.isRequired,viewer:h.string.isRequired},statics:{calculateState:function j(){return {isComposing:c('MessengerComposerStore').getState().step!==c('MessengerComposerSteps').NULL};}},render:function j(){return (c('React').createElement(c('MercuryThreadlistContainer.react'),{ChildClass:c('MessengerThreadlist.react'),activeThreadID:this.props.activeThreadID,filter:this.props.filter,folder:this.props.folder,isComposing:this.state.isComposing,isNewMessageActive:this.props.isNewMessageActive,source:c('MercuryAPIArgsSource').WEBMESSENGER,viewer:this.props.viewer}));}});f.exports=i;}),null);
__d('MessengerSearchContainer.react',['cx','fbt','Link.react','MessengerActions','MessengerDialogStore','MessengerSpinner.react','MessengerThreadlist.react','MessengerThreadSearchActions','MessengerThreadSearchStore','MessengerView','React','SubscriptionsHandler','StoreAndPropBasedStateMixin','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'MessengerSearchContainer',mixins:[c('StoreAndPropBasedStateMixin')(c('MessengerDialogStore'),c('MessengerThreadSearchStore'))],propTypes:{activeThreadID:j.string,filter:j.string.isRequired,folder:j.string.isRequired,isComposing:j.bool,isLoaded:j.bool,isLoading:j.bool,isNewMessageActive:j.bool,viewer:j.string.isRequired},statics:{calculateState:function l(m){var n=c('MessengerThreadSearchStore').getState();return {dialogShown:!!c('MessengerDialogStore').getState().dialogClass,threads:n.threads?n.threads.toArray():[],threadsExhausted:n.threadsExhausted,loading:n.loading,query:n.query};}},_subscriptions:null,render:function l(){return (c('React').createElement(c('MessengerThreadlist.react'),babelHelpers['extends']({},this.props,{clearQuery:this._handleClear,isLoaded:!this.state.loading&&!!this.state.threads,isLoading:this.state.loading,isSearching:false,newMessageRequestThreads:[],onLoadMoreRequest:c('MessengerThreadSearchActions').loadMoreThreads,onQuery:c('MessengerActions').changeQueryAll,onSearchResults:c('emptyFunction'),p2pJewelBannerContainer:null,queryString:this.state.query,renderLoadMore:this._renderLoadMoreLink,threads:this.state.threads})));},_renderLoadMoreLink:function l(){if(this.state.threadsExhausted)return (c('React').createElement('div',{className:"_19hf"},c('React').createElement(c('Link.react'),{href:'#',onClick:this._handleClear},i._("No se encontraron conversaciones"))));if(this.state.loading)return (c('React').createElement('div',{className:"_19hf"},c('React').createElement(c('MessengerSpinner.react'),null)));return (c('React').createElement('div',{className:"_19hf"},c('React').createElement(c('Link.react'),{href:'#',onClick:c('MessengerThreadSearchActions').loadMoreThreads,tabIndex:-1},i._("Cargar m\u00e1s"))));},_handleClear:function l(){c('MessengerActions').changeMasterView(c('MessengerView').MASTER.RECENT);}});f.exports=k;}),null);
__d('MessengerMasterView.react',['cx','BootloadOnRender.react','JSResource','LazyComponent.react','MessengerBackToFacebookBanner.react','MessengerMasterViewHeader.react','MessengerRecentContainer.react','MessengerSearchContainer.react','MessengerSpinner.react','MessengerView','React','MessengerRedirectSource'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement('div',null,this.props.redirectSource===c('MessengerRedirectSource').FB?c('React').createElement(c('MessengerBackToFacebookBanner.react'),{facebookNotificationTokens:this.props.facebookNotificationTokens}):null,c('React').createElement(c('MessengerMasterViewHeader.react'),{filter:this.props.filter,folder:this.props.folder,view:this.props.view,viewer:this.props.viewer}),this.$MessengerMasterView1()));};l.prototype.$MessengerMasterView1=function(){switch(this.props.view){case c('MessengerView').MASTER.PEOPLE:return (c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{activeThreadID:this.props.detailView!==c('MessengerView').DETAIL.COMPOSE?this.props.activeThreadID:null,viewer:this.props.viewer}),loader:c('JSResource')('MessengerPeopleList.react').__setRef('MessengerMasterView.react'),placeholder:c('React').createElement('div',{className:"_2pif",style:{textAlign:'center'}},c('React').createElement(c('MessengerSpinner.react'),null))}));case c('MessengerView').MASTER.RECENT:return (c('React').createElement(c('MessengerRecentContainer.react'),{activeThreadID:this.props.activeThreadID,filter:this.props.filter,folder:this.props.folder,isNewMessageActive:this.props.detailView===c('MessengerView').DETAIL.COMPOSE,viewer:this.props.viewer}));case c('MessengerView').MASTER.SEARCH:return (c('React').createElement(c('MessengerSearchContainer.react'),{activeThreadID:this.props.activeThreadID,filter:this.props.filter,folder:this.props.folder,isNewMessageActive:this.props.detailView===c('MessengerView').DETAIL.COMPOSE,viewer:this.props.viewer}));default:throw new Error('Unknown master view: '+this.props.view);}};function l(){i.apply(this,arguments);}l.propTypes={activeThreadID:k.string,detailView:k.string,facebookNotificationTokens:k.arrayOf(k.string),filter:k.string,folder:k.string.isRequired,redirectSource:k.string,view:k.string.isRequired,viewer:k.string.isRequired};f.exports=l;}),null);
__d('P2PDialogStore',['EventEmitter','P2PActionConstants','P2PDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=void 0,k={};h=babelHelpers.inherits(l,c('EventEmitter'));i=h&&h.prototype;function l(){i.constructor.call(this);j=c('P2PDispatcher').register(this.onEventDispatched.bind(this));k={dialogClass:null,dialogProps:null};}l.prototype.getState=function(){return k;};l.prototype.onEventDispatched=function(m){var n=m.type,o=m.data;switch(n){case c('P2PActionConstants').DIALOG_SHOWN:k.dialogClass=o.dialogClass;k.dialogProps=o.dialogProps;this.emit('change');break;case c('P2PActionConstants').DIALOG_CLOSED:k.dialogClass=null;k.dialogProps=null;this.emit('change');break;}};f.exports=new l();}),null);
__d('P2PDialogContainer.react',['P2PDialogStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state=c('P2PDialogStore').getState(),this.onDialogStoreChange=function(){this.setState(c('P2PDialogStore').getState());}.bind(this),l;}j.prototype.componentDidMount=function(){this.dialogStoreSub=c('P2PDialogStore').addListener('change',this.onDialogStoreChange);};j.prototype.componentWillUnmount=function(){if(this.dialogStoreSub){this.dialogStoreSub.remove();this.dialogStoreSub=null;}};j.prototype.render=function(){if(!this.state.dialogClass)return null;var k=this.state.dialogClass;return c('React').createElement(k,babelHelpers['extends']({},this.state.dialogProps,{key:'dialog'}));};f.exports=j;}),null);
__d('PagesPlatformActionConstants',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={BOOKING_REQUEST_ACCEPT_ERROR:'booking_request_accept_error',BOOKING_REQUEST_ACCEPT_INITIATED:'booking_request_accept_initiated',BOOKING_REQUEST_ACCEPTED:'booking_request_accepted',BOOKING_REQUEST_CREATED:'booking_request_created',BOOKING_REQUEST_DECLINE_ERROR:'booking_request_decline_error',BOOKING_REQUEST_DECLINE_INITIATED:'booking_request_decline_initiated',BOOKING_REQUEST_DECLINED:'booking_request_declined',BOOKING_REQUEST_RESCHEDULE_INITIATED:'booking_request_reschedule_initiated',BOOKING_REQUEST_RESCHEULED:'booking_request_reschedule',DIALOG_CLOSED:'dialog_closed',DIALOG_SHOWN:'dialog_shown',NEW_TIME_CHOSEN:'new_time_chosen'};f.exports=h;}),null);
__d('PagesPlatformRequestDispatcher',['Dispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new (c('Dispatcher_DEPRECATED'))();}),null);
__d('PagesPlatformDialogStore',['EventEmitter','PagesPlatformActionConstants','PagesPlatformRequestDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j={};h=babelHelpers.inherits(k,c('EventEmitter'));i=h&&h.prototype;function k(){i.constructor.call(this);c('PagesPlatformRequestDispatcher').register(this.onEventDispatched.bind(this));j={dialogClass:null,dialogProps:null};}k.prototype.getState=function(){return j;};k.prototype.onEventDispatched=function(l){var m=l.type,n=l.data;switch(m){case c('PagesPlatformActionConstants').DIALOG_SHOWN:j.dialogClass=n.dialogClass;j.dialogProps=n.dialogProps;this.emit('change');break;case c('PagesPlatformActionConstants').DIALOG_CLOSED:j.dialogClass=null;j.dialogProps=null;this.emit('change');break;}};f.exports=new k();}),null);
__d('PagesPlatformDialogContainer.react',['PagesPlatformDialogStore','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'PagesPlatformDialogContainer',mixins:[c('PureStoreBasedStateMixin')(c('PagesPlatformDialogStore'))],statics:{calculateState:function i(){return c('PagesPlatformDialogStore').getState();}},render:function i(){if(!this.state.dialogClass)return null;var j=this.state.dialogClass;return c('React').createElement(j,babelHelpers['extends']({},this.state.dialogProps,{key:'dialog'}));}});f.exports=h;}),null);
__d('MessengerMount',['cx','CSS','ChannelConnection','CurrentUser','HotLikeSound','MercuryBlockedParticipants','MercuryChannelHandlerDEPRECATED','MercuryDelayedRoger','MercuryDeliveryReceipts','MercuryDeliveryState','MercuryOrderedThreadlist','MercuryParticipants','MercuryServerPayloadPreprocessor','MercurySyncEnvironment','MercuryThreads','MercuryThreadIDMap','MercuryUnreadState','MercuryUnseenState','messengerReact','MessengerActions','MessengerComposerActions','MessengerBrowserAlerts','MessengerComposerStore','MessengerConfig','MessengerEnvironment','MessengerMDotMeReferralStore','MessengerPage','MessengerRTCMessageHandler','MessengerSettingsStore','MessengerStateStore','MessengerThreadSearchStore','MessengerURIListener','MessengerURIConstants','MessengerView','OmniMStore','React','ReactDOM','MercuryConfig','ServiceWorkerRegistration','URI','goURI','OrderedFriendsList','PageHooks','ChannelManager'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('MercuryDelayedRoger').get(),j=c('messengerReact').comp;c('OrderedFriendsList');c('PageHooks');c('ChannelManager');var k={mount:function o(p,q){c('MessengerEnvironment').setMessengerUI(true);c('MessengerPage').emit(c('MessengerPage').Events.JS_LOADED);var r=c('CurrentUser').getID();l(r);m(r);n(r,q);c('MessengerPage').emit(c('MessengerPage').Events.DATA_INITIALIZED);c('CSS').addClass(document.documentElement,"_51l0");c('CSS').addClass(document.body,"_z4_");if(c('MessengerConfig').FlexBubblesEnabled)c('CSS').addClass(document.body,"_5v7-");if(c('MessengerConfig').SFFontEnabled)c('CSS').addClass(document.body,"__6g");if(c('MessengerConfig').SegoeUIDisabled)c('CSS').addClass(document.body,"_2por");c('HotLikeSound').setCheckSoundEnabledFunc(function(){return c('MessengerSettingsStore').getSettings().sound_enabled;});c('ReactDOM').render(c('React').createElement(j,{employeeData:q.employeeData,facebookNotificationTokens:q.facebookNotificationTokens,mobileAppInfo:q.mobileAppInfo,promotionData:q.promotionData,isFirstRedirect:!c('MercuryConfig').MessengerDotComUser,redirectSource:q.redirectSource,viewer:r}),p,function(){c('MessengerPage').emit(c('MessengerPage').Events.APP_MOUNTED);});if(q.MessengerServiceWorkerAction==='install'&&q.serviceWorker){c('ServiceWorkerRegistration').registerWorkerIfUnregistered(q.serviceWorker);}else if(q.MessengerServiceWorkerAction==='remove')c('ServiceWorkerRegistration').unregisterControllingWorker();}};function l(o){i;c('MercuryDeliveryReceipts').getForFBID(o);c('MercuryDeliveryState').getForFBID(o);c('MercuryOrderedThreadlist').getForFBID(o);c('MercuryParticipants');c('MercuryBlockedParticipants').getForFBID(o);c('MercuryThreads').getForFBID(o);c('MercuryUnreadState').getForFBID(o);c('MercuryUnseenState').getForFBID(o);c('MessengerComposerStore');c('MessengerMDotMeReferralStore');c('MessengerSettingsStore');c('MessengerStateStore');c('MessengerThreadSearchStore').getForFBID(o);}function m(o){c('MessengerURIListener').start();c('MercuryChannelHandlerDEPRECATED').getForFBID(o).turnOn();c('MercurySyncEnvironment').setUp();c('MessengerBrowserAlerts').init(o);c('MessengerRTCMessageHandler').init();c('ChannelConnection');c('OmniMStore').setUp();}function n(o,p){var q=c('MercuryServerPayloadPreprocessor').getForFBID(o);q.handleUpdate(p.mercuryPayload);var r=new (c('URI'))(window.location.href);c('goURI')(r);if(r.getPath().endsWith(c('MessengerURIConstants').COMPOSE_SUBPATH))return;c('MessengerActions').changeMDotMeReferral(p.mDotMeReferral,p.mDotMeReferralThreadKey);var s=c('MercuryThreadIDMap').get(),t=s.getClientIDFromServerIDNow(p.lastReadThreadKey);if(t){c('MessengerComposerActions').exitComposeState();c('MessengerActions').selectThread(t);}else if(r.getPath()==='/')c('MessengerActions').changeDetailView(c('MessengerView').DETAIL.COMPOSE);}f.exports=k;}),null);
__d('MessengerWorkAvailabilityStatus.react',['fbt','React','AsyncRequest'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k='/ajax/mercury/bypass_focus_mode.php';i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.displayFocusBanner=function(m,n){var o=false;n.forEach(function(p){if(!p||p.fbid===m)return;o=o||p.is_user_focusing;});return !!o;};l.prototype.$MessengerWorkAvailabilityStatus1=function(){new (c('AsyncRequest'))(k).setData({thread_fbid:this.props.thread.thread_fbid,other_user_fbid:this.props.thread.other_user_fbid,new_setting:true}).send();};l.prototype.render=function(){var m=this.props,n=m.viewer,o=m.thread,p=m.participants,q=l.displayFocusBanner(n,p);if(!q)return null;if(o&&o.bypass_focus_mode_until&&o.bypass_focus_mode_until>Date.now()/1000)return (c('React').createElement('div',{className:this.props.className},h._("Se ignor\u00f3 el modo no molestar.")));var r=p.size>2?'coworkers are':'coworker is';return (c('React').createElement('div',{className:this.props.className},h._("Tu {coworkerText} est\u00e1 en modo no molestar.",[h.param('coworkerText',r)]),' ',c('React').createElement('a',{href:'#',onClick:function(){return this.$MessengerWorkAvailabilityStatus1();}.bind(this)},h._("Omitir"))));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('MercuryMessagePayload',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();}),null);
__d('KillabyteHTMLXHPTemplateProcessor',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=function(h){var i=[h];while(i.length){var j=i.pop();if(j.removeAttribute)j.removeAttribute('data-from-server');if(j.childNodes)i.push.apply(i,j.childNodes);}return h;};}),null);
__d('XHPTemplate',['DataStore','DOM','HTML','XHPTemplateProcessor'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('XHPTemplateProcessor').processor;function i(k){'use strict';if(h instanceof Function)k=h(k);this._model=k;}i.prototype.render=function(){'use strict';if(c('HTML').isHTML(this._model))this._model=c('DOM').setContent(document.createDocumentFragment(),this._model)[0];return this._model.cloneNode(true);};i.prototype.build=function(){'use strict';return new j(this.render());};i.getNode=function(k,l){'use strict';return i.getNodes(k)[l];};i.getNodes=function(k){'use strict';var l=c('DataStore').get(k,'XHPTemplate:nodes');if(!l){l={};var m=c('DOM').scry(k,'[data-jsid]');m.push(k);var n=m.length;while(n--){var o=m[n];l[o.getAttribute('data-jsid')]=o;o.removeAttribute('data-jsid');}c('DataStore').set(k,'XHPTemplate:nodes',l);}return l;};function j(k){'use strict';this._root=k;this._populateNodes();}j.prototype._populateNodes=function(){'use strict';this._nodes={};this._leaves={};var k=this._root.getElementsByTagName('*');for(var l=0,m=k.length;l<m;l++){var n=k[l],o=n.getAttribute('data-jsid');if(o){n.removeAttribute('data-jsid');this._nodes[o]=n;this._leaves[o]=!n.childNodes.length;}}};j.prototype.getRoot=function(){'use strict';return this._root;};j.prototype.getNode=function(k){'use strict';return this._nodes[k];};j.prototype.setNodeProperty=function(k,l,m){'use strict';this.getNode(k)[l]=m;return this;};j.prototype.setNodeContent=function(k,l){'use strict';if(!this._leaves[k])throw new Error("Can't setContent on non-leaf node: "+k);c('DOM').setContent(this.getNode(k),l);return this;};f.exports=i;}),null);
__d('SimpleFBAuthenticatedXHRRequest',['invariant','CurrentUser','DTSG','ServerJSDefine','XHRRequest','isFacebookURI'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=1;i=babelHelpers.inherits(l,c('XHRRequest'));j=i&&i.prototype;function l(m,n){'use strict';j.constructor.call(this,m);var o={__dyn:c('ServerJSDefine').getLoadedModuleHash(),__req:(k++).toString(36),__ajax__:1,__a:1,__user:c('CurrentUser').getID()};j.setData.call(this,babelHelpers['extends']({},n,o));}l.prototype.send=function(){'use strict';if(!c('isFacebookURI')(this.getURI()))return j.send.call(this);if(c('DTSG').getCachedToken){var m=c('DTSG').getCachedToken();if(m){return this.sendOnDTSGToken(m);}else{c('DTSG').getToken().done(function(n){return this.sendOnDTSGToken(n);}.bind(this));return this;}}else this.sendOnDTSGToken(c('DTSG').getToken());};l.prototype.sendOnDTSGToken=function(m){'use strict';if(m)j.setData.call(this,babelHelpers['extends']({},this.getData(),{fb_dtsg:m}));return j.send.call(this);};l.prototype.setData=function(m){'use strict';h(0);};l.parseResponse=function(m){'use strict';return JSON.parse(m.substr(9));};l.getPayload=function(m){'use strict';var n=l.parseResponse(m).payload;return n.payload?n.payload:n;};f.exports=l;}),null);
__d("XFantailLogController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ajax\/fantail\/",{service:{type:"String",required:true}});}),null);
__d('FantailLogQueue',['ChannelClientID','CircularBuffer','destroyOnUnload','FantailConfig','PHPQuerySerializer','setIntervalAcrossTransitions','SimpleFBAuthenticatedXHRRequest','sprintf','XFantailLogController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DEBUG:'debug',INFO:'info',WARN:'warn',ERROR:'error'};function i(j){'use strict';this.$FantailLogQueue2=j;this.$FantailLogQueue3=new (c('CircularBuffer'))(c('FantailConfig').queueSize||200);c('setIntervalAcrossTransitions')(this.$FantailLogQueue4.bind(this),c('FantailConfig').flushInterval||30*1000);c('destroyOnUnload')(this.$FantailLogQueue4.bind(this));}i.get=function(j){'use strict';i.$FantailLogQueue1=i.$FantailLogQueue1||{};i.$FantailLogQueue1[j]=i.$FantailLogQueue1[j]||new i(j);return i.$FantailLogQueue1[j];};i.prototype.debug=function(j){'use strict';for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.DEBUG,j].concat(l));};i.prototype.info=function(j){'use strict';for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.INFO,j].concat(l));};i.prototype.warn=function(j){'use strict';for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.WARN,j].concat(l));};i.prototype.error=function(j){'use strict';for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.ERROR,j].concat(l));};i.prototype.$FantailLogQueue5=function(j,k){'use strict';for(var l=arguments.length,m=Array(l>2?l-2:0),n=2;n<l;n++)m[n-2]=arguments[n];var o=c('sprintf').apply(undefined,[k].concat(m));this.$FantailLogQueue3.write({log_time:Date.now(),log:o,severity:j,device_id:c('ChannelClientID').getID()});};i.prototype.$FantailLogQueue4=function(){'use strict';var j=this.$FantailLogQueue3.read();if(j.length>0){var k={log_time:[],log:[],severity:[],device_id:[]};j.forEach(function(m){k.log_time.push(m.log_time);k.log.push(m.log);k.severity.push(m.severity);k.device_id.push(m.device_id);});this.$FantailLogQueue3.clear();var l=c('XFantailLogController').getURIBuilder().setString('service',this.$FantailLogQueue2).getURI();new (c('SimpleFBAuthenticatedXHRRequest'))(l,k).setMethod('POST').setDataSerializer(c('PHPQuerySerializer').serialize).send();}};f.exports=i;}),null);